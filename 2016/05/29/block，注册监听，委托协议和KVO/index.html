<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>block，注册监听，委托协议和KVO | JackJin's 博客</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.1.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.2/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/2.2.3/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">block，注册监听，委托协议和KVO</h1><a id="logo" href="/.">JackJin's 博客</a><p class="description">一位脚踏实地，拥有梦想的90后，想要一直努力追上你！</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">block，注册监听，委托协议和KVO</h1><div class="post-meta">May 29, 2016<span> | </span><span class="category"><a href="/categories/IOS/">IOS</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-disqus-identifier="2016/05/29/block，注册监听，委托协议和KVO/" href="/2016/05/29/block，注册监听，委托协议和KVO/#disqus_thread" class="disqus-comment-count"></a><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#总结"><span class="toc-number">1.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#四者总体比较然后进行一一详解进行讲解："><span class="toc-number">2.</span> <span class="toc-text">四者总体比较然后进行一一详解进行讲解：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#block的来龙去脉："><span class="toc-number">3.</span> <span class="toc-text">block的来龙去脉：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#block在没有传入参数情况"><span class="toc-number">4.</span> <span class="toc-text">block在没有传入参数情况</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#block在有传入参数情况"><span class="toc-number">5.</span> <span class="toc-text">block在有传入参数情况</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#block在有传入参数情况-1"><span class="toc-number">6.</span> <span class="toc-text">block在有传入参数情况</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#block的使用方法-传入参数："><span class="toc-number">7.</span> <span class="toc-text">block的使用方法~传入参数：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#block的使用方法-使用外部参数参数："><span class="toc-number">8.</span> <span class="toc-text">block的使用方法~使用外部参数参数：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#block的使用方法-使用外部参数参数：-1"><span class="toc-number">9.</span> <span class="toc-text">block的使用方法~使用外部参数参数：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#block的使用方法-在（UIView）的动画中使用："><span class="toc-number">10.</span> <span class="toc-text">block的使用方法~在（UIView）的动画中使用：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#委托代理详解"><span class="toc-number">11.</span> <span class="toc-text">委托代理详解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#协议"><span class="toc-number">12.</span> <span class="toc-text">协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#委托"><span class="toc-number">13.</span> <span class="toc-text">委托</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#注册监听小试"><span class="toc-number">14.</span> <span class="toc-text">注册监听小试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#KVO简史"><span class="toc-number">15.</span> <span class="toc-text">KVO简史</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#简述block和delegation使用场景的比较"><span class="toc-number">16.</span> <span class="toc-text">简述block和delegation使用场景的比较</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-当在一个方法的参数中需要多个对象时使用delegation"><span class="toc-number">17.</span> <span class="toc-text">1.当在一个方法的参数中需要多个对象时使用delegation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-一个对象只能有一个delegation"><span class="toc-number">18.</span> <span class="toc-text">2. 一个对象只能有一个delegation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-一般delegation都有自己的而返回值"><span class="toc-number">19.</span> <span class="toc-text">3. 一般delegation都有自己的而返回值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-delegation偏向于使用的过程-VS-block偏向于使用结果"><span class="toc-number">20.</span> <span class="toc-text">4.delegation偏向于使用的过程 VS block偏向于使用结果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#参考："><span class="toc-number">21.</span> <span class="toc-text">参考：</span></a></li></ol></div></div><div class="post-content"><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>IOS中关于信息传递过程中经常会使用block，委托代理，NSNotification，KVO进行调用，但是查找资料后有些资料不是很全。</p>
<h3 id="四者总体比较然后进行一一详解进行讲解："><a href="#四者总体比较然后进行一一详解进行讲解：" class="headerlink" title="四者总体比较然后进行一一详解进行讲解："></a>四者总体比较然后进行一一详解进行讲解：</h3><p>block：一对一进行通信，比起其他三者更加简洁，但是事件比较多时可以使用delegate。<br>委托代理：和block一样是一对一，我们使用时要先进行协议方法然后实现协议代理，如果需要通信就需要实现代理。<br>NSNotification：在进行注册监听时，可以进行一对多的情况，一个进行注册可以多种情况下进行监听。<br>KVO：就是我们所说的键值监听模式，其主要是在KVC基础上完后才能。</p>
<p>以前读过一个砍柴的故事，如果我们想要追求搞得效率就要对所用到的工具了解，下面我们就开始磨我们搜中的刀。 </p>
<h3 id="block的来龙去脉："><a href="#block的来龙去脉：" class="headerlink" title="block的来龙去脉："></a>block的来龙去脉：</h3><p>block是IOS SDK 4.0中引入的，block在IOS中实际就是一个代码块，有点像C++中内联函数inline有点相似，最让人惊奇的是我们还可以向其传递参数。闲来没事想要知道block在C++中的具体实现就是用Clang编辑^{printf”Hello, World!”}()，此时我们在block仅仅是输出一个语句。<br>//hello.c是我们把想要编辑的内容放置的文件名称</p>
<h3 id="block在没有传入参数情况"><a href="#block在没有传入参数情况" class="headerlink" title="block在没有传入参数情况"></a>block在没有传入参数情况</h3><blockquote>
<p>$ clang -rewrite-objc hello.c </p>
</blockquote>
<p></p><p>在编译后再文件后会生成 hello.cpp文件</p><br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> __mian_block_impl_0 </span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">struct</span> __block_impl impl;</span><br><span class="line">  <span class="keyword">struct</span> __mian_block_desc_0* Desc;</span><br><span class="line"> __mian_block_impl_0(<span class="keyword">void</span> *fp, <span class="keyword">struct</span> __mian_block_desc_0 *desc, <span class="keyword">int</span> flags=<span class="number">0</span>)</span><br><span class="line"> &#123;    impl.isa = &amp;_NSConcreteStackBlock;</span><br><span class="line">          impl.Flags = flags;</span><br><span class="line">          impl.FuncPtr = fp;</span><br><span class="line">          Desc = desc;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">void</span> __mian_block_func_0(<span class="keyword">struct</span> __mian_block_impl_0 *__cself) </span><br><span class="line">&#123;</span><br><span class="line">     printf(<span class="string">"Hello, World!\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">struct</span> __mian_block_desc_0 &#123;</span><br><span class="line">  size_t reserved;</span><br><span class="line">  size_t Block_size;</span><br><span class="line">&#125; </span><br><span class="line">__mian_block_desc_0_DATA = &#123; <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> __mian_block_impl_0)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">int</span> mian()&#123;</span><br><span class="line">     ((<span class="keyword">void</span> (*)())&amp;__mian_block_impl_0((<span class="keyword">void</span> *)</span><br><span class="line">__mian_block_func_0, &amp;__mian_block_desc_0_DATA)) ();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">struct</span> IMAGE_INFO </span><br><span class="line">&#123; <span class="keyword">unsigned</span> version; <span class="keyword">unsigned</span> flag; &#125; </span><br><span class="line">_OBJC_IMAGE_INFO = &#123; <span class="number">0</span>, <span class="number">2</span> &#125;;</span><br></pre></td></tr></table></figure><p></p>
<p>上面的代码既是我们通过编译截取的hello.cpp的具体代码，根据上面代码我们可以看到block实际是struct结构。看出_mian_block_impl_0 其中传入其中也是block_impl&amp;mian_block_desc_0两个block，下面是_mian_block_impl_0的构造函数。</p>
<h3 id="block在有传入参数情况"><a href="#block在有传入参数情况" class="headerlink" title="block在有传入参数情况"></a>block在有传入参数情况</h3><blockquote>
<p>clang -rewrite-objc hello1.c</p>
</blockquote>
<p>同样在我们编译过后会生成hello.cpp</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> __mian_block_impl_0 &#123;</span><br><span class="line">  <span class="keyword">struct</span> __block_impl impl;</span><br><span class="line">  <span class="keyword">struct</span> __mian_block_desc_0* Desc;</span><br><span class="line">  <span class="keyword">float</span> perperson;</span><br><span class="line">  __mian_block_impl_0(<span class="keyword">void</span> *fp, <span class="keyword">struct</span> __mian_block_desc_0 </span><br><span class="line">*desc, <span class="keyword">float</span> _perperson, <span class="keyword">int</span> flags=<span class="number">0</span>) : perperson(_perperson)</span><br><span class="line"> &#123;</span><br><span class="line">    impl.isa = &amp;_NSConcreteStackBlock;</span><br><span class="line">    impl.Flags = flags;</span><br><span class="line">    impl.FuncPtr = fp;</span><br><span class="line">    Desc = desc;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">float</span> __mian_block_func_0(<span class="keyword">struct</span> __mian_block_impl_0 *__cself, </span><br><span class="line"><span class="keyword">int</span> totalNum) &#123;</span><br><span class="line">  <span class="keyword">float</span> perperson = __cself-&gt;perperson; <span class="comment">// bound by copy</span></span><br><span class="line">        <span class="keyword">return</span> perperson * totalNum;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">struct</span> __mian_block_desc_0 &#123;</span><br><span class="line">  size_t reserved;</span><br><span class="line">  size_t Block_size;</span><br><span class="line">&#125;</span><br><span class="line"> __mian_block_desc_0_DATA = &#123; <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> __mian_block_impl_0)&#125;;</span><br><span class="line"><span class="keyword">int</span> mian()&#123;</span><br><span class="line">    <span class="keyword">float</span> perperson = <span class="number">34.5</span>;</span><br><span class="line">    <span class="keyword">float</span> (*sunClassFee)(<span class="keyword">int</span>) = ((<span class="keyword">float</span> (*)(<span class="keyword">int</span>))</span><br><span class="line">&amp;__mian_block_impl_0((<span class="keyword">void</span> *)__mian_block_func_0, &amp;__mian_block_desc_0_DATA, </span><br><span class="line">perperson));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">struct</span> IMAGE_INFO &#123; <span class="keyword">unsigned</span> version; <span class="keyword">unsigned</span> flag; &#125; </span><br><span class="line">_OBJC_IMAGE_INFO = &#123; <span class="number">0</span>, <span class="number">2</span> &#125;;</span><br></pre></td></tr></table></figure>
<p>可以看出在block中使用外部变量perperson时，block初始化时这样的：<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">是在__mian_block_impl_0进行初始化perperson，在block构造时作为block的其中</span><br><span class="line">一个成员初始。在访问时通过__cself-&gt;perperson指针进行访问。</span><br></pre></td></tr></table></figure></p>
<h3 id="block在有传入参数情况-1"><a href="#block在有传入参数情况-1" class="headerlink" title="block在有传入参数情况"></a>block在有传入参数情况</h3><blockquote>
<p>clang -rewrite-objc hello2.c</p>
</blockquote>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> __Block_byref_perperson_0 &#123;</span><br><span class="line">  <span class="keyword">void</span> *__isa;   </span><br><span class="line"> __Block_byref_perperson_0 *__forwarding;</span><br><span class="line">  <span class="keyword">int</span> __flags;</span><br><span class="line"> <span class="keyword">int</span> __size;</span><br><span class="line"> <span class="keyword">float</span> perperson;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">struct</span> __mian_block_impl_0 &#123;</span><br><span class="line">  <span class="keyword">struct</span> __block_impl impl;</span><br><span class="line">  <span class="keyword">struct</span> __mian_block_desc_0* Desc;</span><br><span class="line">  __Block_byref_perperson_0 *perperson; <span class="comment">// by ref</span></span><br><span class="line">  __mian_block_impl_0(<span class="keyword">void</span> *fp, <span class="keyword">struct</span> __mian_block_desc_0 *desc, </span><br><span class="line"> __Block_byref_perperson_0 *_perperson, <span class="keyword">int</span> flags=<span class="number">0</span>) : </span><br><span class="line">perperson(_perperson-&gt;__forwarding) &#123;</span><br><span class="line">    impl.isa = &amp;_NSConcreteStackBlock;</span><br><span class="line">    impl.Flags = flags;</span><br><span class="line">    impl.FuncPtr = fp;</span><br><span class="line">    Desc = desc;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">float</span> __mian_block_func_0(<span class="keyword">struct</span> __mian_block_impl_0 *__cself,</span><br><span class="line"> <span class="keyword">int</span> totalNum) &#123;</span><br><span class="line">    __Block_byref_perperson_0 *perperson = __cself-&gt;perperson; <span class="comment">// bound by ref</span></span><br><span class="line">     (perperson-&gt;__forwarding-&gt;perperson) = (perperson-&gt;__forwarding-</span><br><span class="line">perperson) + <span class="number">6</span>;</span><br><span class="line">        <span class="keyword">return</span> (perperson-&gt;__forwarding-&gt;perperson) * totalNum;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">void</span> __mian_block_copy_0(<span class="keyword">struct</span> __mian_block_impl_0*dst, </span><br><span class="line"><span class="keyword">struct</span> __mian_block_impl_0*src) </span><br><span class="line">&#123;_Block_object_assign((<span class="keyword">void</span>*)&amp;dst-&gt;perperson, </span><br><span class="line">(<span class="keyword">void</span>*)src-&gt;perperson, <span class="number">8</span><span class="comment">/*BLOCK_FIELD_IS_BYREF*/</span>);&#125;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">void</span> __mian_block_dispose_0(<span class="keyword">struct</span> __mian_block_impl_0*src) &#123;</span><br><span class="line">_Block_object_dispose((<span class="keyword">void</span>*)src-&gt;perperson, <span class="number">8</span><span class="comment">/*BLOCK_FIELD_IS_BYREF*/</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">struct</span> __mian_block_desc_0 &#123;</span><br><span class="line">  size_t reserved;</span><br><span class="line">  size_t Block_size;</span><br><span class="line">  <span class="keyword">void</span> (*<span class="keyword">copy</span>)(<span class="keyword">struct</span> __mian_block_impl_0*, <span class="keyword">struct</span> __mian_block_impl_0*);</span><br><span class="line">  <span class="keyword">void</span> (*dispose)(<span class="keyword">struct</span> __mian_block_impl_0*);</span><br><span class="line">&#125; __mian_block_desc_0_DATA = &#123; </span><br><span class="line"><span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> __mian_block_impl_0), __mian_block_copy_0, </span><br><span class="line">__mian_block_dispose_0&#125;;</span><br><span class="line"><span class="keyword">int</span> mian()&#123;</span><br><span class="line">    __attribute__((__blocks__(<span class="keyword">byref</span>))) __Block_byref_perperson_0 perperson = &#123;</span><br><span class="line">(<span class="keyword">void</span>*)<span class="number">0</span>,(__Block_byref_perperson_0 *)&amp;perperson, <span class="number">0</span>, </span><br><span class="line"><span class="keyword">sizeof</span>(__Block_byref_perperson_0), <span class="number">34.5</span></span><br><span class="line">&#125;;</span><br><span class="line">    <span class="keyword">float</span> (*sunClassFee)(<span class="keyword">int</span>) = ((<span class="keyword">float</span> (*)(<span class="keyword">int</span>))&amp;__mian_block_impl_0((<span class="keyword">void</span> *)</span><br><span class="line">__mian_block_func_0, &amp;__mian_block_desc_0_DATA, </span><br><span class="line">(__Block_byref_perperson_0 *)&amp;perperson, <span class="number">570425344</span>));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">struct</span> IMAGE_INFO &#123; <span class="keyword">unsigned</span> version; <span class="keyword">unsigned</span> flag; &#125; </span><br><span class="line">_OBJC_IMAGE_INFO = &#123; <span class="number">0</span>, <span class="number">2</span> &#125;;</span><br></pre></td></tr></table></figure>
<p>我们在对于block外的perperson计算重新复制，和上面在block仅仅在block中使用外面的参数。两者经过对比可以看出：在block中对于外部值进行复制，会出现下面的情况。使用clang对于block进行编码，可以看书对于perperson进行_block的修饰后编码生成Block_byref_perperson_0的struct结构体，其中__Block_byref_perperson_0的指针指向在block中perperson的地址。</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> __Block_byref_perperson_0 &#123;</span><br><span class="line">  <span class="keyword">void</span> *__isa;</span><br><span class="line"> __Block_byref_perperson_0 *__forwarding;  <span class="keyword">int</span> __flags;</span><br><span class="line"> <span class="keyword">int</span> __size; <span class="keyword">float</span> perperson;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="block的使用方法-传入参数："><a href="#block的使用方法-传入参数：" class="headerlink" title="block的使用方法~传入参数："></a>block的使用方法~传入参数：</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">int</span> (^isInputEven)(<span class="keyword">int</span>) = ^(<span class="keyword">int</span> n)&#123;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span> (n&gt;<span class="number">1</span>) &#123;</span><br><span class="line">              <span class="keyword">return</span> n*isInputEven(n<span class="number">-1</span>);</span><br><span class="line">           &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">              <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">         &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>上面我们定义一个block代码段，代码的实现功能是利用递归计算n的基乘。代码可以作为整个代码块进行调用，而且在调用过程中我们只需isInputEven（）函数名和传入参数即可实现。</p>
<h3 id="block的使用方法-使用外部参数参数："><a href="#block的使用方法-使用外部参数参数：" class="headerlink" title="block的使用方法~使用外部参数参数："></a>block的使用方法~使用外部参数参数：</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">float</span> perperson = <span class="number">34.5</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">float</span> (^sunClassFee)(<span class="keyword">int</span>) = ^(<span class="keyword">int</span> totalNum)&#123;</span><br><span class="line">        <span class="keyword">return</span> perperson * totalNum;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>使用外部参数perperson，让我们感觉block可以想一个类一样使用socpe里面的变量目前无法做到。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">主要原因是因为：在block的编译过程中我们看到，在block中进行访问其中元素时需要是</span><br><span class="line">block默认构造函数对于block其中的元素访问。</span><br></pre></td></tr></table></figure></p>
<h3 id="block的使用方法-使用外部参数参数：-1"><a href="#block的使用方法-使用外部参数参数：-1" class="headerlink" title="block的使用方法~使用外部参数参数："></a>block的使用方法~使用外部参数参数：</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">__block <span class="keyword">float</span> perperson = <span class="number">34.5</span>;</span><br><span class="line">    <span class="keyword">float</span> (^sunClassFee)(<span class="keyword">int</span>) = ^(<span class="keyword">int</span> totalNum)&#123;</span><br><span class="line">        perperson = perperson + <span class="number">6</span>;</span><br><span class="line">        <span class="keyword">return</span> perperson * totalNum;</span><br><span class="line"> &#125;;</span><br></pre></td></tr></table></figure>
<h3 id="block的使用方法-在（UIView）的动画中使用："><a href="#block的使用方法-在（UIView）的动画中使用：" class="headerlink" title="block的使用方法~在（UIView）的动画中使用："></a>block的使用方法~在（UIView）的动画中使用：</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="built_in">UIView</span> animateWithDuration:<span class="number">3.0</span>f animations:^&#123;</span><br><span class="line"></span><br><span class="line">        view.alpha = <span class="number">0</span>;</span><br><span class="line"> &#125;];</span><br></pre></td></tr></table></figure>
<p>IOS的开发到今天差不多已经有7年之久，block在开发中使用广度越来越广泛：</p>
<p><ul></ul></p>
<p><li>枚举–来过去对象。例如：NSDictionary的枚举过程</li></p>
<p><li>UIView–对于UIView的动画设置，后面有机会会对动画专门讲述…</li></p>
<p><li>通知–在本文讲述的就是在调用过程中与其他通知不同点所在</li></p>
<p><li>完成处理–在相应程序结束后，需要对于程序结果的处理。例如：AFNetWork在访问网络后，对于成功和失败进行处理</li></p>
<p><li>GCD–在GCD的过程中都是含有block使用的方法</li></p>
<p><li>排序–平时我们使用的一些简单算法均可以block进行相关处理</li><br></p>
<h3 id="委托代理详解"><a href="#委托代理详解" class="headerlink" title="委托代理详解"></a>委托代理详解</h3><p>在发C++过程中经常见到多组继承，但是在IOS开发过程中只能进行单继承，很多方法我们需要实现接口的形式。正如我们在使用UITableView时，经常会用到UITableViewDataSource和UITableViewDelegate。<br>如果要使用使用委托代理，需要知道协议和委托两者关系。</p>
<h3 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h3><p>协议一般分为两种：</p>
<blockquote>
<p>@ required:        //是我们在继承过程中必须实现的<br>   @optional :        //在实现接口中需要进行选择性实现的方式</p>
</blockquote>
<h3 id="委托"><a href="#委托" class="headerlink" title="委托"></a>委托</h3><p>常见的一种设计模式，身为老板一般负责管理员工、打电话、发薪水，这样由于公司业务发展就请一个秘书负责：打电话和发薪水。</p>
<blockquote>
<p>首先进行协议提取（需要员工所得事情）：(boss.h文件中声明)</p>
</blockquote>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">protocol</span> &lt;<span class="title">NSObject</span>&gt;</span></span><br><span class="line">-(<span class="keyword">void</span>)payoff;</span><br><span class="line">-(<span class="keyword">void</span>)tel;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">boss</span> : <span class="title">NSObject</span></span></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>) <span class="keyword">id</span>&lt;protocol&gt; delegate;</span><br><span class="line">-(<span class="keyword">void</span>)manage;</span><br><span class="line">-(<span class="keyword">void</span>)payoff;</span><br><span class="line">-(<span class="keyword">void</span>)tel;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>对于老板在具体工作的实现：(boss.m文件中实现)</p>
</blockquote>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">boss</span></span></span><br><span class="line">-(<span class="keyword">void</span>)manage&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"boss--&gt;manage"</span>);</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)payoff&#123;</span><br><span class="line">    [<span class="keyword">self</span>.delegate payoff];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)tel&#123;</span><br><span class="line">    [<span class="keyword">self</span>.delegate tel];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>委托秘书所要做的事物：（在sec.m的文件中实现完成boss的代理）</p>
</blockquote>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Sec</span> ()&lt;<span class="title">protocol</span>&gt;</span></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Sec</span></span></span><br><span class="line">-(<span class="keyword">void</span>)payoff&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"sec--&gt;payoff"</span>);</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)tel&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"sec--&gt;tel"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="注册监听小试"><a href="#注册监听小试" class="headerlink" title="注册监听小试"></a>注册监听小试</h3><p>NSNotificationCenter就相当于广播一样，可以对对象进行一次注册然后有多个监听。就像我们知道如果有注册的话，就需要我们对于对象进行释放（remove）。</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="built_in">NSNotificationCenter</span> defaultCenter] postNotificationName:<span class="string">@"clickbt"</span> object:<span class="literal">nil</span>];</span><br><span class="line">[[<span class="built_in">NSNotificationCenter</span> defaultCenter] addObserver:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(click) name:<span class="string">@"clickbt"</span> object:<span class="literal">nil</span>];</span><br></pre></td></tr></table></figure>
<p>在上面的代码可以看出我们在使用注册监听时可以进行相关内容传递，需要传递的内容放在object（为id类型）。<br>在remove监听的方法，经过查找资料：<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> -(<span class="keyword">void</span>)viewWillAppear:(<span class="built_in">BOOL</span>)animated</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">   [<span class="keyword">super</span> viewWillAppear:animated];</span><br><span class="line"></span><br><span class="line">   [[<span class="built_in">NSNotificationCenter</span> defaultCenter] addObserver:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(test) name:<span class="string">@"clickbt"</span> object:<span class="literal">nil</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)viewWillDisappear:(<span class="built_in">BOOL</span>)animated</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">   [<span class="keyword">super</span> viewWillDisappear:animated];</span><br><span class="line"></span><br><span class="line">   [[<span class="built_in">NSNotificationCenter</span> defaultCenter] removeObserver:<span class="keyword">self</span> name:<span class="string">@"clickbt"</span> object:<span class="literal">nil</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="KVO简史"><a href="#KVO简史" class="headerlink" title="KVO简史"></a>KVO简史</h3><p>当我们说起KVO(key-value-observe)时不免想起他的孪生大哥KVC（key-value-coding）。KVO是观察者模式的继承者，基于键值变化监听者，基于KVC基础完成之一。</p>
<blockquote>
<p>下列对于界面的UILabel进行监听：</p>
</blockquote>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">self</span>.label addObserver:<span class="keyword">self</span> forKeyPath:<span class="string">@"narcotics"</span> options:</span><br><span class="line"><span class="built_in">NSKeyValueObservingOptionNew</span> |<span class="built_in">NSKeyValueObservingOptionOld</span> context:<span class="literal">nil</span>];</span><br></pre></td></tr></table></figure>
<blockquote>
<p>一旦UILabel发生变化就会调用方法：</p>
</blockquote>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="keyword">void</span>)observeValueForKeyPath:(<span class="built_in">NSString</span> *)keyPath ofObject:(<span class="keyword">id</span>)object </span><br><span class="line">change:(<span class="built_in">NSDictionary</span> *)change context:(<span class="keyword">void</span> *)context&#123;</span><br><span class="line">     <span class="comment">//一旦有所变化调用方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>附带：</p>
<blockquote>
<p>KVC：通过设置key值，进行标记。然后通过key值找到进行重新设置，说的通俗点点就是键值对。类似NSDictionary相似。</p>
</blockquote>
<p>以前经常看些大牛写的博客，在看博客过程中也学到很多知识。心向往之，开始动手写关于自己在IOS成长路上见证。</p>
<h3 id="简述block和delegation使用场景的比较"><a href="#简述block和delegation使用场景的比较" class="headerlink" title="简述block和delegation使用场景的比较"></a>简述block和delegation使用场景的比较</h3><p>我们知道<code>block</code>和<code>delegation</code>是关于通信方面，在开发的过程中我们也经常会使用两者。面对具体情况我们需要怎么样做出选着呢？</p>
<h3 id="1-当在一个方法的参数中需要多个对象时使用delegation"><a href="#1-当在一个方法的参数中需要多个对象时使用delegation" class="headerlink" title="1.当在一个方法的参数中需要多个对象时使用delegation"></a>1.当在一个方法的参数中需要多个对象时使用delegation</h3><p>我们在开发过程中经常使用<code>UITableView</code>，这时我们就要实现接口协议<code>UITableViewDataSource</code>, <code>UITableViewDelegate</code>两者是我们在使用<code>UITableView</code>的相关数据协议和相关协议。从tableView角度出发：实现展示需要数据、对一些展示过程的控制等，这些可以使用<code>block</code>来进行实现。</p>
<blockquote>
<p>void (^ showTableView)(NSData *data, NSInteger number, CGFloat heightForRowAtIndexPath);</p>
</blockquote>
<p>上面我们定义告诉过程需要参数在<code>NSIndexPath</code>,所以第三个参数应该是 <code>block</code>形式。我们上面知道block在编译过程会被编译为<strong>struct</strong>结构，在相互嵌套过程中使用<code>delegation</code>更加方便。</p>
<h3 id="2-一个对象只能有一个delegation"><a href="#2-一个对象只能有一个delegation" class="headerlink" title="2. 一个对象只能有一个delegation"></a>2. 一个对象只能有一个delegation</h3><p>由于一个对象只能有一个delegate，而且它只能与这个delegate通信。让我们看看CLLocationManager 这个类，当发现地理位置后，location manager 只会通知一个对象（有且只有一个）。当然，如果我们需要更多的对象去知道这个更新，我们最好创建其他的location manager。</p>
<p>这里有的人可能想到，如果CLLocationManager是个单例呢？如果我们不能创建CLLocationManager的其他实例，就必须不断地切换delegate指针到需要地理数据的对象上（或者创建一个只有你理解的精密的广播系统）。因此，这样看起来，delegatetion在单例上没有多大意义。</p>
<p>关于这点，最好的印证例子就是UIAccelerometer。在早期版本的iOS中，单例的 accelerometer 实例有一个delegate，导致我们必须偶尔切换一下。这个愚蠢的问题在之后的IOS版本被修改了，现在，任意一个对象都可以访问CMMotionManager block，而不需要阻止其他的对象来接收更新。</p>
<p>因此，我们可以得出另一个结论：“如果一个对象是单例，不要使用delegation”。</p>
<h3 id="3-一般delegation都有自己的而返回值"><a href="#3-一般delegation都有自己的而返回值" class="headerlink" title="3. 一般delegation都有自己的而返回值"></a>3. 一般delegation都有自己的而返回值</h3><p>还是拿上面的例子说明：<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">NSInteger</span>)tableView:(<span class="built_in">UITableView</span> *)tableView numberOfRowsInSection:(<span class="built_in">NSInteger</span>)section;</span><br><span class="line"></span><br><span class="line">-(<span class="built_in">UITableViewCell</span> *)tableView:(<span class="built_in">UITableView</span> *)tableView cellForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath;</span><br></pre></td></tr></table></figure></p>
<p>上面是<code>UITableViewDataSource</code>协议中必须实现协议，可看出是使用返回值。而我们也可以看其他的一些协议表示情况，一般均是需要返回值的。</p>
<h3 id="4-delegation偏向于使用的过程-VS-block偏向于使用结果"><a href="#4-delegation偏向于使用的过程-VS-block偏向于使用结果" class="headerlink" title="4.delegation偏向于使用的过程 VS block偏向于使用结果"></a>4.delegation偏向于使用的过程 VS block偏向于使用结果</h3><p>如果查看<code>NSURLConnectionDelegate</code> 以及 <code>NSURLConnectionDataDelegate</code>，我们在可以<strong>protocol</strong>中看到这样的消息：我将要做什么（如： <strong>willSendRequest</strong>，将要发送请求）、到目前为止我知道的信息（如：<code>canAuthenticateAgainstProtectionSpace</code>）、我已经完成这些啦（ <strong>didReceiveResponse</strong>，收到请求的回复，即完成请求）。这些消息组成一个流程，而那些对流程感兴趣的<strong>delegate</strong>将会在每一步得到相应的通知。</p>
<p>当我们观察<strong>handler</strong>和完整的方法时，我们发现一个<strong>block</strong>包含一个响应对象和一个错误对象。显然这里没有任何有关“我在哪里，我正在做什么的”的交互。</p>
<p>因此我们可以这样认为，<strong>delegate</strong>的回调更多的面向过程，而<strong>block</strong>则是面向结果的。如果你需要得到一条多步进程的通知，你应该使用<strong>delegation</strong>。而当你只是希望得到你请求的信息（或者获取信息时的错误提示），你应该使用<strong>block</strong>。（如果你结合之前的3个结论，你会发现<strong>delegate</strong>可以在所有事件中维持<strong>state</strong>，而多个独立的<strong>block</strong>确不能）。<br><br></p>
<h3 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h3><p><a herf="http://www.cocoachina.com/ios/20150925/13525.html">开发该选择Blocks还是Delegates</a></p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://yoursite.com/2016/05/29/block，注册监听，委托协议和KVO/" data-id="ciphy4xui000x2i2arvns3sq9" class="article-share-link">分享到</a><div class="tags"><a href="/tags/IOS/">IOS</a></div><div class="post-nav"><a href="/2016/05/29/Fastlane讲解/" class="pre">Fastlane讲解</a><a href="/2016/05/29/从叮叮CTO采访演讲随笔/" class="next">从叮叮CTO采访演讲随笔</a></div><div id="disqus_thread"><script>var disqus_shortname = 'JackJin## Your disqus_shortname, e.g. username';
var disqus_identifier = '2016/05/29/block，注册监听，委托协议和KVO/';
var disqus_title = 'block，注册监听，委托协议和KVO';
var disqus_url = 'http://yoursite.com/2016/05/29/block，注册监听，委托协议和KVO/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//JackJin## Your disqus_shortname, e.g. username.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="search" name="word" maxlength="20" placeholder="Search"/><input type="hidden" name="si" value="http://yoursite.com"/><input name="tn" type="hidden" value="bds"/><input name="cl" type="hidden" value="3"/><input name="ct" type="hidden" value="2097152"/><input name="s" type="hidden" value="on"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/IOS/">IOS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/第三方框架/">第三方框架</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/视图-图层-动画/">视图&图层&动画</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/">随笔</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/IOS/" style="font-size: 15px;">IOS</a> <a href="/tags/三方框架解析/" style="font-size: 15px;">三方框架解析</a> <a href="/tags/图片视频/" style="font-size: 15px;">图片视频</a> <a href="/tags/IOS基础知识/" style="font-size: 15px;">IOS基础知识</a> <a href="/tags/博客之初/" style="font-size: 15px;">博客之初</a> <a href="/tags/视频心得/" style="font-size: 15px;">视频心得</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/06/16/UIView&CALayer&Core Animation~1/">UIView & CALayer& Core Animation ~ （UIView 和 CALayer）（1）</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/16/UIView&CALayer&Core Animation-总体/">UIView&CALayer&Core Animation~开篇</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/15/IOS 10/">IOS 10.0</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/04/SDWebImage之图片缓存分析/">SDWebImage之图片缓存处理</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/03/SDWebImage/">SDWebImage之图片下载</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/02/IOS面试梳理&自己理解&详细资料库/">IOS面试&自己理解&详细资料库</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最新评论</i></div><script type="text/javascript" src="//JackJin## Your disqus_shortname, e.g. username.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 链接</i></div><ul></ul><a href="https://github.com/boilWater" title="Github" target="_blank">Github</a><ul></ul><a href="http://weibo.com/u/2815612403?is_all=1" title="微博" target="_blank">微博</a><ul></ul><a href="http://www.jianshu.com/users/c48ed5ae3925/latest_articles" title="简书" target="_blank">简书</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">JackJin's 博客.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>