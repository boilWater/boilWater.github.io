<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>JackJin&#39;s åšå®¢</title>
  <subtitle>ä¸€ä½è„šè¸å®åœ°ï¼Œæ‹¥æœ‰æ¢¦æƒ³çš„90åï¼Œæƒ³è¦ä¸€ç›´åŠªåŠ›è¿½ä¸Šä½ ï¼</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2016-06-14T18:29:57.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>JackJin</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>IOS 10.0</title>
    <link href="http://yoursite.com/2016/06/15/IOS%2010/"/>
    <id>http://yoursite.com/2016/06/15/IOS 10/</id>
    <published>2016-06-14T16:07:59.000Z</published>
    <updated>2016-06-14T18:29:57.000Z</updated>
    
    <content type="html">&lt;p&gt;ä»Šå¤©æœ‰ç‚¹æ‚²å‰§ï¼Œå›åˆ°ä½çš„åœ°æ–¹èº«ä½“å°±å¼€å§‹ä¸èˆ’æœï¼Œä¸€è§‰ç¡åˆ°ç°åœ¨ã€‚çœ‹åˆ°11ç‚¹å¤šï¼Œèµ¶ç´§æ‰¾æ—¶é—´å¼€å§‹ç IOS 10.0æ–°çš„æ”¹å˜ã€‚&lt;br&gt;&lt;br&gt;æ˜¨å¤©å‡Œæ™¨IOS ä¸¾è¡Œ WWDCå…¨çƒå‘å¸ƒè€…å¤§ä¼šï¼Œwatch OSã€tv OSã€OS Xä»¥åŠiOS 10ç³»ç»Ÿçš„æ–°ç‰¹æ€§ã€‚&lt;br&gt;&lt;br&gt;&lt;a href=&quot;http://www.apple.com/apple-events/june-2016/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;WWDC-13/6/2016~è§†é¢‘åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ä»¬åˆ—è¡¨IOS 10çš„æ–°åŠŸèƒ½çš„ä½“ç°ï¼Œä¸‹é¢å°†ç»™å‡ºç›¸å…³çŸ¥è¯†çš„æ€ç»´å¯¼å›¾ã€‚&lt;br&gt;&lt;img src=&quot;/images/WWDCï¼ˆ2016ï¼‰.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;å…·ä½“çš„è®²è§£ï¼š&lt;/p&gt;
&lt;h3 id=&quot;å…¨æ–°ç•Œé¢åŠŸèƒ½è®¾è®¡&quot;&gt;&lt;a href=&quot;#å…¨æ–°ç•Œé¢åŠŸèƒ½è®¾è®¡&quot; class=&quot;headerlink&quot; title=&quot;å…¨æ–°ç•Œé¢åŠŸèƒ½è®¾è®¡&quot;&gt;&lt;/a&gt;å…¨æ–°ç•Œé¢åŠŸèƒ½è®¾è®¡&lt;/h3&gt;&lt;p&gt;é¦–å…ˆæ˜¯æ–°çš„é”å±ç•Œé¢ï¼Œäº’åŠ¨æ€§å¤§å¹…å¢å¼ºï¼Œæ”¯æŒæ–°çš„é€šçŸ¥æ˜¾ç¤ºæ–¹å¼å’Œæ‰‹åŠ¿åŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ 3D Touch è¿›è¡Œé¢„è§ˆä¸ä¿¡æ¯å›å¤ï¼Œæˆ–è€…é‡æŒ‰å…¨éƒ¨æ¸…é™¤é€šçŸ¥ï¼Œæ›´å¿«é€Ÿçš„è¿›å…¥æ‹ç…§ç•Œé¢ç­‰ï¼Œç•Œé¢çœ‹èµ·æ¥æ›´åŠ æ¸…æ™°ç›´è§‚ã€‚&lt;/p&gt;
&lt;p&gt;å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒiPhone æ”¯æŒæŠ¬æ‰‹å”¤é†’å±å¹•åŠŸèƒ½äº†ï¼Œ å½“ä½ æŠ¬èµ· iPhone çš„æ—¶å€™é”å±ç•Œé¢å°±ä¼šäº®èµ·ï¼Œç›´æ¥æ˜¾ç¤ºé€šçŸ¥ä¿¡æ¯å’Œç›¸å…³å†…å®¹ï¼Œè€Œä¸è§¦ç¢°ä»»ä½•æŒ‰é”®å’Œæ‰€åŠ¨æ“ä½œï¼Œæœ‰ç‚¹ç±»ä¼¼äºç«äº‰å¯¹æ‰‹çš„å¹³å°è®¾è®¡ç†å¿µã€‚&lt;/p&gt;
&lt;p&gt;é€šçŸ¥ä¸­å¿ƒå’Œæ§åˆ¶ä¸­å¿ƒç•Œé¢è¿›è¡Œäº†æ–°çš„è®¾è®¡ï¼ŒåŒ…æ‹¬æ¡Œé¢äº¦æ˜¯å¦‚æ­¤ï¼Œå¾ˆå¤šæ“ä½œæ“ä½œåˆ©ç”¨ 3D Touch æ›´åŠ ä¾¿æ·ï¼Œæ¯”å¦‚åœ¨ app å›¾æ ‡ä¸Šé¢„è§ˆæ›´å¤šç›¸å…³ä¿¡æ¯ï¼Œç”šè‡³æ˜¯è§†é¢‘é¢„è§ˆã€‚&lt;/p&gt;
&lt;h3 id=&quot;Siri&quot;&gt;&lt;a href=&quot;#Siri&quot; class=&quot;headerlink&quot; title=&quot;Siri&quot;&gt;&lt;/a&gt;Siri&lt;/h3&gt;&lt;p&gt;Siri æœç„¶æ¯ä¸€å¹´éƒ½ä¼šåŠªåŠ›æå‡ Siri çš„æ°´å¹³ï¼Œè‹¹æœè¡¨ç¤ºæ¯å‘¨æœ‰ 200 ä¸‡ä¸ªç”¨æˆ·ä½¿ç”¨ Siriã€‚æ–°å‡çº§ä¹‹å Siri å¯ä»¥æœç´¢çš„å†…å®¹æ›´å¤šäº†ï¼Œæ¯”å¦‚å›¾ç‰‡æœç´¢ã€åº”ç”¨æœç´¢ï¼ŒåŒæ—¶ Siri è¿˜èƒ½å¤ŸæŸ¥çœ‹æ—¥æœŸã€æ‰“å¼€ appã€å‘é€çŸ­æ¯ã€‚&lt;/p&gt;
&lt;p&gt;è‹¹æœå®£å¸ƒ Siri SDK å¼€æ”¾ï¼Œä¹‹åå¼€å‘è€…å¯ä»¥å°†ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºå’ŒæœåŠ¡ä¸ Siri é›†æˆï¼Œä»è€Œåœ¨è‡ªå®¶çš„åº”ç”¨ä¸­åˆ©ç”¨ Siri å®ç°è¯­éŸ³äº¤äº’ã€äººå·¥æ™ºèƒ½ç­‰åŠŸèƒ½ã€‚è‹¹æœç§° Whatsappã€å¾®ä¿¡å’Œæ»´æ»´æ‰“è½¦éƒ½ä¼šé›†æˆï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ Siri è¯­éŸ³å‘½ä»¤â€œWeChat xxx to è°è°è°â€ï¼Œå°±èƒ½å¤Ÿå®Œæˆå¾®ä¿¡çš„å‘é€äº†ï¼Œä¹Ÿå¯ä»¥ç”¨ Siri æ¥ä½¿ç”¨æ»´æ»´æ‰“è½¦ã€‚&lt;/p&gt;
&lt;p&gt;å¦ä¸€ä¸º iOS 10 ä¸Š Siri å¢åŠ çš„åŠŸèƒ½æ˜¯ iCloud Voicemailï¼Œå¯ä»¥å°†è¯­éŸ³ä¿¡ç®±ä¸­çš„å†…å®¹è½¬æ¢æˆæ–‡å­—ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿå¿«é€Ÿæµè§ˆå’Œé˜…è¯»ã€‚&lt;/p&gt;
&lt;h3 id=&quot;Quick-type&quot;&gt;&lt;a href=&quot;#Quick-type&quot; class=&quot;headerlink&quot; title=&quot;Quick type&quot;&gt;&lt;/a&gt;Quick type&lt;/h3&gt;&lt;p&gt;Quick type è¿™éƒ¨åˆ†æ›´è¡Œé‡åœ¨ Siri çš„å…¨æ–°å‡çº§çš„äººå·¥æ™ºèƒ½ç‰¹å¾æ‰€å¸¦æ¥çš„ä¾¿åˆ©æ€§ï¼Œå› ä¸º Siri æ”¯æŒæ·±åº¦å­¦ä¹ ä½ çš„ä¸€åˆ‡ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç›‘æµ‹ä½ çš„æ—¥ç¨‹å®‰æ’ï¼Œæ‰€ä»¥ä¸ä»…å¯ä»¥å¸®åŠ©æ›´å¿«é€Ÿçš„ç»„ç»‡è¯­è¨€ä¸€è¾¹å¿«é€Ÿå›å¤ï¼Œè¿˜èƒ½å¤Ÿæ ¹æ®ä¿¡æ¯æä¾›ç›¸å…³å»ºè®®ï¼Œå¸®åŠ©è‡ªåŠ¨å¡«å……åœ°å€ä¿¡æ¯ç­‰ç­‰ã€‚åŸºæœ¬ä¸Šï¼Œæ–°å‡çº§ä¹‹åèƒ½å¤Ÿä¸ºç”¨æˆ·çœå»æ›´å¤šæ‰‹åŠ¨è¾“å…¥éº»çƒ¦ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ç…§ç‰‡åº”ç”¨&quot;&gt;&lt;a href=&quot;#ç…§ç‰‡åº”ç”¨&quot; class=&quot;headerlink&quot; title=&quot;ç…§ç‰‡åº”ç”¨&quot;&gt;&lt;/a&gt;ç…§ç‰‡åº”ç”¨&lt;/h3&gt;&lt;p&gt;iOS 10 ä¸­çš„ç…§ç‰‡åº”ç”¨æ‹¥æœ‰äº†æ›´åŠ å¼ºå¤§çš„ç®¡ç†åŠŸèƒ½ï¼Œè‹¹æœå¤šæ¬¡æåˆ°çš„å°±æ˜¯æ”¯æŒâ€œè¯†åˆ«åˆ†ç±»â€åŠŸèƒ½ï¼Œå¯ä»¥è¿›è¡Œè„¸éƒ¨ã€å¯¹è±¡å’Œåœºæ™¯çš„è¯†åˆ«ã€‚æ¯”å¦‚é€šè¿‡ä»»åŠ¡çš„è„¸éƒ¨å¤´åƒè¿›è¡Œåˆ†ç±»ï¼Œå½“æ™ºèƒ½æœç´¢åˆ†ç±»å®Œæˆä¹‹åï¼Œç”¨æˆ·è¿˜å¯ä»¥ç›´æ¥æœç´¢å›¾ç‰‡ä¸Šçš„äº‹ä»¶å†…å®¹ï¼Œæœç´¢éª‘é©¬ä¹Ÿèƒ½æ‰¾åˆ°ç…§ç‰‡ã€‚&lt;/p&gt;
&lt;p&gt;æ€»ä¹‹ï¼Œåˆ©ç”¨ iCloud ç…§ç‰‡åº“å°±å¯ä»¥è½»æ¾æ ¹æ®åœ°ç†ä½ç½®ä¿¡æ¯ã€æ—¶é—´ã€ä»»åŠ¡ã€è¯é¢˜ç­‰ç­‰è¿›è¡Œåˆ†ç±»ï¼Œæ¯ä¸€ä¸ªç”¨æˆ·éƒ½å¯ä»¥å¾ˆæ–¹ä¾¿æ›´æ»¡æ„çš„åˆ›å»ºæ™ºèƒ½ç›¸å†Œï¼Œå¹¶ä¸”è¿™äº›æ–°åŠŸèƒ½åœ¨ Macä¸Šçš„ Photos ä¹Ÿå°†åŒæ ·å¾—åˆ°æ”¯æŒã€‚&lt;/p&gt;
&lt;h3 id=&quot;åœ°å›¾åº”ç”¨&quot;&gt;&lt;a href=&quot;#åœ°å›¾åº”ç”¨&quot; class=&quot;headerlink&quot; title=&quot;åœ°å›¾åº”ç”¨&quot;&gt;&lt;/a&gt;åœ°å›¾åº”ç”¨&lt;/h3&gt;&lt;p&gt;è‹¹æœè‡ªå®¶çš„åœ°å›¾åº”ç”¨åœ¨ iOS 10 ä¸­å¾—åˆ°äº†è¾ƒå¤§æ”¹è¿›ï¼Œé‡æ–°è®¾è®¡ä¹‹åæ›´ç®€å•ã€æ›´ç›´è§‚ä¹Ÿæ›´äººæ€§åŒ–ï¼Œæ— è®ºæ˜¯å¯¼èˆªç•Œé¢è¿˜æ˜¯è·¯çº¿ä¿¡æ¯ã€äº¤é€šä¿¡æ¯ç­‰éƒ½ä¸ä»¥å¾€æœ‰æ‰€ä¸åŒã€‚å‘¨è¾¹æ™ºèƒ½åŒ–å»ºè®®è¿›ä¸€æ­¥å¢å¼ºï¼Œæ‰€åœ¨ä½ç½®æ‰“å¼€åœ°å›¾â€œå¥½å»å¤„â€çš„å»ºè®®æ›´åŠ ä¸°å¯Œï¼Œé™„ä»¶çš„åŠ æ²¹ç«™ã€é¤é¦†å’Œå’–å•¡å…ç­‰ä¸€è§ˆæ— é—ï¼Œç”¨è‹¹æœçš„è¯æ¥è¯´ç®€ç›´å°±æ˜¯â€œæƒ…æŠ¥ä¸­å¿ƒâ€ã€‚&lt;/p&gt;
&lt;p&gt;è‹¹æœåœ°å›¾ä¹Ÿå°†å¼€å‘ SDK ç»™å¼€å‘è€…ï¼Œè‹¹æœè¡¨ç¤ºä¸­å›½çš„å¤§ä¼—ç‚¹è¯„å’Œæ»´æ»´æ‰“è½¦å°†å…¨é¢æ•´åˆè‹¹æœåœ°å›¾ï¼Œè¾¾åˆ°ä¸åŸç”Ÿæ— ç¼æ–œè¡—çš„ä½“éªŒï¼Œæ¯”å¦‚è¯´ç›´æ¥åœ¨è‹¹æœåœ°å›¾ä¸Šä½¿ç”¨æ»´æ»´æ‰“è½¦è¿›è¡Œå«è½¦ã€‚å¦å¤–ï¼Œè‹¹æœåœ°å›¾ç°åœ¨ä¹Ÿæ”¯æŒ Carplay äº†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;Apple-Music&quot;&gt;&lt;a href=&quot;#Apple-Music&quot; class=&quot;headerlink&quot; title=&quot;Apple Music&quot;&gt;&lt;/a&gt;Apple Music&lt;/h3&gt;&lt;p&gt;å¯¹äº Apple Music è‹¹æœè¡¨ç¤ºï¼Œè¯¥æœåŠ¡æ¨å‡ºè‡³ä»Šå·²ç»è·å¾—äº†å·¨å¤§çš„æˆåŠŸï¼Œç›®å‰ä»˜è´¹è®¢é˜…ç”¨æˆ·å·²ç»è¶…è¿‡ 1500 ä¸‡ã€‚&lt;/p&gt;
&lt;p&gt;å…¨æ–°çš„ Apple Music ç•Œé¢è¿›è¡Œäº†é‡æ–°è®¾è®¡ï¼Œæ–°çš„ç•Œé¢æ›´åŠ ç®€æ´ã€æ›´åŠ æ¼‚äº®äº†ï¼Œå¦‚ä¼ é—»æ‰€è¿°å»æ‰äº†å¾ˆå¤šä¸°å¯Œçš„é¢œè‰²å…ƒç´ ï¼Œå˜å¾—æ›´åŠ ç›´è§‚ï¼Œçªå‡ºé»‘ç™½èƒŒæ™¯å’Œæ–‡å­—ã€‚æ¼”ç¤ºæ¥çœ‹ï¼Œæ–° Apple Music  è¿›ä¸€æ­¥æ•´åˆè‹¹æœå…¬å¸è‡ªä¸»å¼€å‘çš„æ—§é‡‘å±±å­—ä½“ï¼Œèœå•å’Œæ ‡ç­¾çš„å­—ä½“ä¼šæ˜¯åŠ ç²—çš„ã€æ›´å¤§çš„é»‘è‰²çš„ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼ŒApple Music å¯ä»¥æŒ‰ç…§è‰ºæœ¯å®¶ä¸“è¾‘ç­‰è¿›è¡Œåˆ†ç±»ï¼Œè¿˜æ”¯æŒæ­Œè¯è‡ªåŠ¨åŠ è½½æ˜¾ç¤ºã€‚ç”µå°å¹¿æ’­æœåŠ¡å¾—åˆ°äº†æ”¹è¿›ï¼Œä¸åªæ˜¯åˆ†ç±»æ›´ç›´è§‚ï¼Œç”¨æˆ·å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¯»æ‰¾è‡ªå·±æƒ³å¬çš„ç”µå°ï¼Œè€Œä¸”è‹¹æœè¡¨ç¤ºå°†ä¼šæœ‰æ›´å¤šçš„ä¸»æ’­å‚ä¸å½“ä¸­ã€‚&lt;/p&gt;
&lt;h3 id=&quot;Apple-News&quot;&gt;&lt;a href=&quot;#Apple-News&quot; class=&quot;headerlink&quot; title=&quot;Apple News&quot;&gt;&lt;/a&gt;Apple News&lt;/h3&gt;&lt;p&gt;è‹¹æœè¡¨ç¤ºï¼ŒApple News æœ‰è¶…è¿‡ 600 ä¸‡çš„è¯»è€…ï¼Œæ–°çš„æ›´æ–°å°†æ‹¥æœ‰å…¨æ–°è®¾è®¡çš„ç•Œé¢ï¼Œå¹¶å¯è®¢é˜…æ›´å¤šé¢‘é“ã€‚æ¨èåŠŸèƒ½å˜å¾—æ›´å¼ºå¤§æ›´æ™ºèƒ½ï¼Œæ”¯æŒåŸºäºç”¨æˆ·é˜…è¯»ä¹ æƒ¯è¿›è¡Œæ¨èï¼Œä¸ºæ¯ä¸€ä½ç”¨æˆ·é€‰æ‹©æ€§çš„æ¨é€æœ€éœ€è¦çš„æ–°é—»ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h3 id=&quot;HomeKit&quot;&gt;&lt;a href=&quot;#HomeKit&quot; class=&quot;headerlink&quot; title=&quot;HomeKit&quot;&gt;&lt;/a&gt;HomeKit&lt;/h3&gt;&lt;p&gt;ç‰©è”ç½‘æ˜¯å¤§åŠ¿æ‰€è¶‹ï¼Œè‹¹æœä¸º iOS 10 å¸¦æ¥äº† HomeKit çš„å…¨æ–°è¿›å±•ã€‚é¦–å…ˆï¼ŒHomeKit å°†ä»¥ç‹¬ç«‹åº”ç”¨çš„å½¢å¼å‡ºç°åœ¨ iOS 10 ä¸Šï¼Œå‘½åä¸º Homeï¼Œä¹‹å‰è‹¹æœå¯ç”³è¯·è¿‡â€œHomeâ€çš„å•†æ ‡ï¼Œå¹¶ä¸æ„å¤–ã€‚&lt;/p&gt;
&lt;p&gt;å½“ HomeKit ç‹¬ç«‹æˆä¸€ä¸ªåº”ç”¨ä¹‹åï¼Œå®ƒå°†æœ‰èƒ½åŠ›å°†å¹³å°ä¸Šæ‰€æœ‰çš„å…¼å®¹è®¾å¤‡ç½®äºåŒä¸€ä¸ªç®¡ç†ä¸­å¿ƒä¸­ã€‚åªéœ€è¦æ‰“å¼€ iOS 10 ä¸Šçš„ Home  åº”ç”¨ï¼Œå°±å¯ä»¥å¯¹æ‰€æœ‰å…¼å®¹ HomeKit çš„è®¾å¤‡è¿›è¡Œç»Ÿä¸€çš„åŒ¹é…å’Œæ§åˆ¶ç®¡ç†ï¼ŒHome  åº”ç”¨ä¸­åŒ…å«äº†éå¸¸å…¨é¢çš„å®¶ç”µæ§åˆ¶é¢æ¿é€‰é¡¹ï¼Œæ”¯æŒ 3D Touch ä¹Ÿæ”¯æŒ Siri è¿›è¡Œæ§åˆ¶ï¼ŒiPadã€Apple Watch ä¹Ÿä¼šæä¾› Home åº”ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;è‹¹æœè¡¨ç¤ºï¼Œä»Šå¤©æœ‰å¥½å¤šå¼€å‘å•†éƒ½å‚ä¸åˆ°äº† HomeKit å¼€å‘å…¶ä¸­ï¼Œé€šè¿‡ HomeKit ç”¨æˆ·å¯ä»¥æ§åˆ¶å®¶é‡Œæ‰€æœ‰æ™ºèƒ½ç”µå™¨ï¼ŒåŒ…æ‹¬æ§åˆ¶é—¨é”ã€é£æ‰‡ã€ç¯ï¼Œæ‰“å¼€æˆ¿é—¨å’Œè½¦ç©ºé—¨ç­‰ç­‰ï¼Œä¸ä»…å¯ä»¥æŸ¥çœ‹é—¨é”æ‘„åƒå¤´çš„å®æ—¶è§†é¢‘ï¼Œè€Œä¸”è¿˜èƒ½æ§åˆ¶è®©æµ´ç¼¸çš„çƒ­æ°´åœ¨æ²¡å›å®¶ä¹‹å‰å°±ç»™ç”¨æˆ·æ”¾å¥½ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ç”µè¯&quot;&gt;&lt;a href=&quot;#ç”µè¯&quot; class=&quot;headerlink&quot; title=&quot;ç”µè¯&quot;&gt;&lt;/a&gt;ç”µè¯&lt;/h3&gt;&lt;p&gt;é»˜è®¤ç”µè¯ app  è¿™éƒ¨åˆ†çš„å†…å®¹è®²å¾—æ¯”è¾ƒå°‘ï¼Œä¸€äº›æ¯”è¾ƒçªå‡ºçš„æ›´æ–°åŒ…æ‹¬æ”¯æŒæ˜¾ç¤ºåƒåœ¾ç”µè¯ï¼Œæ”¯æŒ VoIPï¼Œæ”¯æŒè¯­éŸ³ä¿¡ç®±è½¬æ–‡æœ¬æ˜¾ç¤ºç­‰ç­‰ã€‚ä»ç°åœºå›¾æ¥çœ‹ï¼Œè”ç³»äººç•Œé¢è¿›è¡Œäº†å…¨æ–°çš„è®¾è®¡ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¿¡æ¯&quot;&gt;&lt;a href=&quot;#ä¿¡æ¯&quot; class=&quot;headerlink&quot; title=&quot;ä¿¡æ¯&quot;&gt;&lt;/a&gt;ä¿¡æ¯&lt;/h3&gt;&lt;p&gt;è‹¹æœè¡¨ç¤ºï¼Œä¿¡æ¯æ˜¯ iOS ä¸­ä½¿ç”¨æœ€ä¸ºé¢‘ç¹çš„åº”ç”¨ä¹‹ä¸€ã€‚æ‰€ä»¥ï¼Œè¿™ä¸€æ¬¡ä¿¡æ¯åº”ç”¨è‹¹æœèŠ±äº†å¤§é‡æ—¶é—´è¿›è¡Œæ¼”ç¤ºï¼Œä¸è¿‡å¾ˆå¤šåŠŸèƒ½éƒ½ä¸å›½å†…çš„å³æ—¶èŠå¤©åº”ç”¨ç±»ä¼¼ã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;ä»Šå¤©æœ‰ç‚¹æ‚²å‰§ï¼Œå›åˆ°ä½çš„åœ°æ–¹èº«ä½“å°±å¼€å§‹ä¸èˆ’æœï¼Œä¸€è§‰ç¡åˆ°ç°åœ¨ã€‚çœ‹åˆ°11ç‚¹å¤šï¼Œèµ¶ç´§æ‰¾æ—¶é—´å¼€å§‹ç IOS 10.0æ–°çš„æ”¹å˜ã€‚&lt;br&gt;&lt;br&gt;æ˜¨å¤©å‡Œæ™¨IOS ä¸¾è¡Œ WWDCå…¨çƒå‘å¸ƒè€…å¤§ä¼šï¼Œwatch OSã€tv OSã€OS Xä»¥åŠiOS 10ç³»ç»Ÿçš„æ–°ç‰¹æ€§ã€‚&lt;br&gt;&lt;br&gt;&lt;a href
    
    </summary>
    
      <category term="éšç¬”" scheme="http://yoursite.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="IOS" scheme="http://yoursite.com/tags/IOS/"/>
    
  </entry>
  
  <entry>
    <title>runloopç†è§£</title>
    <link href="http://yoursite.com/2016/06/09/RunLoop%E7%90%86%E8%A7%A3/"/>
    <id>http://yoursite.com/2016/06/09/RunLoopç†è§£/</id>
    <published>2016-06-09T07:09:58.000Z</published>
    <updated>2016-06-09T07:21:26.000Z</updated>
    
    <content type="html"></content>
    
    <summary type="html">
    
    </summary>
    
      <category term="IOS" scheme="http://yoursite.com/categories/IOS/"/>
    
    
      <category term="IOS" scheme="http://yoursite.com/tags/IOS/"/>
    
  </entry>
  
  <entry>
    <title>SDWebImageä¹‹å›¾ç‰‡ç¼“å­˜å¤„ç†</title>
    <link href="http://yoursite.com/2016/06/04/SDWebImage%E4%B9%8B%E5%9B%BE%E7%89%87%E7%BC%93%E5%AD%98%E5%88%86%E6%9E%90/"/>
    <id>http://yoursite.com/2016/06/04/SDWebImageä¹‹å›¾ç‰‡ç¼“å­˜åˆ†æ/</id>
    <published>2016-06-04T08:55:11.000Z</published>
    <updated>2016-06-05T01:44:29.000Z</updated>
    
    <content type="html">&lt;p&gt;è¿™ç¯‡æ–‡ç« æˆ‘å°†æ¥ç€èŠ‚è®²è¿°å…³äºSDWebImageå›¾ç‰‡ä¸‹è½½åå¤„ç†æ–¹å¼ï¼Œç¼“å­˜è¿›è¡Œè®²è§£ã€‚&lt;br&gt;&lt;br&gt;&lt;br&gt;ç»è¿‡ä¸Šé¢æˆ‘ä»¬å¯ä»¥çŸ¥é“SDWebImageæ˜¯å¯ä»¥ä»è¿œç¨‹çš„æœåŠ¡å™¨åŠ è½½å›¾ç‰‡ï¼Œç„¶ååœ¨UIImageViewä¸Šè¿›è¡Œæ˜¾ç¤ºã€‚ä½†æ˜¯ä½ æœ‰æƒ³è¿‡SDWebImageåˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;åœ¨ä½¿ç”¨æ—¶æˆ‘ä»¬çŸ¥é“éœ€è¦å¯¼å…¥åŒ…ï¼šUIImageView+WebCache.hæˆ‘ä»¬å¯ä»¥æ ¹æ®è¿™çœ‹å‡ºSDWebImageæ˜¯ä¸€ä¸ªUIImageViewçš„åˆ†ç±»ï¼Œä½¿ç”¨Categoryè¿›è¡Œåˆ†è£…çš„ç±»ã€‚ä¸‹é¢åˆ—å‡ºSDWebImageå¯ä»¥å®ç°çš„åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;p&gt;&lt;ul&gt;&lt;/ul&gt;&lt;/p&gt;
&lt;p&gt;&lt;li&gt;æä¾›UIImageViewçš„ä¸€ä¸ªåˆ†ç±»ï¼Œå¯ä»¥å¯¹å›¾ç‰‡è¿›è¡Œå¼‚æ­¥åŠ è½½å’Œç¼“å­˜ç®¡ç†&lt;/li&gt;&lt;/p&gt;
&lt;p&gt;&lt;li&gt;ä¸€æ­¥å†…å­˜ &amp;amp; ç£ç›˜ç®¡ç† &amp;amp; è‡ªåŠ¨å¯¹è¿‡æœŸçš„ç¼“å­˜è¿›è¡Œç›¸å…³çš„å¤„ç†&lt;/li&gt;&lt;/p&gt;
&lt;p&gt;&lt;li&gt;ä¸€ä¸ªä¸€æ­¥å›¾ç‰‡çš„åŠ è½½å™¨&lt;/li&gt;&lt;/p&gt;
&lt;p&gt;&lt;li&gt;æ”¯æŒGIFçš„å›¾ç‰‡åŠ è½½&lt;/li&gt;&lt;/p&gt;
&lt;p&gt;&lt;li&gt;åå°å¯¹å›¾ç‰‡è¿›è¡Œè§£å‹å¤„ç†&lt;/li&gt;&lt;/p&gt;
&lt;p&gt;&lt;li&gt;ç¡®ä¿åŒæ„URLçš„å›¾ç‰‡ä¸ä¼šè¢«æ•°æ¬¡åŠ è½½&lt;/li&gt;&lt;/p&gt;
&lt;p&gt;&lt;li&gt;ç¡®ä¿è™šå‡çš„URLä¸ä¼šè¢«åå¤åŠ è½½&lt;/li&gt;&lt;/p&gt;
&lt;p&gt;&lt;li&gt;ç¡®ä¿ä¸‹è½½å’Œç¼“å­˜æ—¶ä¸»çº¿ç¨‹ä¸ä¼šè¢«é˜»å¡&lt;/li&gt;&lt;/p&gt;
&lt;p&gt;&lt;li&gt;ä¼˜è‰¯ä½¿ç”¨æ€§èƒ½&lt;/li&gt;&lt;/p&gt;
&lt;p&gt;&lt;li&gt;é‡‡ç”¨GCDå¯ä»¥é‡‡ç”¨å¹¶è¡Œå¤„ç†ï¼ŒIOS 5.0çš„ARCè‡ªåŠ¨è®¡æ•°åŸåˆ™&lt;/li&gt;&lt;/p&gt;
&lt;p&gt;&lt;li&gt;æ”¯æŒArm64(64ä½CPUå¤„ç†)&lt;/li&gt;&lt;br&gt;&lt;/p&gt;
&lt;div style=&quot;color:#008B8B&quot;&gt;&lt;p&gt;&lt;br&gt;æœ¬ç¯‡åšå®¢æ˜¯åœ¨SDWebImageçš„å›¾ç‰‡åŠ è½½åŸºç¡€ä¹‹ä¸Šè¿›è¡Œæ¢ç´¢ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹ä¸‹SDWebImageæ˜¯å¦‚ä½•å®ç°å¯¹å›¾ç‰‡å®è¡Œç¼“å­˜å¤„ç†ã€‚&lt;/p&gt;&lt;/div&gt;

&lt;h3 id=&quot;å®ä¾‹&quot;&gt;&lt;a href=&quot;#å®ä¾‹&quot; class=&quot;headerlink&quot; title=&quot;å®ä¾‹&quot;&gt;&lt;/a&gt;å®ä¾‹&lt;/h3&gt;&lt;p&gt;SDImageCacheæ˜¯å›¾ç‰‡ä¸‹è½½åå†…å­˜ç¼“å­˜ç®¡ç†å’Œç£ç›˜ç¼“å­˜ç®¡ç†çš„ç±»ï¼Œä¸è¿‡è¿˜æ˜¯æˆ‘ä»¬æœ€å¸¸è§çš„å•ä¾‹æ¨¡å¼sharedImageCacheæ¥è¿›è¡Œå¾—åˆ°å®ä¾‹ã€‚é»˜è®¤çš„ç¼“å­˜ç©ºé—´ä¸Šæ˜¯defaultï¼Œå¦‚æœè‡ªå·±çœ‹ç€ä¸æ€ä¹ˆå¥½çš„è¯å¯ä»¥è‡ªå·±è¿›è¡Œç›¸å…³çš„ç©ºé—´ç”³è¯·ã€‚ä¸‹é¢æ˜¯SDWebCacheçš„ç®€ä»‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;+ (SDImageCache *)sharedImageCache &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;dispatch_once_t&lt;/span&gt; once;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt; instance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;dispatch_once&lt;/span&gt;(&amp;amp;once, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        instance = [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; new];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; instance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™é‡Œä½¿ç”¨dispatch_onceçš„å½¢å¼æ¯æ¬¡å¼€å¯ä¸€ä¸ªçº¿ç¨‹ï¼Œè¿™æ ·å¯ä»¥é˜²æ­¢å¤šä¸ªå•ä¾‹è¿›è¡ŒåŒæ—¶çš„åˆå§‹åŒ–ã€‚&lt;a href=&quot;http://www.cocoachina.com/ios/20151117/14225.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¯¦æƒ…å¯ä»¥å‚è€ƒGCDç›¸å…³çš„çŸ¥è¯†&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)init &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; initWithNamespace:&lt;span class=&quot;string&quot;&gt;@&quot;default&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)initWithNamespace:(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)ns &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *path = [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; makeDiskCachePath:ns];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; initWithNamespace:ns diskCacheDirectory:path];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)initWithNamespace:(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)ns diskCacheDirectory:(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)directory &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ((&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; = [&lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt; init])) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *fullNamespace = [&lt;span class=&quot;string&quot;&gt;@&quot;com.hackemist.SDWebImageCache.&quot;&lt;/span&gt; stringByAppendingString:ns];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;comment&quot;&gt;// initialise PNG signature data&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     kPNGSignatureData = [&lt;span class=&quot;built_in&quot;&gt;NSData&lt;/span&gt; dataWithBytes:kPNGSignatureBytes length:&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;comment&quot;&gt;// Create IO serial queue&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     _ioQueue = dispatch_queue_create(&lt;span class=&quot;string&quot;&gt;&quot;com.hackemist.SDWebImageCache&quot;&lt;/span&gt;, DISPATCH_QUEUE_SERIAL);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;comment&quot;&gt;// Init default values&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     _maxCacheAge = kDefaultCacheMaxCacheAge;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;comment&quot;&gt;// Init the memory cache&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     _memCache = [[AutoPurgeCache alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     _memCache.name = fullNamespace;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;comment&quot;&gt;// Init the disk cache&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (directory != &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         _diskCachePath = [directory stringByAppendingPathComponent:fullNamespace];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         &lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *path = [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; makeDiskCachePath:ns];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         _diskCachePath = path;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;comment&quot;&gt;// Set decompression to YES&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     _shouldDecompressImages = &lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;comment&quot;&gt;// memory cache enabled&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     _shouldCacheImagesInMemory = &lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;comment&quot;&gt;// Disable iCloud&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     _shouldDisableiCloud = &lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;built_in&quot;&gt;dispatch_sync&lt;/span&gt;(_ioQueue, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         _fileManager = [&lt;span class=&quot;built_in&quot;&gt;NSFileManager&lt;/span&gt; new];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#if TARGET_OS_IPHONE&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;comment&quot;&gt;// Subscribe to app events&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     [[&lt;span class=&quot;built_in&quot;&gt;NSNotificationCenter&lt;/span&gt; defaultCenter] addObserver:&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                              selector:&lt;span class=&quot;keyword&quot;&gt;@selector&lt;/span&gt;(clearMemory)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                  name:&lt;span class=&quot;built_in&quot;&gt;UIApplicationDidReceiveMemoryWarningNotification&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                object:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     [[&lt;span class=&quot;built_in&quot;&gt;NSNotificationCenter&lt;/span&gt; defaultCenter] addObserver:&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                              selector:&lt;span class=&quot;keyword&quot;&gt;@selector&lt;/span&gt;(cleanDisk)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                  name:&lt;span class=&quot;built_in&quot;&gt;UIApplicationWillTerminateNotification&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                object:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     [[&lt;span class=&quot;built_in&quot;&gt;NSNotificationCenter&lt;/span&gt; defaultCenter] addObserver:&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                              selector:&lt;span class=&quot;keyword&quot;&gt;@selector&lt;/span&gt;(backgroundCleanDisk)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                  name:&lt;span class=&quot;built_in&quot;&gt;UIApplicationDidEnterBackgroundNotification&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                object:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#endif&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;div style=&quot;color:#008B8B&quot;&gt;&lt;p&gt;&lt;br&gt;ä¸Šé¢æˆ‘ä»¬å¯ä»¥çœ‹å‡ºåœ¨æˆ‘ä»¬ä½¿ç”¨initæ¥è¿›è¡Œåˆå§‹åŒ–ç¼“å­˜ç©ºé—´ï¼Œç´§æ¥ç€å°±è°ƒç”¨initWithNamespace: &amp;amp; initWithNamespace: diskCacheDirectory:æ¥è¿›ä¸€æ­¥å¯¹ç£ç›˜è¿›è¡Œç¼“å­˜ç©ºé—´çš„åˆå§‹åŒ–ã€‚&lt;br&gt;&lt;/p&gt;&lt;/div&gt;

&lt;h3 id=&quot;å†…å­˜ç¼“å­˜ç±»&quot;&gt;&lt;a href=&quot;#å†…å­˜ç¼“å­˜ç±»&quot; class=&quot;headerlink&quot; title=&quot;å†…å­˜ç¼“å­˜ç±»&quot;&gt;&lt;/a&gt;å†…å­˜ç¼“å­˜ç±»&lt;/h3&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;AutoPurgeCache&lt;/span&gt; : &lt;span class=&quot;title&quot;&gt;NSCache&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@implementation&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;AutoPurgeCache&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)init&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; = [&lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt; init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [[&lt;span class=&quot;built_in&quot;&gt;NSNotificationCenter&lt;/span&gt; defaultCenter] addObserver:&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; selector:&lt;span class=&quot;keyword&quot;&gt;@selector&lt;/span&gt;(removeAllObjects) name:&lt;span class=&quot;built_in&quot;&gt;UIApplicationDidReceiveMemoryWarningNotification&lt;/span&gt; object:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)dealloc&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [[&lt;span class=&quot;built_in&quot;&gt;NSNotificationCenter&lt;/span&gt; defaultCenter] removeObserver:&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; name:&lt;span class=&quot;built_in&quot;&gt;UIApplicationDidReceiveMemoryWarningNotification&lt;/span&gt; object:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¸Šé¢æˆ‘ä»¬å¯ä»¥çœ‹å‡ºåœ¨ç¼“å­˜è¿‡ç¨‹ä¸­æˆ‘ä»¬é‡‡ç”¨çš„æ˜¯NSCacheçš„å­ç±»AutoPurgeCacheè¿›è¡Œçº¿ç®¡çš„ç¼“å­˜å¤„ç†ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨NSdictionaryæ¥è¿›è¡Œå¤„ç†ï¼Œä¸ºä»€ä¹ˆä¸ä½¿ç”¨å‘¢ï¼Ÿåé¢æˆ‘å°†ä¼šè®²å‡ºğŸ˜¸ã€‚è¿”å›ä¸Šé¢ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºåœ¨ç¼“å­˜æ—¶æˆ‘ä»¬é‡‡ç”¨æ³¨å†Œå’Œç›‘å¬çš„æ¨¡å¼å¯¹ç¼“å­˜çš„å†…å­˜ç›‘å¬ï¼Œä¸€æ—¦ç¼“å­˜æ•°æ®è¾¾åˆ°ä¸´ç•Œç‚¹å°±è¦æ¡ç”¨removeAllObjectsã€‚è¿™é‡Œæœ‰å…³äºæ–¹æ³•åœ¨è¿è¡Œæ—¶ç¼–è¯‘æƒ…å†µä¸‹çš„è¿‡ç¨‹&lt;br&gt;&lt;a href=&quot;http://boilwater.github.io/2016/05/29/runtimeç†è§£/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;runtimeè§£æ&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;div style=&quot;color:#008B8B&quot;&gt;&lt;p&gt;&lt;br&gt;åœ¨ç¼“å­˜è¿‡ç¨‹ä¸­æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯NSCacheè€Œä¸æ˜¯ç”¨NSDictionaryå‘¢ï¼Œä¸‹é¢æˆ‘ä»¬çœ‹ä¸‹NSCacheçš„ä¼˜ç‚¹ï¼š&lt;br&gt;&lt;ul&gt;&lt;br&gt;&lt;li&gt;è‡ªåŠ¨åˆ å‡åŠŸèƒ½&lt;/li&gt;&lt;br&gt;&lt;li&gt;çº¿ç¨‹å®‰å…¨&lt;/li&gt;&lt;br&gt;&lt;li&gt;ä¸ä¼šæ‹·è´å¥&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;&lt;br&gt;åŸºäºä¸Šé¢NSCacheçš„ç‰¹ç‚¹é€‰ç€ä½¿ç”¨NSCacheæ˜¯æ›´åŠ æ˜“äºå¯¹ç¼“å­˜çš„ç®¡ç†&lt;br&gt;&lt;/p&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;http://thenewself.blog.163.com/blog/static/198501330201251311025928/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NSCacheçš„å‚è€ƒèµ„æ–™&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&quot;ç¼“å­˜åœ¨APPå‘¨æœŸçš„è®¾ç½®&quot;&gt;&lt;a href=&quot;#ç¼“å­˜åœ¨APPå‘¨æœŸçš„è®¾ç½®&quot; class=&quot;headerlink&quot; title=&quot;ç¼“å­˜åœ¨APPå‘¨æœŸçš„è®¾ç½®&quot;&gt;&lt;/a&gt;ç¼“å­˜åœ¨APPå‘¨æœŸçš„è®¾ç½®&lt;/h2&gt;&lt;p&gt;åœ¨åº”ç”¨å¼€å‘å¯¹å†…å®¹ç¼“å­˜çš„è¿‡ç¨‹æˆ‘ä»¬ä¹Ÿå¯ä»¥å‚è€ƒä¸‹é¢ç¼“å­˜çš„å¤„ç†æœºåˆ¶ï¼Œè¿™ä¹Ÿå¯¹æˆ‘ä»¬APPçš„æ€§èƒ½ä¼šæœ‰æ¯”è¾ƒå¤§çš„æå‡ã€‚ä¸‹é¢æŒ‰ç…§APPçš„åˆ†ä¸ºï¼šå†…å­˜è­¦å‘Šã€ç¨‹åºç»ˆæ­¢å’Œåå°ä¸‰ç§æƒ…å†µå®ç°ç¼“å­˜ç­–ç•¥ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å†…å­˜è­¦å‘Š&quot;&gt;&lt;a href=&quot;#å†…å­˜è­¦å‘Š&quot; class=&quot;headerlink&quot; title=&quot;å†…å­˜è­¦å‘Š&quot;&gt;&lt;/a&gt;å†…å­˜è­¦å‘Š&lt;/h3&gt;&lt;p&gt;åœ¨æˆ‘ä»¬ä½¿ç”¨SDWebImageè¿‡ç¨‹æ—¶ç¨‹åºä¸€ç›´éƒ½ä¼šå¯¹æˆ‘ä»¬è®¿çš„å›¾ç‰‡è¿›è¡Œç›¸å…³ç¼“å­˜å¤„ç†ï¼Œä½†æ˜¯å½“æˆ‘ä»¬ç¼“å­˜è¾ƒå¤§æ—¶å°±ä¼šäº§ç”Ÿè­¦å‘Š&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)clearMemory &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.memCache removeAllObjects];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¸Šé¢æ˜¯æˆ‘ä»¬æ³¨å†Œå‘ç°å†…å­˜è¿‡å¤§éœ€è¦è°ƒç”¨çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ç¨‹åºç»ˆæ­¢&quot;&gt;&lt;a href=&quot;#ç¨‹åºç»ˆæ­¢&quot; class=&quot;headerlink&quot; title=&quot;ç¨‹åºç»ˆæ­¢&quot;&gt;&lt;/a&gt;ç¨‹åºç»ˆæ­¢&lt;/h3&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)cleanDisk &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; cleanDiskWithCompletionBlock:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)cleanDiskWithCompletionBlock:(SDWebImageNoParamsBlock)completionBlock &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;dispatch_async&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.ioQueue, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;NSURL&lt;/span&gt; *diskCacheURL = [&lt;span class=&quot;built_in&quot;&gt;NSURL&lt;/span&gt; fileURLWithPath:&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.diskCachePath isDirectory:&lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;NSArray&lt;/span&gt; *resourceKeys = @[&lt;span class=&quot;built_in&quot;&gt;NSURLIsDirectoryKey&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;NSURLContentModificationDateKey&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;NSURLTotalFileAllocatedSizeKey&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// This enumerator prefetches useful properties for our cache files.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;built_in&quot;&gt;NSDirectoryEnumerator&lt;/span&gt; *fileEnumerator = [_fileManager enumeratorAtURL:diskCacheURL&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                 includingPropertiesForKeys:resourceKeys&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                                    options:&lt;span class=&quot;built_in&quot;&gt;NSDirectoryEnumerationSkipsHiddenFiles&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                               errorHandler:&lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;built_in&quot;&gt;NSDate&lt;/span&gt; *expirationDate = [&lt;span class=&quot;built_in&quot;&gt;NSDate&lt;/span&gt; dateWithTimeIntervalSinceNow:-&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.maxCacheAge];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;built_in&quot;&gt;NSMutableDictionary&lt;/span&gt; *cacheFiles = [&lt;span class=&quot;built_in&quot;&gt;NSMutableDictionary&lt;/span&gt; dictionary];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;built_in&quot;&gt;NSUInteger&lt;/span&gt; currentCacheSize = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;comment&quot;&gt;// Enumerate all of the files in the cache directory.  This loop has two purposes:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;comment&quot;&gt;//&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;comment&quot;&gt;//  1. Removing files that are older than the expiration date.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;comment&quot;&gt;//  2. Storing file attributes for the size-based cleanup pass.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;built_in&quot;&gt;NSMutableArray&lt;/span&gt; *urlsToDelete = [[&lt;span class=&quot;built_in&quot;&gt;NSMutableArray&lt;/span&gt; alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;built_in&quot;&gt;NSURL&lt;/span&gt; *fileURL &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; fileEnumerator) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;built_in&quot;&gt;NSDictionary&lt;/span&gt; *resourceValues = [fileURL resourceValuesForKeys:resourceKeys error:&lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;comment&quot;&gt;// Skip directories.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([resourceValues[&lt;span class=&quot;built_in&quot;&gt;NSURLIsDirectoryKey&lt;/span&gt;] boolValue]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              &lt;span class=&quot;keyword&quot;&gt;continue&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;comment&quot;&gt;// Remove files that are older than the expiration date;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;built_in&quot;&gt;NSDate&lt;/span&gt; *modificationDate = resourceValues[&lt;span class=&quot;built_in&quot;&gt;NSURLContentModificationDateKey&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([[modificationDate laterDate:expirationDate] isEqualToDate:expirationDate]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              [urlsToDelete addObject:fileURL];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              &lt;span class=&quot;keyword&quot;&gt;continue&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;comment&quot;&gt;// Store a reference to this file and account for its total size.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;built_in&quot;&gt;NSNumber&lt;/span&gt; *totalAllocatedSize = resourceValues[&lt;span class=&quot;built_in&quot;&gt;NSURLTotalFileAllocatedSizeKey&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          currentCacheSize += [totalAllocatedSize unsignedIntegerValue];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          [cacheFiles setObject:resourceValues forKey:fileURL];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;built_in&quot;&gt;NSURL&lt;/span&gt; *fileURL &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; urlsToDelete) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          [_fileManager removeItemAtURL:fileURL error:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;comment&quot;&gt;// If our remaining disk cache exceeds a configured maximum size, perform a second&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;comment&quot;&gt;// size-based cleanup pass.  We delete the oldest files first.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.maxCacheSize &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp; currentCacheSize &amp;gt; &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.maxCacheSize) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;comment&quot;&gt;// Target half of our maximum cache size for this cleanup pass.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;NSUInteger&lt;/span&gt; desiredCacheSize = &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.maxCacheSize / &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// Sort the remaining cache files by their last modification time (oldest first).&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;NSArray&lt;/span&gt; *sortedFiles = [cacheFiles keysSortedByValueWithOptions:&lt;span class=&quot;built_in&quot;&gt;NSSortConcurrent&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                        usingComparator:^&lt;span class=&quot;built_in&quot;&gt;NSComparisonResult&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt; obj1, &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt; obj2) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; [obj1[&lt;span class=&quot;built_in&quot;&gt;NSURLContentModificationDateKey&lt;/span&gt;] compare:obj2[&lt;span class=&quot;built_in&quot;&gt;NSURLContentModificationDateKey&lt;/span&gt;]];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                        &amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// Delete files until we fall below our desired cache size.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;built_in&quot;&gt;NSURL&lt;/span&gt; *fileURL &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; sortedFiles) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([_fileManager removeItemAtURL:fileURL error:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;NSDictionary&lt;/span&gt; *resourceValues = cacheFiles[fileURL];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;NSNumber&lt;/span&gt; *totalAllocatedSize = resourceValues[&lt;span class=&quot;built_in&quot;&gt;NSURLTotalFileAllocatedSizeKey&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                currentCacheSize -= [totalAllocatedSize unsignedIntegerValue];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (currentCacheSize &amp;lt; desiredCacheSize) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (completionBlock) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;built_in&quot;&gt;dispatch_async&lt;/span&gt;(dispatch_get_main_queue(), ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              completionBlock();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä»ä¸Šé¢æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå½“æ”¶åˆ°UIApplicationWillTerminateNotificationæ—¶ï¼ŒSDImageCacheå°†ä¼šä½¿ç”¨ioQueueå¼‚æ­¥åœ°æ¸…ç†ç£ç›˜ç¼“å­˜ã€‚&lt;/p&gt;
&lt;p&gt;æ¸…é™¤è¿‡ç¨‹çš„é€»è¾‘å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div style=&quot;color:#008B8B&quot;&gt;&lt;p&gt;&lt;br&gt;&lt;ul&gt;&lt;br&gt;&lt;li&gt;å…ˆæ¸…é™¤å·²è¶…è¿‡æœ€å¤§ç¼“å­˜æ—¶é—´çš„ç¼“å­˜æ–‡ä»¶ï¼ˆæœ€å¤§ç¼“å­˜æ—¶é—´é»˜è®¤ä¸ºä¸€æ˜ŸæœŸï¼‰&lt;/li&gt;&lt;br&gt;&lt;li&gt;åœ¨ç¬¬ä¸€è½®æ¸…é™¤çš„è¿‡ç¨‹ä¸­ä¿å­˜æ–‡ä»¶å±æ€§ï¼Œç‰¹åˆ«æ˜¯ç¼“å­˜æ–‡ä»¶å¤§å°&lt;/li&gt;&lt;br&gt;&lt;li&gt;åœ¨ç¬¬ä¸€è½®æ¸…é™¤åï¼Œå¦‚æœè®¾ç½®äº†æœ€å¤§ç¼“å­˜å¹¶ä¸”ä¿ç•™ä¸‹æ¥çš„ç£ç›˜ç¼“å­˜æ–‡ä»¶ä»ç„¶è¶…è¿‡äº†é…ç½®çš„æœ€å¤§ç¼“å­˜ï¼Œé‚£ä¹ˆè¿›è¡Œç¬¬äºŒè½®ä»¥å¤§å°ä¸ºåŸºç¡€çš„æ¸…é™¤ã€‚&lt;/li&gt;&lt;br&gt;&lt;li&gt;é¦–å…ˆåˆ é™¤æœ€è€çš„æ–‡ä»¶ï¼Œç›´åˆ°è¾¾åˆ°æœŸæœ›çš„æ€»çš„ç¼“å­˜å¤§å°ï¼Œå³æœ€å¤§ç¼“å­˜çš„ä¸€åŠã€‚&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;&lt;br&gt;&lt;/p&gt;&lt;/div&gt;

&lt;h3 id=&quot;ç¨‹åºè¿›å…¥åå°&quot;&gt;&lt;a href=&quot;#ç¨‹åºè¿›å…¥åå°&quot; class=&quot;headerlink&quot; title=&quot;ç¨‹åºè¿›å…¥åå°&quot;&gt;&lt;/a&gt;ç¨‹åºè¿›å…¥åå°&lt;/h3&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)backgroundCleanDisk &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Class &lt;span class=&quot;built_in&quot;&gt;UIApplicationClass&lt;/span&gt; = &lt;span class=&quot;built_in&quot;&gt;NSClassFromString&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;@&quot;UIApplication&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(!&lt;span class=&quot;built_in&quot;&gt;UIApplicationClass&lt;/span&gt; || ![&lt;span class=&quot;built_in&quot;&gt;UIApplicationClass&lt;/span&gt; respondsToSelector:&lt;span class=&quot;keyword&quot;&gt;@selector&lt;/span&gt;(sharedApplication)]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;UIApplication&lt;/span&gt; *application = [&lt;span class=&quot;built_in&quot;&gt;UIApplication&lt;/span&gt; performSelector:&lt;span class=&quot;keyword&quot;&gt;@selector&lt;/span&gt;(sharedApplication)];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    __block &lt;span class=&quot;built_in&quot;&gt;UIBackgroundTaskIdentifier&lt;/span&gt; bgTask = [application beginBackgroundTaskWithExpirationHandler:^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// Clean up any unfinished task business by marking where you&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// stopped or ending the task outright.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [application endBackgroundTask:bgTask];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        bgTask = &lt;span class=&quot;built_in&quot;&gt;UIBackgroundTaskInvalid&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// Start the long-running task and return immediately.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; cleanDiskWithCompletionBlock:^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       [application endBackgroundTask:bgTask];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       bgTask = &lt;span class=&quot;built_in&quot;&gt;UIBackgroundTaskInvalid&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å½“æ”¶åˆ°UIApplicationDidEnterBackgroundNotificationæ—¶ï¼Œåœ¨æ‰‹æœºç³»ç»Ÿåå°è¿›è¡Œå¦‚ä¸Šé¢æè¿°çš„å¼‚æ­¥ç£ç›˜ç¼“å­˜æ¸…ç†ã€‚è¿™é‡Œåˆ©ç”¨Objectiveï¼Cçš„åŠ¨æ€è¯­è¨€ç‰¹æ€§ï¼Œå¾—åˆ°UIApplicationçš„å•ä¾‹sharedApplicationï¼Œä½¿ç”¨sharedApplicationå¼€å¯åå°ä»»åŠ¡cleanDiskWithCompletionBlock:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://boilwater.github.io/2016/05/29/runtimeç†è§£/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;runtimeçš„è¯¦è§£&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;æŸ¥è¯¢å›¾ç‰‡&quot;&gt;&lt;a href=&quot;#æŸ¥è¯¢å›¾ç‰‡&quot; class=&quot;headerlink&quot; title=&quot;æŸ¥è¯¢å›¾ç‰‡&quot;&gt;&lt;/a&gt;æŸ¥è¯¢å›¾ç‰‡&lt;/h3&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;built_in&quot;&gt;NSOperation&lt;/span&gt; *)queryDiskCacheForKey:(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)key done:(SDWebImageQueryCompletedBlock)doneBlock &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!doneBlock) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!key) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       doneBlock(&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;, SDImageCacheTypeNone);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// First check the in-memory cache...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;built_in&quot;&gt;UIImage&lt;/span&gt; *image = [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; imageFromMemoryCacheForKey:key];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (image) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       doneBlock(image, SDImageCacheTypeMemory);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;built_in&quot;&gt;NSOperation&lt;/span&gt; *operation = [&lt;span class=&quot;built_in&quot;&gt;NSOperation&lt;/span&gt; new];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;built_in&quot;&gt;dispatch_async&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.ioQueue, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (operation.isCancelled) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;@autoreleasepool&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           &lt;span class=&quot;built_in&quot;&gt;UIImage&lt;/span&gt; *diskImage = [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; diskImageForKey:key];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (diskImage &amp;amp;&amp;amp; &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.shouldCacheImagesInMemory) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               &lt;span class=&quot;built_in&quot;&gt;NSUInteger&lt;/span&gt; cost = SDCacheCostForImage(diskImage);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.memCache setObject:diskImage forKey:key cost:cost];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           &lt;span class=&quot;built_in&quot;&gt;dispatch_async&lt;/span&gt;(dispatch_get_main_queue(), ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               doneBlock(diskImage, SDImageCacheTypeDisk);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; operation;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æŸ¥è¯¢ç¼“å­˜ï¼Œé»˜è®¤ä½¿ç”¨æ–¹æ³•queryDiskCacheForKey:done:ï¼Œå¦‚æœæ­¤æ–¹æ³•è¿”å›nilï¼Œåˆ™è¯´æ˜ç¼“å­˜ä¸­ç°åœ¨è¿˜æ²¡æœ‰è¿™å¼ ç…§ç‰‡ï¼Œå› æ­¤ä½ éœ€è¦å¾—åˆ°å¹¶ç¼“å­˜è¿™å¼ å›¾ç‰‡ã€‚ç¼“å­˜keyæ˜¯ç¼“å­˜å›¾ç‰‡çš„ç¨‹åºå”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œä¸€èˆ¬ä½¿ç”¨å›¾ç‰‡çš„å®Œæ•´URLã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸æƒ³SDImageCacheæŸ¥è¯¢ç£ç›˜ç¼“å­˜ï¼Œä½ å¯ä»¥è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ï¼šimageFromMemoryCacheForKey:ã€‚&lt;/p&gt;
&lt;p&gt;è¿”å›å€¼ä¸ºNSOprationï¼Œå•ç‹¬ä½¿ç”¨SDImageCacheæ²¡ç”¨ï¼Œä½†æ˜¯ä½¿ç”¨SDWebImageManagerå°±å¯ä»¥å¯¹å¤šä¸ªä»»åŠ¡çš„ä¼˜å…ˆçº§ã€ä¾èµ–ï¼Œå¹¶ä¸”å¯ä»¥å–æ¶ˆã€‚&lt;/p&gt;
&lt;p&gt;è‡ªå®šä¹‰@autoreleasepoolï¼Œautoreleasepoolä»£ç æ®µé‡Œé¢æœ‰å¤§é‡çš„å†…å­˜æ¶ˆè€—æ“ä½œï¼Œè‡ªå®šä¹‰autoreleasepoolå¯ä»¥åŠæ—¶åœ°é‡Šæ”¾æ‰å†…å­˜ã€‚&lt;br&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)cachePathForKey:(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)key inPath:(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)path &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *filename = [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; cachedFileNameForKey:key];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; [path stringByAppendingPathComponent:filename];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)defaultCachePathForKey:(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)key &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; cachePathForKey:key inPath:&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.diskCachePath];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#pragma mark SDImageCache (private)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)cachedFileNameForKey:(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)key &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *str = [key UTF8String];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (str == &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        str = &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; r[CC_MD5_DIGEST_LENGTH];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CC_MD5(str, (CC_LONG)strlen(str), r);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *filename = [&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; stringWithFormat:&lt;span class=&quot;string&quot;&gt;@&quot;%02x%02x%02x%02x%02x%02x%02x%02x%02x%02x%02x%02x%02x%02x%02x%02x%@&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                          r[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                          r[&lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;12&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;13&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;14&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;], [[key pathExtension] isEqualToString:&lt;span class=&quot;string&quot;&gt;@&quot;&quot;&lt;/span&gt;] ? &lt;span class=&quot;string&quot;&gt;@&quot;&quot;&lt;/span&gt; : [&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; stringWithFormat:&lt;span class=&quot;string&quot;&gt;@&quot;.%@&quot;&lt;/span&gt;, [key pathExtension]]];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; filename;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;built_in&quot;&gt;NSData&lt;/span&gt; *)diskImageDataBySearchingAllPathsForKey:(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)key &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *defaultPath = [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; defaultCachePathForKey:key];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;NSData&lt;/span&gt; *data = [&lt;span class=&quot;built_in&quot;&gt;NSData&lt;/span&gt; dataWithContentsOfFile:defaultPath];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (data) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; data;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// fallback because of https://github.com/rs/SDWebImage/pull/976 that added the extension to the disk file name&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// checking the key with and without the extension&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    data = [&lt;span class=&quot;built_in&quot;&gt;NSData&lt;/span&gt; dataWithContentsOfFile:[defaultPath stringByDeletingPathExtension]];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (data) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; data;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;NSArray&lt;/span&gt; *customPaths = [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.customPaths &lt;span class=&quot;keyword&quot;&gt;copy&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *path &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; customPaths) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *filePath = [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; cachePathForKey:key inPath:path];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;NSData&lt;/span&gt; *imageData = [&lt;span class=&quot;built_in&quot;&gt;NSData&lt;/span&gt; dataWithContentsOfFile:filePath];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (imageData) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; imageData;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// fallback because of https://github.com/rs/SDWebImage/pull/976 that added the extension to the disk file name&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// checking the key with and without the extension&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        imageData = [&lt;span class=&quot;built_in&quot;&gt;NSData&lt;/span&gt; dataWithContentsOfFile:[filePath stringByDeletingPathExtension]];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (imageData) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; imageData;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div style=&quot;color:#008B8B&quot;&gt;&lt;p&gt;&lt;br&gt;ä¸Šé¢ä»£ç æ®µæ˜¯ä»ç£ç›˜è·å–å›¾ç‰‡çš„ä»£ç ã€‚å¾—åˆ°å›¾ç‰‡å¯¹åº”çš„UIDataåï¼Œè¿˜è¦ç»è¿‡å¦‚ä¸‹æ­¥éª¤ï¼Œæ‰èƒ½è¿”å›å¯¹åº”çš„å›¾ç‰‡ï¼š&lt;br&gt;&lt;ul&gt;&lt;br&gt;&lt;li&gt;æ ¹æ®å›¾ç‰‡çš„ä¸åŒç§ç±»ï¼Œç”Ÿæˆå¯¹åº”çš„UIImage&lt;/li&gt;&lt;br&gt;&lt;li&gt;æ ¹æ®keyå€¼ï¼Œè°ƒæ•´imageçš„scaleå€¼&lt;/li&gt;&lt;br&gt;&lt;li&gt;å¦‚æœè®¾ç½®å›¾ç‰‡éœ€è¦è§£å‹ç¼©ï¼Œåˆ™è¿˜éœ€å¯¹UIImageè¿›è¡Œè§£ç &lt;/li&gt;&lt;br&gt;&lt;/ul&gt;&lt;br&gt;&lt;/p&gt;&lt;/div&gt;

&lt;h3 id=&quot;ä¸‹é¢æ˜¯MD5çš„åŠ å¯†æ–¹å¼&quot;&gt;&lt;a href=&quot;#ä¸‹é¢æ˜¯MD5çš„åŠ å¯†æ–¹å¼&quot; class=&quot;headerlink&quot; title=&quot;ä¸‹é¢æ˜¯MD5çš„åŠ å¯†æ–¹å¼&quot;&gt;&lt;/a&gt;ä¸‹é¢æ˜¯MD5çš„åŠ å¯†æ–¹å¼&lt;/h3&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)cachedFileNameForKey:(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)key &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *str = [key UTF8String];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (str == &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        str = &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; r[CC_MD5_DIGEST_LENGTH];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CC_MD5(str, (CC_LONG)strlen(str), r);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *filename = [&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; stringWithFormat:&lt;span class=&quot;string&quot;&gt;@&quot;%02x%02x%02x%02x%02x%02x%02x%02x%02x%02x%02x%02x%02x%02x%02x%02x%@&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                          r[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                          r[&lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;12&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;13&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;14&lt;/span&gt;], r[&lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;], [[key pathExtension] isEqualToString:&lt;span class=&quot;string&quot;&gt;@&quot;&quot;&lt;/span&gt;] ? &lt;span class=&quot;string&quot;&gt;@&quot;&quot;&lt;/span&gt; : [&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; stringWithFormat:&lt;span class=&quot;string&quot;&gt;@&quot;.%@&quot;&lt;/span&gt;, [key pathExtension]]];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; filename;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;å›¾ç‰‡çš„ä¿å­˜&quot;&gt;&lt;a href=&quot;#å›¾ç‰‡çš„ä¿å­˜&quot; class=&quot;headerlink&quot; title=&quot;å›¾ç‰‡çš„ä¿å­˜&quot;&gt;&lt;/a&gt;å›¾ç‰‡çš„ä¿å­˜&lt;/h3&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)storeImage:(&lt;span class=&quot;built_in&quot;&gt;UIImage&lt;/span&gt; *)image recalculateFromImage:(&lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt;)recalculate imageData:(&lt;span class=&quot;built_in&quot;&gt;NSData&lt;/span&gt; *)imageData forKey:(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)key toDisk:(&lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt;)toDisk &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!image || !key) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// if memory cache is enabled&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.shouldCacheImagesInMemory) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;NSUInteger&lt;/span&gt; cost = SDCacheCostForImage(image);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.memCache setObject:image forKey:key cost:cost];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (toDisk) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;dispatch_async&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.ioQueue, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;NSData&lt;/span&gt; *data = imageData;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (image &amp;amp;&amp;amp; (recalculate || !data)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#if TARGET_OS_IPHONE&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// We need to determine if the image is a PNG or a JPEG&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// PNGs are easier to detect because they have a unique signature (http://www.w3.org/TR/PNG-Structure.html)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// The first eight bytes of a PNG file always contain the following (decimal) values:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// 137 80 78 71 13 10 26 10&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// If the imageData is nil (i.e. if trying to save a UIImage directly or the image was transformed on download)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// and the image has an alpha channel, we will consider it PNG to avoid losing the transparency&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; alphaInfo = &lt;span class=&quot;built_in&quot;&gt;CGImageGetAlphaInfo&lt;/span&gt;(image.CGImage);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt; hasAlpha = !(alphaInfo == kCGImageAlphaNone ||&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                  alphaInfo == kCGImageAlphaNoneSkipFirst ||&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                  alphaInfo == kCGImageAlphaNoneSkipLast);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt; imageIsPng = hasAlpha;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// But if we have an image data, we will look at the preffix&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([imageData length] &amp;gt;= [kPNGSignatureData length]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    imageIsPng = ImageDataHasPNGPreffix(imageData);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (imageIsPng) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    data = &lt;span class=&quot;built_in&quot;&gt;UIImagePNGRepresentation&lt;/span&gt;(image);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    data = &lt;span class=&quot;built_in&quot;&gt;UIImageJPEGRepresentation&lt;/span&gt;(image, (&lt;span class=&quot;built_in&quot;&gt;CGFloat&lt;/span&gt;)&lt;span class=&quot;number&quot;&gt;1.0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#else&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                data = [&lt;span class=&quot;built_in&quot;&gt;NSBitmapImageRep&lt;/span&gt; representationOfImageRepsInArray:image.representations usingType: &lt;span class=&quot;built_in&quot;&gt;NSJPEGFileType&lt;/span&gt; properties:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#endif&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (data) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (![_fileManager fileExistsAtPath:_diskCachePath]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    [_fileManager createDirectoryAtPath:_diskCachePath withIntermediateDirectories:&lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt; attributes:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt; error:&lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// get cache Path for image key&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *cachePathForKey = [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; defaultCachePathForKey:key];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// transform to NSUrl&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;NSURL&lt;/span&gt; *fileURL = [&lt;span class=&quot;built_in&quot;&gt;NSURL&lt;/span&gt; fileURLWithPath:cachePathForKey];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                [_fileManager createFileAtPath:cachePathForKey contents:data attributes:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// disable iCloud backup&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.shouldDisableiCloud) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    [fileURL setResourceValue:[&lt;span class=&quot;built_in&quot;&gt;NSNumber&lt;/span&gt; numberWithBool:&lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt;] forKey:&lt;span class=&quot;built_in&quot;&gt;NSURLIsExcludedFromBackupKey&lt;/span&gt; error:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)storeImage:(&lt;span class=&quot;built_in&quot;&gt;UIImage&lt;/span&gt; *)image forKey:(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)key &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; storeImage:image recalculateFromImage:&lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt; imageData:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt; forKey:key toDisk:&lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)storeImage:(&lt;span class=&quot;built_in&quot;&gt;UIImage&lt;/span&gt; *)image forKey:(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)key toDisk:(&lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt;)toDisk &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; storeImage:image recalculateFromImage:&lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt; imageData:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt; forKey:key toDisk:toDisk];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å­˜å‚¨ä¸€ä¸ªå›¾ç‰‡åˆ°ç¼“å­˜ä¸­ï¼Œå¯ä»¥ä½¿ç”¨æ–¹æ³•storeImage:forKey:method:ï¼Œé»˜è®¤ï¼Œå›¾ç‰‡æ—¢ä¼šå­˜å‚¨åˆ°å†…å­˜ç¼“å­˜ä¸­ï¼Œä¹Ÿä¼šå¼‚æ­¥åœ°ä¿å­˜åˆ°ç£ç›˜ç¼“å­˜ä¸­ã€‚å¦‚æœåªæƒ³ä½¿ç”¨å†…å­˜ç¼“å­˜ï¼Œå¯ä»¥ä½¿ç”¨å¦å¤–ä¸€ä¸ªæ–¹æ³•storeImage:forKey:toDiskï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¼ å…¥falseå€¼å°±å¥½äº†ã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™ç¯‡æ–‡ç« æˆ‘å°†æ¥ç€èŠ‚è®²è¿°å…³äºSDWebImageå›¾ç‰‡ä¸‹è½½åå¤„ç†æ–¹å¼ï¼Œç¼“å­˜è¿›è¡Œè®²è§£ã€‚&lt;br&gt;&lt;br&gt;&lt;br&gt;ç»è¿‡ä¸Šé¢æˆ‘ä»¬å¯ä»¥çŸ¥é“SDWebImageæ˜¯å¯ä»¥ä»è¿œç¨‹çš„æœåŠ¡å™¨åŠ è½½å›¾ç‰‡ï¼Œç„¶ååœ¨UIImageViewä¸Šè¿›è¡Œæ˜¾ç¤ºã€‚ä½†æ˜¯ä½ æœ‰æƒ³è¿‡SDWebImageåˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p
    
    </summary>
    
      <category term="ç¬¬ä¸‰æ–¹æ¡†æ¶" scheme="http://yoursite.com/categories/%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A1%86%E6%9E%B6/"/>
    
    
      <category term="ä¸‰æ–¹æ¡†æ¶è§£æ" scheme="http://yoursite.com/tags/%E4%B8%89%E6%96%B9%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>SDWebImageä¹‹å›¾ç‰‡ä¸‹è½½</title>
    <link href="http://yoursite.com/2016/06/03/SDWebImage/"/>
    <id>http://yoursite.com/2016/06/03/SDWebImage/</id>
    <published>2016-06-03T13:23:21.000Z</published>
    <updated>2016-06-04T09:08:43.000Z</updated>
    
    <content type="html">&lt;p&gt;æˆ‘ä»¬ç»å¸¸ä½¿ç”¨SDWebImageåœ¨åŠ è½½å›¾ç‰‡ï¼Œä½†å¯¹äºå›¾ç‰‡åŠ è½½è¿‡ç¨‹ä¸­æ€ä¹ˆæ ·å®ç°ä¸ä¼šæ·±ç©¶ã€‚ä¸‹é¢æˆ‘ä»¬å°±å¯¹SDWebImageè¿›è¡Œç›¸åº”çš„åˆ†æï¼š&lt;br&gt;&lt;a href=&quot;https://github.com/rs/SDWebImage&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;æºç åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;SDWebImageçš„ä¸‹è½½å™¨&quot;&gt;&lt;a href=&quot;#SDWebImageçš„ä¸‹è½½å™¨&quot; class=&quot;headerlink&quot; title=&quot;SDWebImageçš„ä¸‹è½½å™¨&quot;&gt;&lt;/a&gt;SDWebImageçš„ä¸‹è½½å™¨&lt;/h2&gt;&lt;p&gt;SDWebImageçš„ä¸‹è½½å™¨æ˜¯SDWebImageDownloaderåˆ©ç”¨å•ä¾‹æ¨¡å¼sharedDownloaderï¼Œå¯ä»¥å¯¹ä¸‹è½½çš„å›¾ç‰‡è¿›è¡Œç›¸å…³é…ç½®ã€‚å¯ä»¥é…ç½®çš„éƒ¨åˆ†å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;ul&gt;&lt;/ul&gt;&lt;/p&gt;
&lt;p&gt;&lt;li&gt;ä¸‹è½½é€‰é¡¹&lt;/li&gt;&lt;/p&gt;
&lt;p&gt;&lt;li&gt;HTTPçš„å¤´éƒ¨&lt;/li&gt;&lt;/p&gt;
&lt;p&gt;&lt;li&gt;å‹ç¼©ã€ä¸‹è½½è¶…æ—¶ã€ä¸‹è½½é¡ºåºã€æœ€å¤§å¹¶å‘æ•°ç­‰&lt;/li&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3 id=&quot;ä¸‹è½½é€‰é¡¹&quot;&gt;&lt;a href=&quot;#ä¸‹è½½é€‰é¡¹&quot; class=&quot;headerlink&quot; title=&quot;ä¸‹è½½é€‰é¡¹&quot;&gt;&lt;/a&gt;ä¸‹è½½é€‰é¡¹&lt;/h3&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;typedef&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;NS_OPTIONS&lt;/span&gt;(&lt;span class=&quot;built_in&quot;&gt;NSUInteger&lt;/span&gt;, SDWebImageDownloaderOptions) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;//ä¸‹è½½çš„ä¼˜å…ˆçº§&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   SDWebImageDownloaderLowPriority = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;//ä¸‹è½½è¿›åº¦&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   SDWebImageDownloaderProgressiveDownload = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;//ä¸‹è½½è·¯å¾„ç¼“å­˜&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   SDWebImageDownloaderUseNSURLCache = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;//ä¸‹è½½è¿‡ç¨‹çš„è¯·æ±‚ç¼“å­˜&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   SDWebImageDownloaderIgnoreCachedResponse = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;//åå°è¿›è¡Œç»§ç»­ä¸‹è½½&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   SDWebImageDownloaderContinueInBackground = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   SDWebImageDownloaderHandleCookies = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   SDWebImageDownloaderAllowInvalidSSLCertificates = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   SDWebImageDownloaderHighPriority = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;HTTPçš„å¤´éƒ¨è®¾ç½®&quot;&gt;&lt;a href=&quot;#HTTPçš„å¤´éƒ¨è®¾ç½®&quot; class=&quot;headerlink&quot; title=&quot;HTTPçš„å¤´éƒ¨è®¾ç½®&quot;&gt;&lt;/a&gt;HTTPçš„å¤´éƒ¨è®¾ç½®&lt;/h3&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#ifdef SD_WEBP&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        _HTTPHeaders = [@&amp;#123;&lt;span class=&quot;string&quot;&gt;@&quot;Accept&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;@&quot;image/webp,image/*;q=0.8&quot;&lt;/span&gt;&amp;#125; mutableCopy];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#else&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        _HTTPHeaders = [@&amp;#123;&lt;span class=&quot;string&quot;&gt;@&quot;Accept&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;@&quot;image/*;q=0.8&quot;&lt;/span&gt;&amp;#125; mutableCopy];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#endif&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)setValue:(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)value forHTTPHeaderField:(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)field &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (value) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.HTTPHeaders[field] = value;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.HTTPHeaders removeObjectForKey:field];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)valueForHTTPHeaderField:(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)field &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.HTTPHeaders[field];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸Šè¿°forHTTPHeaderFieldçš„å‚æ•°è¿›è¡Œç›¸åº”HTTPheaderçš„è®¾ç½®ï¼Œä½¿ç”¨è€…å¯ä»¥å¯¹å¤´éƒ¨ä¿¡æ¯è¿›è¡Œç›¸å…³çš„æ·»åŠ æˆ–è€…æ˜¯åˆ é™¤HTTPå¤´éƒ¨ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h3 id=&quot;çº¿ç¨‹å®‰å…¨&quot;&gt;&lt;a href=&quot;#çº¿ç¨‹å®‰å…¨&quot; class=&quot;headerlink&quot; title=&quot;çº¿ç¨‹å®‰å…¨&quot;&gt;&lt;/a&gt;çº¿ç¨‹å®‰å…¨&lt;/h3&gt;&lt;p&gt;åœ¨å›¾ç‰‡ä¸‹è½½è¿‡ç¨‹ä¸­æˆ‘ä»¬è¦ä¿çº¿ç¨‹è®¿é—®çš„å®‰å…¨æ€§ï¼ŒbarrierQueueæ˜¯å®ç°ç½‘ç»œå“åº”çš„åºåˆ—åŒ–å®ä¾‹ã€‚&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// This queue is used to serialize the handling of the network responses of all&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;the download operation in a single queue&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;@property (SDDispatchQueueSetterSementics, nonatomic) dispatch_queue_t barrierQueue;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ä¿è¯çº¿ç¨‹å®‰å…¨çš„èµ·è§ï¼Œæˆ‘ä»¬å¯¹äºURLCallbacksè¿›è¡Œå¢æ”¹éƒ½éœ€è¦æ”¾åœ¨dispatch_barrier_syncçš„å½¢å¼æ”¾å…¥åˆ°barrierQueueã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬åªè¦è¿›è¡Œç›¸å…³çš„æŸ¥è¯¢é‚£å°±ä½¿ç”¨dispatch_syncæ”¾å…¥barrierQueueä¸­å³å¯ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;__block &lt;span class=&quot;built_in&quot;&gt;NSArray&lt;/span&gt; *callbacksForURL;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;dispatch_sync&lt;/span&gt;(sself.barrierQueue, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    callbacksForURL = [sself.URLCallbacks[url] &lt;span class=&quot;keyword&quot;&gt;copy&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatch_barrier_sync(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.barrierQueue, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt; first = &lt;span class=&quot;literal&quot;&gt;NO&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.URLCallbacks[url]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.URLCallbacks[url] = [&lt;span class=&quot;built_in&quot;&gt;NSMutableArray&lt;/span&gt; new];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        first = &lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Handle single download of simultaneous download request for the same URL&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSMutableArray&lt;/span&gt; *callbacksForURL = &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.URLCallbacks[url];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSMutableDictionary&lt;/span&gt; *callbacks = [&lt;span class=&quot;built_in&quot;&gt;NSMutableDictionary&lt;/span&gt; new];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (progressBlock) callbacks[kProgressCallbackKey] = [progressBlock &lt;span class=&quot;keyword&quot;&gt;copy&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (completedBlock) callbacks[kCompletedCallbackKey] = [completedBlock &lt;span class=&quot;keyword&quot;&gt;copy&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[callbacksForURL addObject:callbacks];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.URLCallbacks[url] = callbacksForURL;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (first) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      createCallback();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;å›è°ƒ&quot;&gt;&lt;a href=&quot;#å›è°ƒ&quot; class=&quot;headerlink&quot; title=&quot;å›è°ƒ&quot;&gt;&lt;/a&gt;å›è°ƒ&lt;/h3&gt;&lt;p&gt;åœ¨æˆ‘ä»¬ä¸‹è½½å›¾ç‰‡çš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸€å¼ å›¾ç‰‡éƒ½éœ€è¦å¼€å¯ä¸€ä¸ªçº¿ç¨‹ï¼Œåœ¨æ¯ä¸€ä¸ªçº¿ç¨‹ä¸­éƒ½éœ€è¦å¯¹æ‰§è¡Œä¸€å®šçš„å›è°ƒä¿¡æ¯ã€‚è¿™äº›å›è°ƒçš„ä¿¡æ¯ä¼šä»¥blockçš„å®è¡Œå‡ºç°ï¼š&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;typedef void(^SDWebImageDownloaderProgressBlock)(NSInteger receivedSize,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSInteger expectedSize);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;typedef void(^SDWebImageDownloaderCompletedBlock)(UIImage *image, NSData *data,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSError *error, BOOL finished);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;typedef NSDictionary *(^SDWebImageDownloaderHeadersFilterBlock)(NSURL *url, &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSDictionary *headers);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br&gt;å›¾ç‰‡ä¸‹è½½çš„è¿™äº›å›è°ƒä¿¡æ¯å­˜å‚¨åœ¨SDWebImageDownloaderç±»çš„URLCallbackså±æ€§ä¸­ï¼Œè¯¥å±æ€§æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œkeyæ˜¯å›¾ç‰‡çš„URLåœ°å€ï¼Œvalueåˆ™æ˜¯ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«æ¯ä¸ªå›¾ç‰‡çš„å¤šç»„å›è°ƒä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¸‹è½½å™¨&quot;&gt;&lt;a href=&quot;#ä¸‹è½½å™¨&quot; class=&quot;headerlink&quot; title=&quot;ä¸‹è½½å™¨&quot;&gt;&lt;/a&gt;ä¸‹è½½å™¨&lt;/h3&gt;&lt;p&gt;æ•´ä¸ªä¸‹è½½è¿‡ç¨‹ä¸­æˆ‘ä»¬éœ€è¦æ‰§è¡Œåœ¨æœ¬å°ç»“è®²è¿°çš„ä¸‹è½½å™¨ä¸­è¿›è¡Œï¼Œä¸‹è½½å™¨å¯¹äºä¸‹è½½çš„ç®¡ç†éƒ½æ˜¯æ”¾åœ¨-(id &lt;sdwebimageoperation&gt;)downloadImageWithURL:ä¸­çš„ï¼š&lt;/sdwebimageoperation&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (id &amp;lt;SDWebImageOperation&amp;gt;)downloadImageWithURL:(NSURL *)url options:(SDWebImageDownloaderOptions)options progress:(SDWebImageDownloaderProgressBlock)progressBlock completed:(SDWebImageDownloaderCompletedBlock)completedBlock &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;__block SDWebImageDownloaderOperation *operation;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;__weak __typeof(self)wself = self;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self addProgressCallback:progressBlock completedBlock:completedBlock forURL:url createCallback:^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        NSTimeInterval timeoutInterval = wself.downloadTimeout;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if (timeoutInterval == 0.0) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            timeoutInterval = 15.0;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// In order to prevent from potential duplicate caching (NSURLCache + SDImageCache) we disable the cache for image requests if told otherwise&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL:url&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cachePolicy:(options &amp;amp; SDWebImageDownloaderUseNSURLCache ? &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSURLRequestUseProtocolCachePolicy : NSURLRequestReloadIgnoringLocalCacheData)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;timeoutInterval:timeoutInterval];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;request.HTTPShouldHandleCookies = (options &amp;amp; SDWebImageDownloaderHandleCookies);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;request.HTTPShouldUsePipelining = YES;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      if (wself.headersFilter) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          request.allHTTPHeaderFields = wself.headersFilter(url, [wself.HTTPHeaders copy]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      else &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          request.allHTTPHeaderFields = wself.HTTPHeaders;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      operation = [[wself.operationClass alloc] initWithRequest:request&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                        options:options&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                       progress:^(NSInteger receivedSize, NSInteger expectedSize) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                           SDWebImageDownloader *sself = wself;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                           if (!sself) return;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                           __block NSArray *callbacksForURL;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                           dispatch_sync(sself.barrierQueue, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                               callbacksForURL = [sself.URLCallbacks[url] copy];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                           &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                           for (NSDictionary *callbacks in callbacksForURL) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                               dispatch_async(dispatch_get_main_queue(), ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                                   SDWebImageDownloaderProgressBlock callback = callbacks[kProgressCallbackKey];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                                   if (callback) callback(receivedSize, expectedSize);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                               &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                           &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                       &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                      completed:^(UIImage *image, NSData *data, NSError *error, BOOL finished) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                          SDWebImageDownloader *sself = wself;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                          if (!sself) return;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                          __block NSArray *callbacksForURL;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                          dispatch_barrier_sync(sself.barrierQueue, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                              callbacksForURL = [sself.URLCallbacks[url] copy];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                              if (finished) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                                  [sself.URLCallbacks removeObjectForKey:url];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                              &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                          &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                          for (NSDictionary *callbacks in callbacksForURL) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                              SDWebImageDownloaderCompletedBlock callback = callbacks[kCompletedCallbackKey];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                              if (callback) callback(image, data, error, finished);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                          &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                      &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                      cancelled:^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                          SDWebImageDownloader *sself = wself;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                          if (!sself) return;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                          dispatch_barrier_async(sself.barrierQueue, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                              [sself.URLCallbacks removeObjectForKey:url];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                          &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                      &amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      operation.shouldDecompressImages = wself.shouldDecompressImages;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      if (wself.urlCredential) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          operation.credential = wself.urlCredential;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#125; else if (wself.username &amp;amp;&amp;amp; wself.password) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          operation.credential = [NSURLCredential credentialWithUser:wself.username password:wself.password persistence:NSURLCredentialPersistenceForSession];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      if (options &amp;amp; SDWebImageDownloaderHighPriority) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          operation.queuePriority = NSOperationQueuePriorityHigh;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#125; else if (options &amp;amp; SDWebImageDownloaderLowPriority) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          operation.queuePriority = NSOperationQueuePriorityLow;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      [wself.downloadQueue addOperation:operation];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      if (wself.executionOrder == SDWebImageDownloaderLIFOExecutionOrder) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          // Emulate LIFO execution order by systematically adding new operations as last operation&amp;apos;s dependency&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          [wself.lastAddedOperation addDependency:operation];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          wself.lastAddedOperation = operation;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  return operation;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨ä¸Šé¢çš„æ–¹æ³•ä¸­è°ƒç”¨çš„æ–¹æ³•(void)addProgressCallback:completedBlock:forURL:createCallback:å°†åœ¨è®¿é—®å›¾ç‰‡è¯·æ±‚çš„ä¿¡æ¯ç›´æ¥æ”¾å…¥ä¸‹è½½å™¨ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)addProgressCallback:(SDWebImageDownloaderProgressBlock)progressBlock completedBlock:(SDWebImageDownloaderCompletedBlock)completedBlock forURL:(&lt;span class=&quot;built_in&quot;&gt;NSURL&lt;/span&gt;*)url createCallback:(SDWebImageNoParamsBlock)createCallback &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// The URL will be used as the key to the callbacks dictionary so it cannot be nil. If it is nil immediately call the completed block with no image or data.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (url == &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (completedBlock != &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            completedBlock(&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;NO&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatch_barrier_sync(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.barrierQueue, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt; first = &lt;span class=&quot;literal&quot;&gt;NO&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.URLCallbacks[url]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.URLCallbacks[url] = [&lt;span class=&quot;built_in&quot;&gt;NSMutableArray&lt;/span&gt; new];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       first = &lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// Handle single download of simultaneous download request for the same URL&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;built_in&quot;&gt;NSMutableArray&lt;/span&gt; *callbacksForURL = &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.URLCallbacks[url];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;built_in&quot;&gt;NSMutableDictionary&lt;/span&gt; *callbacks = [&lt;span class=&quot;built_in&quot;&gt;NSMutableDictionary&lt;/span&gt; new];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (progressBlock) callbacks[kProgressCallbackKey] = [progressBlock &lt;span class=&quot;keyword&quot;&gt;copy&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (completedBlock) callbacks[kCompletedCallbackKey] = [completedBlock &lt;span class=&quot;keyword&quot;&gt;copy&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   [callbacksForURL addObject:callbacks];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.URLCallbacks[url] = callbacksForURL;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (first) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       createCallback();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;ä¸‹è½½æ“ä½œ&quot;&gt;&lt;a href=&quot;#ä¸‹è½½æ“ä½œ&quot; class=&quot;headerlink&quot; title=&quot;ä¸‹è½½æ“ä½œ&quot;&gt;&lt;/a&gt;ä¸‹è½½æ“ä½œ&lt;/h3&gt;&lt;p&gt;åœ¨æ¯å¼ å›¾ç‰‡ä¸‹è½½è¿‡ç¨‹ä¸­éƒ½è¦è°ƒç”¨ä¸€æ¬¡å…·ä½“çš„æ“ä½œéƒ½ä¼šè°ƒç”¨Operationï¼Œä¸‹é¢å°±åˆ†æä¸€ä¸‹ä¸­é—´çš„å…·ä½“è¿‡ç¨‹ã€‚&lt;br&gt;æˆ‘ä»¬æ‰“å¼€SDWebImageçš„æ–‡ä»¶å¤¹å¯ä»¥åˆ°å…¶ä¸­æœ‰ä¸€ä¸ªSDWebImageOperationçš„ç±»ï¼Œå¦‚ä¸‹ï¼š&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;#import &amp;lt;Foundation/Foundation.h&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;@protocol SDWebImageOperation &amp;lt;NSObject&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)cancel;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;@end&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br&gt;å…¶ä¸­æˆ‘ä»¬ä½¿ç”¨NSOpationçš„å­ç±»æ¥å®Œæˆå…·ä½“å›¾ç‰‡ä¸‹è½½çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªç±»å°±æ˜¯SDWebImageDownloaderOperationã€‚åœ¨SDWebImageDownloaderOperationç±»ä¸­ç»§æ‰¿NSOperationçš„ç±»è€Œä¸”å®ç°SDWebImageOperationçš„cancelçš„å–æ¶ˆåè®®ã€‚é™¤äº†ç»§æ‰¿è€Œæ¥çš„æ–¹æ³•ï¼Œè¯¥ç±»åªå‘å¤–æš´éœ²äº†ä¸€ä¸ªæ–¹æ³•ï¼Œå³ä¸Šé¢æ‰€ç”¨åˆ°çš„åˆå§‹åŒ–æ–¹æ³•initWithRequest:options:pregress:completed:cancelled:ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå›¾ç‰‡çš„ä¸‹è½½ï¼ŒSDWebImageDownloaderOperationå®Œå…¨ä¾èµ–äºURLåŠ è½½ç³»ç»Ÿä¸­çš„NSURLConnectionç±»ï¼ˆå¹¶æœªä½¿ç”¨iOS7ä»¥åçš„NSURLSessionç±»ï¼‰ã€‚æˆ‘ä»¬å…ˆæ¥åˆ†æä¸€ä¸‹SDWebImageDownloaderOperationç±»ä¸­å¯¹äºå›¾ç‰‡å®é™…æ•°æ®çš„ä¸‹è½½å¤„ç†ï¼Œå³NSURLConnectionå„ä»£ç†æ–¹æ³•çš„å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼ŒSDWebImageDownloaderOperationåœ¨Extentionä¸­é‡‡ç”¨äº†NSURLConnectionDataDelegateåè®®ï¼Œå¹¶å®ç°äº†åè®®çš„ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;connection:didReceiveResponse:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;connection:didReceiveData:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;connectionDidFinishLoading:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;connection:didFailWithError:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;connection:willCacheResponse:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;connectionShouldUseCredentialStorage:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;connection:willSendRequestForAuthenticationChallenge:&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™äº›æ–¹æ³•æˆ‘ä»¬å°±ä¸é€ä¸€åˆ†æäº†ï¼Œå°±ç»ˆç‚¹åˆ†æä¸€ä¸‹connection:didReceiveResponse:å’Œconnection:didReceiveData:ä¸¤ä¸ªæ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;connection:didReceiveResponseæ–¹æ³•é€šè¿‡åˆ¤æ–­NSURLResponseçš„å®é™…ç±»å‹å’ŒçŠ¶æ€ç ï¼Œå¯¹é™¤304ä»¥å¤–400ä»¥å†…çš„çŠ¶æ€ç ååº”ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)connection:(&lt;span class=&quot;built_in&quot;&gt;NSURLConnection&lt;/span&gt; *)connection didReceiveResponse:(&lt;span class=&quot;built_in&quot;&gt;NSURLResponse&lt;/span&gt; *)response &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;comment&quot;&gt;//&#39;304 Not Modified&#39; is an exceptional one&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (![response respondsToSelector:&lt;span class=&quot;keyword&quot;&gt;@selector&lt;/span&gt;(statusCode)] ||([((&lt;span class=&quot;built_in&quot;&gt;NSHTTPURLResponse&lt;/span&gt; *)response) statusCode] &amp;lt; &lt;span class=&quot;number&quot;&gt;400&lt;/span&gt; &amp;amp;&amp;amp; [((&lt;span class=&quot;built_in&quot;&gt;NSHTTPURLResponse&lt;/span&gt;  *)response) statusCode] != &lt;span class=&quot;number&quot;&gt;304&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;built_in&quot;&gt;NSInteger&lt;/span&gt; expected = response.expectedContentLength &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; ? (&lt;span class=&quot;built_in&quot;&gt;NSInteger&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      response.expectedContentLength : &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.expectedSize = expected;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.progressBlock) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.progressBlock(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, expected);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.imageData = [[&lt;span class=&quot;built_in&quot;&gt;NSMutableData&lt;/span&gt; alloc] initWithCapacity:expected];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.response = response;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;dispatch_async&lt;/span&gt;(dispatch_get_main_queue(), ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      [[&lt;span class=&quot;built_in&quot;&gt;NSNotificationCenter&lt;/span&gt; defaultCenter] postNotificationName:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      SDWebImageDownloadReceiveResponseNotification object:&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;built_in&quot;&gt;NSUInteger&lt;/span&gt; code = [((&lt;span class=&quot;built_in&quot;&gt;NSHTTPURLResponse&lt;/span&gt; *)response) statusCode];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;//This is the case when server returns &#39;304 Not Modified&#39;. It means that &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   remote image is not changed.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;//In case of 304 we need just cancel the operation and return cached image       &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   from the cache.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (code == &lt;span class=&quot;number&quot;&gt;304&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; cancelInternal];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.connection cancel];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;built_in&quot;&gt;dispatch_async&lt;/span&gt;(dispatch_get_main_queue(), ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       [[&lt;span class=&quot;built_in&quot;&gt;NSNotificationCenter&lt;/span&gt; defaultCenter] postNotificationName:SDWebImageDownloadStopNotification object:&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.completedBlock) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.completedBlock(&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;, [&lt;span class=&quot;built_in&quot;&gt;NSError&lt;/span&gt; errorWithDomain:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;built_in&quot;&gt;NSURLErrorDomain&lt;/span&gt; code:[((&lt;span class=&quot;built_in&quot;&gt;NSHTTPURLResponse&lt;/span&gt; *)response) statusCode] &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       userInfo:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;], &lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;built_in&quot;&gt;CFRunLoopStop&lt;/span&gt;(&lt;span class=&quot;built_in&quot;&gt;CFRunLoopGetCurrent&lt;/span&gt;());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; done];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;connection:didReceiveData:æ–¹æ³•çš„ä¸»è¦ä»»åŠ¡æ˜¯æ¥å—æ•°æ®ã€‚æ¯æ¬¡æ¥æ”¶åˆ°æ•°æ®æ—¶ï¼Œéƒ½ä¼šç”¨ç°æœ‰çš„æ•°æ®åˆ›å»ºä¸€ä¸ªCGImageSourceRefå¯¹è±¡ä»¥ä½œå¤„ç†ã€‚åœ¨é¦–æ¬¡è·å–åˆ°æ•°æ®æ—¶ï¼ˆwidth+height==0ï¼‰ä¼šä»è¿™äº›åŒ…å«å›¾åƒä¿¡æ¯çš„æ•°æ®ä¸­å–å‡ºå›¾åƒçš„é•¿ã€å®½ã€æ–¹å‘ç­‰ä¿¡æ¯ä»¥å¤‡ä½¿ç”¨ã€‚è€Œååœ¨å›¾ç‰‡ä¸‹è½½å®Œæˆä¹‹å‰ï¼Œä¼šä½¿ç”¨CGImageSourceRefå¯¹è±¡åˆ›å»ºä¸€ä¸ªå›¾åƒå¯¹è±¡ï¼Œç»è¿‡ç¼©æ”¾ã€è§£å‹ç¼©æ“ä½œåç”Ÿæˆä¸€ä¸ªUIImageå¯¹è±¡ä¾›å®Œæˆå›è°ƒä½¿ç”¨ã€‚å½“ç„¶ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­è¿˜éœ€è¦å¤„ç†çš„å°±æ˜¯è¿›åº¦ä¿¡æ¯ã€‚å¦‚æœæˆ‘ä»¬æœ‰è®¾ç½®è¿›åº¦å›è°ƒçš„è¯ï¼Œå°±è°ƒç”¨è¿›åº¦å›è°ƒä»¥å¤„ç†å½“å‰å›¾ç‰‡çš„ä¸‹è½½è¿›åº¦ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)connection:(&lt;span class=&quot;built_in&quot;&gt;NSURLConnection&lt;/span&gt; *)connection didReceiveData:(&lt;span class=&quot;built_in&quot;&gt;NSData&lt;/span&gt; *)data&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.imageData appendData:data];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ((&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.options &amp;amp; SDWebImageDownloaderProgressiveDownload) &amp;amp;&amp;amp; &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.expectedSize &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp; &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.completedBlock) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// The following code is from http://www.cocoaintheshell.com/2011/05/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;progressive-images-download-imageio/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Thanks to the author @Nyx0uf&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Get the total bytes downloaded &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;NSInteger&lt;/span&gt; totalSize = &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.imageData.length;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Update the data source, we must pass ALL the data, not just the new bytes&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;built_in&quot;&gt;CGImageSourceRef&lt;/span&gt; imageSource = &lt;span class=&quot;built_in&quot;&gt;CGImageSourceCreateWithData&lt;/span&gt;((__bridge &lt;span class=&quot;built_in&quot;&gt;CFDataRef&lt;/span&gt;)&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.imageData, &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (width + height == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;CFDictionaryRef&lt;/span&gt; properties = &lt;span class=&quot;built_in&quot;&gt;CGImageSourceCopyPropertiesAtIndex&lt;/span&gt;(imageSource, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (properties) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;NSInteger&lt;/span&gt; orientationValue = &lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;CFTypeRef&lt;/span&gt; val = &lt;span class=&quot;built_in&quot;&gt;CFDictionaryGetValue&lt;/span&gt;(properties, kCGImagePropertyPixelHeight);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (val) &lt;span class=&quot;built_in&quot;&gt;CFNumberGetValue&lt;/span&gt;(val, kCFNumberLongType, &amp;amp;height);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                val = &lt;span class=&quot;built_in&quot;&gt;CFDictionaryGetValue&lt;/span&gt;(properties, kCGImagePropertyPixelWidth);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (val) &lt;span class=&quot;built_in&quot;&gt;CFNumberGetValue&lt;/span&gt;(val, kCFNumberLongType, &amp;amp;width);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                val = &lt;span class=&quot;built_in&quot;&gt;CFDictionaryGetValue&lt;/span&gt;(properties, kCGImagePropertyOrientation);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (val) &lt;span class=&quot;built_in&quot;&gt;CFNumberGetValue&lt;/span&gt;(val, kCFNumberNSIntegerType, &amp;amp;orientationValue);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;CFRelease&lt;/span&gt;(properties);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// When we draw to Core Graphics, we lose orientation information,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// which means the image below born of initWithCGIImage will be&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// oriented incorrectly sometimes. (Unlike the image born of initWithData&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// in connectionDidFinishLoading.) So save it here and pass it on later.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                orientation = [[&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; class] orientationFromPropertyValue:(orientationValue == &lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt; ? &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; : orientationValue)];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (width + height &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp; totalSize &amp;lt; &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.expectedSize) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// Create the image&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;CGImageRef&lt;/span&gt; partialImageRef = &lt;span class=&quot;built_in&quot;&gt;CGImageSourceCreateImageAtIndex&lt;/span&gt;(imageSource, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#ifdef TARGET_OS_IPHONE&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// Workaround for iOS anamorphic image&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (partialImageRef) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; size_t partialHeight = &lt;span class=&quot;built_in&quot;&gt;CGImageGetHeight&lt;/span&gt;(partialImageRef);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;CGColorSpaceRef&lt;/span&gt; colorSpace = &lt;span class=&quot;built_in&quot;&gt;CGColorSpaceCreateDeviceRGB&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;CGContextRef&lt;/span&gt; bmContext = &lt;span class=&quot;built_in&quot;&gt;CGBitmapContextCreate&lt;/span&gt;(&lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt;, width, height, &lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;, width * &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;, colorSpace, kCGBitmapByteOrderDefault | kCGImageAlphaPremultipliedFirst);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;CGColorSpaceRelease&lt;/span&gt;(colorSpace);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (bmContext) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;built_in&quot;&gt;CGContextDrawImage&lt;/span&gt;(bmContext, (&lt;span class=&quot;built_in&quot;&gt;CGRect&lt;/span&gt;)&amp;#123;.origin.x = &lt;span class=&quot;number&quot;&gt;0.0&lt;/span&gt;f, .origin.y = &lt;span class=&quot;number&quot;&gt;0.0&lt;/span&gt;f, .size.width = width, .size.height = partialHeight&amp;#125;, partialImageRef);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;built_in&quot;&gt;CGImageRelease&lt;/span&gt;(partialImageRef);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    partialImageRef = &lt;span class=&quot;built_in&quot;&gt;CGBitmapContextCreateImage&lt;/span&gt;(bmContext);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;built_in&quot;&gt;CGContextRelease&lt;/span&gt;(bmContext);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;built_in&quot;&gt;CGImageRelease&lt;/span&gt;(partialImageRef);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    partialImageRef = &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#endif&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (partialImageRef) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;UIImage&lt;/span&gt; *image = [&lt;span class=&quot;built_in&quot;&gt;UIImage&lt;/span&gt; imageWithCGImage:partialImageRef scale:&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; orientation:orientation];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *key = [[SDWebImageManager sharedManager] cacheKeyForURL:&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.request.URL];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;UIImage&lt;/span&gt; *scaledImage = [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; scaledImageForKey:key image:image];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.shouldDecompressImages) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    image = [&lt;span class=&quot;built_in&quot;&gt;UIImage&lt;/span&gt; decodedImageWithImage:scaledImage];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    image = scaledImage;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;CGImageRelease&lt;/span&gt;(partialImageRef);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                dispatch_main_sync_safe(^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.completedBlock) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.completedBlock(image, &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;NO&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;CFRelease&lt;/span&gt;(imageSource);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.progressBlock) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.progressBlock(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.imageData.length, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.expectedSize);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æˆ‘ä»¬å‰é¢è¯´è¿‡SDWebImageDownloaderOperationç±»æ˜¯ç»§æ‰¿è‡ªNSOperationç±»ã€‚å®ƒæ²¡æœ‰ç®€å•çš„å®ç°mainæ–¹æ³•ï¼Œè€Œæ˜¯é‡‡ç”¨æ›´åŠ çµæ´»çš„startæ–¹æ³•ï¼Œä»¥ä¾¿è‡ªå·±ç®¡ç†ä¸‹è½½çš„çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨startæ–¹æ³•ä¸­ï¼Œåˆ›å»ºäº†æˆ‘ä»¬ä¸‹è½½æ‰€ä½¿ç”¨çš„NSURLConnectionå¯¹è±¡ï¼Œå¼€å¯äº†å›¾ç‰‡çš„ä¸‹è½½ï¼ŒåŒæ—¶æŠ›å‡ºä¸€ä¸ªä¸‹è½½å¼€å§‹çš„é€šçŸ¥ã€‚startæ–¹æ³•çš„å…·ä½“å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)start &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;@synchronized&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.isCancelled) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.finished = &lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; reset];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#if TARGET_OS_IPHONE &amp;amp;&amp;amp; __IPHONE_OS_VERSION_MAX_ALLOWED &amp;gt;= __IPHONE_4_0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Class &lt;span class=&quot;built_in&quot;&gt;UIApplicationClass&lt;/span&gt; = &lt;span class=&quot;built_in&quot;&gt;NSClassFromString&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;@&quot;UIApplication&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt; hasApplication = &lt;span class=&quot;built_in&quot;&gt;UIApplicationClass&lt;/span&gt; &amp;amp;&amp;amp; [&lt;span class=&quot;built_in&quot;&gt;UIApplicationClass&lt;/span&gt; respondsToSelector:&lt;span class=&quot;keyword&quot;&gt;@selector&lt;/span&gt;(sharedApplication)];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (hasApplication &amp;amp;&amp;amp; [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; shouldContinueWhenAppEntersBackground]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            __&lt;span class=&quot;keyword&quot;&gt;weak&lt;/span&gt; __typeof__ (&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;) wself = &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;UIApplication&lt;/span&gt; * app = [&lt;span class=&quot;built_in&quot;&gt;UIApplicationClass&lt;/span&gt; performSelector:&lt;span class=&quot;keyword&quot;&gt;@selector&lt;/span&gt;(sharedApplication)];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.backgroundTaskId = [app beginBackgroundTaskWithExpirationHandler:^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                __&lt;span class=&quot;keyword&quot;&gt;strong&lt;/span&gt; __&lt;span class=&quot;keyword&quot;&gt;typeof&lt;/span&gt; (wself) sself = wself;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (sself) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    [sself cancel];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    [app endBackgroundTask:sself.backgroundTaskId];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    sself.backgroundTaskId = &lt;span class=&quot;built_in&quot;&gt;UIBackgroundTaskInvalid&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#endif&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.executing = &lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.connection = [[&lt;span class=&quot;built_in&quot;&gt;NSURLConnection&lt;/span&gt; alloc] initWithRequest:&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.request delegate:&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; startImmediately:&lt;span class=&quot;literal&quot;&gt;NO&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.thread = [&lt;span class=&quot;built_in&quot;&gt;NSThread&lt;/span&gt; currentThread];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.connection start];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.connection) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.progressBlock) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.progressBlock(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;NSURLResponseUnknownLength&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;dispatch_async&lt;/span&gt;(dispatch_get_main_queue(), ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            [[&lt;span class=&quot;built_in&quot;&gt;NSNotificationCenter&lt;/span&gt; defaultCenter] postNotificationName:SDWebImageDownloadStartNotification object:&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (floor(&lt;span class=&quot;built_in&quot;&gt;NSFoundationVersionNumber&lt;/span&gt;) &amp;lt;= &lt;span class=&quot;built_in&quot;&gt;NSFoundationVersionNumber_iOS_5_1&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// Make sure to run the runloop in our background thread so it can process downloaded data&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// Note: we use a timeout to work around an issue with NSURLConnection cancel under iOS 5&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;//       not waking up the runloop, leading to dead threads (see https://github.com/rs/SDWebImage/issues/466)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;CFRunLoopRunInMode&lt;/span&gt;(kCFRunLoopDefaultMode, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;CFRunLoopRun&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.isFinished) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.connection cancel];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; connection:&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.connection didFailWithError:[&lt;span class=&quot;built_in&quot;&gt;NSError&lt;/span&gt; errorWithDomain:&lt;span class=&quot;built_in&quot;&gt;NSURLErrorDomain&lt;/span&gt; code:&lt;span class=&quot;built_in&quot;&gt;NSURLErrorTimedOut&lt;/span&gt; userInfo:@&amp;#123;&lt;span class=&quot;built_in&quot;&gt;NSURLErrorFailingURLErrorKey&lt;/span&gt; : &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.request.URL&amp;#125;]];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.completedBlock) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.completedBlock(&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;, [&lt;span class=&quot;built_in&quot;&gt;NSError&lt;/span&gt; errorWithDomain:&lt;span class=&quot;built_in&quot;&gt;NSURLErrorDomain&lt;/span&gt; code:&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; userInfo:@&amp;#123;&lt;span class=&quot;built_in&quot;&gt;NSLocalizedDescriptionKey&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;@&quot;Connection can&#39;t be initialized&quot;&lt;/span&gt;&amp;#125;], &lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#if TARGET_OS_IPHONE &amp;amp;&amp;amp; __IPHONE_OS_VERSION_MAX_ALLOWED &amp;gt;= __IPHONE_4_0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Class &lt;span class=&quot;built_in&quot;&gt;UIApplicationClass&lt;/span&gt; = &lt;span class=&quot;built_in&quot;&gt;NSClassFromString&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;@&quot;UIApplication&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(!&lt;span class=&quot;built_in&quot;&gt;UIApplicationClass&lt;/span&gt; || ![&lt;span class=&quot;built_in&quot;&gt;UIApplicationClass&lt;/span&gt; respondsToSelector:&lt;span class=&quot;keyword&quot;&gt;@selector&lt;/span&gt;(sharedApplication)]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.backgroundTaskId != &lt;span class=&quot;built_in&quot;&gt;UIBackgroundTaskInvalid&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;UIApplication&lt;/span&gt; * app = [&lt;span class=&quot;built_in&quot;&gt;UIApplication&lt;/span&gt; performSelector:&lt;span class=&quot;keyword&quot;&gt;@selector&lt;/span&gt;(sharedApplication)];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [app endBackgroundTask:&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.backgroundTaskId];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.backgroundTaskId = &lt;span class=&quot;built_in&quot;&gt;UIBackgroundTaskInvalid&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#endif&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨ä¸‹è½½å®Œåæˆ–è€…æ˜¯ä¸‹è½½å¤±è´¥åéƒ½ä¼šåœæ­¢å½“å‰è°ƒç”¨çš„runloopï¼Œæ¸…æ¥šé“¾æ¥éšåå°±æŠ›å‡ºä¸‹è½½åœæ­¢çš„æ¶ˆæ¯ã€‚&lt;br&gt;å¦‚æœä¸‹è½½æˆåŠŸï¼Œåˆ™ä¼šå¤„ç†å®Œæ•´çš„å›¾ç‰‡æ•°æ®ï¼Œå¯¹å…¶è¿›è¡Œé€‚å½“çš„ç¼©æ”¾ä¸è§£å‹ç¼©æ“ä½œï¼Œä»¥æä¾›ç»™å®Œæˆå›è°ƒä½¿ç”¨ã€‚å…·ä½“å¯å‚è€ƒ-connectionDidFinishLoading:ä¸-connection:didFailWithError:çš„å®ç°ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h3&gt;&lt;p&gt;æˆ‘ä»¬åœ¨ä¸Šé¢çš„ä»‹ç»å¯ä»¥çœ‹å‡ºåœ¨ä¸‹è½½å›¾ç‰‡çš„è¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡ä¸‹è½½å›¾ç‰‡éƒ½ä¼šè°ƒç”¨NSOperationçš„å‡½æ•°è¿›è¡Œå¤„ç†ï¼Œæ¯æ¬¡æ•°æ®å®é™…å®ç°æ˜¯ä½¿ç”¨NSURLConnectionã€‚æˆ‘ä»¬æŠŠå…·ä½“å®ç°çš„çº¿ç¨‹æ”¾ç½®åœ¨é˜Ÿåˆ—ä¸­è¿›è¡Œæ‰§è¡Œæ“ä½œã€‚å¦‚æœä¸‹è½½æˆåŠŸï¼Œåˆ™ä¼šå¤„ç†å®Œæ•´çš„å›¾ç‰‡æ•°æ®ï¼Œå¯¹å…¶è¿›è¡Œé€‚å½“çš„ç¼©æ”¾ä¸è§£å‹ç¼©æ“ä½œï¼Œä»¥æä¾›ç»™å®Œæˆå›è°ƒä½¿ç”¨ã€‚å…·ä½“å¯å‚è€ƒ-connectionDidFinishLoading:ä¸-connection:didFailWithError:çš„å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://boilwater.github.io/2016/06/04/SDWebImageä¹‹å›¾ç‰‡ç¼“å­˜åˆ†æ/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ä¸‹ä¸€èŠ‚æˆ‘ä»¬å°†è®²è¿°å¦‚ä½•å¯¹ä¸‹è½½çš„å›¾ç‰‡è¿›è¡Œç¼“å­˜å¤„ç†&lt;/a&gt;;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;æˆ‘ä»¬ç»å¸¸ä½¿ç”¨SDWebImageåœ¨åŠ è½½å›¾ç‰‡ï¼Œä½†å¯¹äºå›¾ç‰‡åŠ è½½è¿‡ç¨‹ä¸­æ€ä¹ˆæ ·å®ç°ä¸ä¼šæ·±ç©¶ã€‚ä¸‹é¢æˆ‘ä»¬å°±å¯¹SDWebImageè¿›è¡Œç›¸åº”çš„åˆ†æï¼š&lt;br&gt;&lt;a href=&quot;https://github.com/rs/SDWebImage&quot; target=&quot;_blank&quot; rel=&quot;ext
    
    </summary>
    
      <category term="ç¬¬ä¸‰æ–¹æ¡†æ¶" scheme="http://yoursite.com/categories/%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A1%86%E6%9E%B6/"/>
    
    
      <category term="ä¸‰æ–¹æ¡†æ¶è§£æ" scheme="http://yoursite.com/tags/%E4%B8%89%E6%96%B9%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>IOSé¢è¯•&amp;è‡ªå·±ç†è§£&amp;è¯¦ç»†èµ„æ–™åº“</title>
    <link href="http://yoursite.com/2016/06/02/IOS%E9%9D%A2%E8%AF%95%E6%A2%B3%E7%90%86&%E8%87%AA%E5%B7%B1%E7%90%86%E8%A7%A3&%E8%AF%A6%E7%BB%86%E8%B5%84%E6%96%99%E5%BA%93/"/>
    <id>http://yoursite.com/2016/06/02/IOSé¢è¯•æ¢³ç†&è‡ªå·±ç†è§£&è¯¦ç»†èµ„æ–™åº“/</id>
    <published>2016-06-02T11:01:41.000Z</published>
    <updated>2016-06-07T16:06:57.000Z</updated>
    
    <content type="html">&lt;p&gt;å¼€å¯å…³äºIOSé¢è¯•ä¹‹è·¯æ€»ç»“ï¼Œè¯´å®è¯ç›®å‰IOSå¼€å‘çœŸæ˜¯å¤ªå¤šå¾ˆå¤šæƒ…å†µä¸‹å¤§å®¶æƒ…å†µè‰¯è ä¸é½å¾ˆéš¾åˆ†è¾¨ã€‚ç›®å‰è¿˜æ˜¯åœ¨å¹¿å·ï¼Œå…¶å®è¿˜æ˜¯å¾ˆå¼€å¿ƒçš„ï¼Œå› ä¸ºè¿™é‡Œæœ‰è‡ªå·±ğŸ˜äº‹ç‰©æ‰€åœ¨ã€‚&lt;/p&gt;
&lt;h3 id=&quot;OCçš„ç†è§£å’Œç‰¹æ€§&quot;&gt;&lt;a href=&quot;#OCçš„ç†è§£å’Œç‰¹æ€§&quot; class=&quot;headerlink&quot; title=&quot;OCçš„ç†è§£å’Œç‰¹æ€§&quot;&gt;&lt;/a&gt;OCçš„ç†è§£å’Œç‰¹æ€§&lt;/h3&gt;&lt;p&gt;ä½œä¸ºå¼€å‘è€…æˆ‘ä»¬éƒ½çŸ¥é“è¯­è¨€çš„ç‰¹æ€§åŒ…æ‹¬ï¼šé¢å¯¹å¯¹è±¡ï¼Œé¢å‘è¿‡ç¨‹ã€‚Objcå°±æ˜¯å…³äºé¢å¯¹å¯¹è±¡è¯­è¨€ï¼Œä¹Ÿå°±åŒ…æ‹¬é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€ã€‚ä¸‹é¢æ˜¯å¯¹ä¸‰è€…ä¼˜ç‚¹åˆ—è¡¨ğŸ˜‰&lt;/p&gt;
&lt;ul&gt;&lt;br&gt;&lt;li&gt;å°è£…ï¼šå¯¹äºè¦å¤„ç†çš„é—®é¢˜è¿›è¡Œæ¨¡å—å¼€å‘ï¼Œå¥½å¤„æœ‰åˆ©äºæˆ‘ä»¬å¯¹äºåŠŸèƒ½çš„æ‹“å±•&lt;/li&gt;&lt;br&gt;&lt;li&gt;ç»§æ‰¿ï¼šé€šè¿‡ç»§æ‰¿å®ç°å¯¹çˆ¶ç±»æ–¹æ³•çš„å®ç°ï¼Œä¹Ÿå¯ä»¥åœ¨å­ç±»ä¸­é‡å†™çˆ¶ç±»æ–¹æ³•&lt;/li&gt;&lt;br&gt;&lt;li&gt;å¤šæ€ï¼šé€šè¿‡åŒåå‡½æ•°ä½†æ˜¯è¾“å…¥å½¢å¼å‚æ•°çš„ç§ç±»ï¼Œæ•°ç›®ï¼Œç±»å‹ä¸åŒå®ç°å…·ä½“å‡½æ•°åŠŸèƒ½ä¸åŒï¼ˆå…·ä½“å®ç°å¯ä»¥å‚ç…§C&amp;amp;C++åœ¨ç¼–è¯‘åå½¢å¼~æƒ³äº†è§£çš„å¯ä»¥è‡ªå·±æŸ¥æ‰¾ï¼‰&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;&lt;br&gt;Objcçš„åŠ¨æ€ç‰¹æ€§ï¼šåŠ¨æ€ç±»å‹ã€åŠ¨æ€åŠ è½½ã€åŠ¨æ€ç»‘å®šã€‚å…¶å®å‰é¢æˆ‘ä»¬åœ¨runtimeçš„ç†è§£è¿‡ç¨‹ä¸­æœ‰æ‰€è®²è§£ã€‚&lt;a href=&quot;http://boilwater.github.io/2016/05/29/runtimeç†è§£/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å‚è€ƒåœ°å€&lt;/a&gt;&lt;br&gt;&lt;ul&gt;&lt;br&gt;&lt;li&gt;åŠ¨æ€ç±»å‹ï¼šåœ¨IOSä¸­æˆ‘ä»¬ç»å¸¸è§åˆ°idç±»å‹ï¼Œidç±»å‹æŒ‡åœ¨Objcä¸­åŠ¨æ€ç±»å‹ã€‚åœ¨å®é™…åº”ç”¨ä¸­æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨é™æ€ç±»å‹ï¼Œé™æ€ç±»å‹ï¼šå›ºå®šå’Œå¯é¢„çŸ¥æ€§ã€‚é™æ€ç±»å‹æ˜¯å¼ºç±»å‹ï¼ŒåŠ¨æ€ç±»å‹æ˜¯å¼±ç±»å‹ã€‚ä¾‹å¦‚ï¼šæˆ‘ä»¬ç»å¸¸è§åˆ°çš„protrcolå§”æ‰˜åè®®å°±æ˜¯é‡‡å–@proerty(nonatomic, weak) id&lt;protrcol&gt; delegate&lt;/protrcol&gt;&lt;/li&gt;&lt;br&gt;&lt;li&gt;åŠ¨æ€åŠ è½½ï¼šåŸºäºåŠ¨æ€ç±»å‹ï¼Œåœ¨æŸä¸ªå®ä¾‹å¯¹è±¡è¢«ç¡®å®šåï¼Œå…¶ç±»å‹ä¾¿è¢«ç¡®å®šäº†ï¼Œè¯¥å¯¹è±¡å¯¹åº”çš„å±æ€§å’Œå“åº”æ¶ˆæ¯ä¹Ÿè¢«å®Œå…¨ç¡®å®šã€‚&lt;/li&gt;&lt;br&gt;&lt;li&gt;åŠ¨æ€ç»‘å®šï¼šæ˜¯æˆ‘ä»¬åœ¨é€‚é…æœºå‹åŠ è½½è¿‡ç¨‹ä¸­ï¼ŒåŠ¨æ€å®ç°å›¾ç‰‡çš„å®ç°ã€‚ä¾‹å¦‚ï¼Œåœ¨Retinaè®¾å¤‡ä¸ŠåŠ è½½@2xçš„å›¾ç‰‡ã€‚&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;

&lt;h3 id=&quot;å†…å­˜ç®¡ç†åŸåˆ™&quot;&gt;&lt;a href=&quot;#å†…å­˜ç®¡ç†åŸåˆ™&quot; class=&quot;headerlink&quot; title=&quot;å†…å­˜ç®¡ç†åŸåˆ™&quot;&gt;&lt;/a&gt;å†…å­˜ç®¡ç†åŸåˆ™&lt;/h3&gt;&lt;ul&gt;&lt;br&gt;&lt;li&gt;IOS5.0ä¹‹å‰ï¼šåœ¨IOS 5.0ä¹‹å‰Objcå†…å­˜ç®¡ç†è¯•è¡Œè°åˆ›å»ºï¼Œè°é‡Šæ”¾çš„åŸåˆ™ã€‚å¦‚æœè¦å¯¹æ˜¯åˆå§‹åŒ–çš„ç±»å‹è¿›è¡Œalloc,retain,copyï¼Œå°±éœ€è¦æ‰‹åŠ¨è¿›è¡Œreleaseè¿›è¡Œé‡Šæ”¾ã€‚å½“è®¡æ•°ä¸º0æ—¶æ‰ä¼šé‡Šæ”¾å¯¹åº”çš„åˆå§‹åŒ–å†…å­˜ç©ºé—´å’ŒæŒ‡é’ˆï¼Œæˆ‘ä»¬ç§°ä¸ºMRCæ—¶ä»£ã€‚&lt;/li&gt;&lt;br&gt;&lt;li&gt;IOS 5.0ä¹‹åï¼šä½¿ç”¨æˆè¨€IOSå¼€å‘é‚£å°±æ˜¯ä¸€ä¸ªå­—ï¼šçˆ½ã€‚åœ¨ARCï¼šè‡ªåŠ¨è®¡æ•°æ¨¡å¼å¼€å‘ç¨‹åºï¼Œæˆ‘ä»¬ä¸ç”¨å†æ‰‹åŠ¨é‡Šæ”¾ç”³è¯·çš„å¯¹è±¡ï¼Œç¨‹åºå¼€å‘è¿‡ç¨‹ç»ˆäºè§ä¸åˆ°release,autorelease,retainè¯­å¥ã€‚ä¸è¿‡æˆ‘ä»¬è¿™æ˜¯å°±è¯¥æ³¨æ„åˆ°strongå’Œweakçš„ç»†å¾®åŒºåˆ«ã€‚&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;

&lt;hr&gt;
&lt;p&gt;strong &amp;amp; weakåŒºåˆ«&lt;/p&gt;
&lt;ul&gt;&lt;br&gt;&lt;li&gt;strong:ç”¨æ¥ä¿®é¥°å¼ºå¼•ç”¨å±æ€§&lt;/li&gt;&lt;br&gt;&lt;li&gt;weak:ç”¨æ¥ä¿®é¥°å¼±å¼•ç”¨å±æ€§&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;&lt;br&gt;strong &amp;amp; weakå®ç°å…·ä½“æƒ…å†µ&lt;br&gt;&lt;ul&gt;&lt;br&gt;&lt;li&gt;æˆ‘ä»¬çŸ¥é“strongçš„ä½¿ç”¨æ—¶å¼ºå¼•ç”¨ï¼Œä½¿ç”¨å¼ºå¼•ç”¨ä½¿æˆ‘ä»¬åœ¨èµ‹å€¼æ—¶ä¼šä½¿è®¡æ•°å™¨+1ï¼›&lt;br&gt;&lt;br&gt;&lt;br&gt;é‡Šæ”¾æ—¶é—´ï¼šå½“æŒ‡é’ˆæŒ‡å‘æ–°å€¼æˆ–è€…æŒ‡é’ˆä¸å­˜åœ¨ï¼ŒæŒ‡é’ˆä¸å­˜åœ¨ä¸€èˆ¬æ˜¯åœ¨è‡ªåŠ¨è®¡æ•°ä¸º0æ—¶æŒ‡é’ˆä¼šè‡ªåŠ¨é‡Šæ”¾ã€‚&lt;/li&gt;&lt;br&gt;&lt;li&gt;weakæ˜¯å¼±å¼•ç”¨ï¼Œæ‚²å‰§çš„æ˜¯å¼±å¼•ç”¨æ˜¯ä¸ä¼šå†è®¡æ•°+1çš„ã€‚ä¸è¿‡è¿™ä¹Ÿä½¿æˆ‘ä»¬åœ¨ä½¿ç”¨æ—¶å¾ˆæ–¹ä¾¿ï¼Œå› ä¸ºæˆ‘ä»¬å¦‚æœè¦é˜²æ­¢blockä¸­å‘ç”Ÿå¾ªç¯å¼•ç”¨çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨blockå¤–ä½¿ç”¨_weakè¿›è¡Œä¿®é¥°ã€‚&lt;br&gt;&lt;br&gt;&lt;br&gt;é‡Šæ”¾æ—¶é—´ï¼šå¯¹è±¡çš„æ‹¥æœ‰è€…æŒ‡å‘æ–°å€¼æˆ–è€…ä¸å­˜åœ¨æ—¶weakä¿®é¥°çš„æŒ‡é’ˆä¼šè‡ªåŠ¨ç½®ä¸ºnilã€‚&lt;br&gt;&lt;br&gt;&lt;br&gt;weakçš„å®ç°åŸç†ï¼šåœ¨æ¯ä¸€ä¸ªç±»ä¸­éƒ½æœ‰ä¸€ä¸ªå¼±å¼•ç”¨çš„åˆ—è¡¨ï¼Œåœ¨é‡Šæ”¾æ—¶éƒ½ä¼šå¯¹åˆ—è¡¨è¿›è¡Œè®¿é—®ã€‚å¦‚æœæ‰¾åˆ°ç›¸åº”çš„å¯¹è±¡å°±æ‰§è¡Œé‡Šæ”¾ã€‚&lt;br&gt;&lt;br&gt;&lt;br&gt;Strongï¼šæ˜¯é€šè¿‡ARCçš„è‡ªåŠ¨è®¡æ•°æ¥å®ç°å¯¹äºå¯¹è±¡çš„é‡Šæ”¾ã€‚&lt;br&gt;&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;

&lt;hr&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/leikezhu1981/article/details/42697977&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å‚è€ƒèµ„æ–™&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;&lt;br&gt;&lt;li&gt;åœ¨æƒ³ä¸€ä¸ªå¯¹è±¡å‘é€autoreleaseæ¶ˆæ¯æ—¶ï¼Œå…¶å®ç›®æ ‡ä¸ä¼šç«‹å³é‡Šæ”¾ï¼Œä¼šæœ‰ä¸€ä¸ªå…·ä½“çš„æ—¶é—´å€¼ã€‚åœ¨autoreleaseè°ƒç”¨çš„æ—¶å€™ï¼Œä¼šå¯¹å…¶ä¸­çš„å¯¹è±¡æŒ¨ä¸ªå‘é€releaseè¯­å¥å¯¹äºæ¯ä¸ªå¯¹è±¡è¿›è¡Œç›¸åº”çš„é‡Šæ”¾ã€‚åé¢ä¼šå¯¹äºautoreleaseè¿›è¡Œä¸“é¡¹è®²è§£ï¼Œä¸è¿‡è¿™é‡Œå¯ä»¥ç»™å¤§ç‰›èµ„æ–™ï¼Œä¸‹æ–‡&lt;/li&gt;&lt;br&gt;&lt;li&gt;åœ¨ARCä¸­æˆ‘ä»¬ä¸ç”¨æ‰‹åŠ¨å‘å®ä¾‹åŒ–å¯¹è±¡å‘é€releaseè¿›è¡Œé‡Šæ”¾ï¼Œä½†æ˜¯åœ¨MRCä¸­å°±éœ€è¦æˆ‘ä»¬å¯¹ç”³è¯·çš„å¯¹è±¡è¿›è¡Œæ‰‹åŠ¨é‡Šæ”¾å¯¹è±¡ã€‚é‚£ä¹ˆé—®é¢˜æ¥å•¦ï¼Œå¯¹è±¡ä¼šç«‹å³é‡Šæ”¾å—ï¼Ÿ&lt;br&gt;&lt;br&gt;&lt;br&gt;è®°ä½ä¸€ç‚¹åœ¨MRCä¹Ÿæ˜¯å¯¹è±¡æœ‰æ—¶ä¹Ÿä¸ä¼šç«‹å³é‡Šæ”¾ï¼Œéœ€è¦å½“å‰å¯¹è±¡çš„è®¡æ•°ä¸º0æ—¶æ‰ä¼šä½¿ç”¨deallocè¿›è¡Œå¯¹è±¡ä¸­æ‰€æœ‰çš„å†…å®¹ã€‚&lt;br&gt;&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;&lt;br&gt;&lt;a href=&quot;http://www.cocoachina.com/ios/20150610/12093.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;AutoreleasePoolå¤§ç‰›çš„èµ„æ–™&lt;/a&gt;&lt;br&gt;&lt;br&gt;#### å…¶ä»–æ³¨æ„äº‹é¡¹&lt;br&gt;&lt;br&gt;&lt;ul&gt;&lt;br&gt;&lt;li&gt;å½“ä¸€ä¸ªå¯¹è±¡è¢«_strongæŒ‡å‘æ—¶ï¼Œè¯¥å¯¹è±¡æ˜¯ä¸ä¼šè¢«é‡Šæ”¾çš„ã€‚ä½†æ˜¯å½“å¯¹è±¡åœ¨è¶…å‡ºå…¶ä½œç”¨åŒºåŸŸæ—¶ï¼ˆåœ¨C++ä¸­å±€éƒ¨å˜é‡åœ¨è¶…å‡ºä½œç”¨åŒºåŸŸå°±ä¼šnilï¼‰ï¼Œæ­¤æ—¶æŒ‡é’ˆä¹Ÿä¼šè¢«ç½®ä¸ºniläºæ­¤åŒæ—¶æŒ‡é’ˆæ‰€æŒ‡çš„å†…å­˜ç©ºé—´ä¹Ÿä¼šè¢«é‡Šæ”¾ã€‚&lt;br&gt;&lt;br&gt;&lt;br&gt;è¿˜æœ‰å°±æ˜¯å½“è¯•å›¾æ§åˆ¶å™¨ï¼ˆViewControllerï¼‰è¿›è¡Œé‡Šæ”¾ï¼Œå…¶ä¸­çš„å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡éƒ½ä¼šè¢«é‡Šæ”¾ã€‚ä¹Ÿæœ‰æ„å¤–å°±æ˜¯å®ç°å¾ªç¯å¼•ç”¨ï¼Œæ­å–œä½ å¥½å¥½ä¿®æ”¹ä¸‹å§ï¼Œå› ä¸ºè¿™æ˜¯ä¸ªBUGã€‚&lt;br&gt;&lt;/li&gt;&lt;br&gt;&lt;li&gt;å±€éƒ¨å˜é‡ï¼šä¸Šé¢è®²åˆ°çš„å±€éƒ¨å˜é‡å¦‚æœè¶…å‡ºå…¶èŒƒå›´å°±ä¼šç½®ä¸ºnil&lt;/li&gt;&lt;br&gt;&lt;li&gt;åœ¨æ–¹æ³•ä¸­å¯¹è±¡åˆ›å»ºï¼Œä¸ºå•¦ä½¿å†…å­˜èƒ½å¤Ÿå°½å¯èƒ½çš„å‡å°‘å¯ä»¥ä½¿ç”¨autoreleasepoolã€‚ä½¿ç”¨æ–¹æ³•ï¼š@autoreleasepool{};&lt;/li&gt;&lt;br&gt;&lt;li&gt;blockä¸­ä¸ºäº†é¿å…å¾ªç¯å¼•ç”¨å°±ä¼šä½¿ç”¨_weakè¿›è¡Œä¿®é¥°&lt;/li&gt;&lt;br&gt;&lt;li&gt;ARCä¸æ˜¯ä¸‡èƒ½çš„ğŸ”‘ï¼šARCæ˜¯åŸºäºåœ¨Foundationä¹‹ä¸Šè¿›è¡Œçš„å˜é‡çš„ç®¡ç†ï¼Œå¦‚æœæ˜¯CGtypeRefç±»å‹å°±æ— æ³•è¿›è¡Œç®¡ç†ã€‚ä¾‹å¦‚ï¼šCGImageRefçš„å›¾ç‰‡çš„ä¿¡æ¯&lt;/li&gt;&lt;br&gt;&lt;li&gt;åŒæ ·æˆ‘ä»¬å¯ä»¥å®ç°ARCå’ŒéARCä¹‹é—´çš„è¿›è¡Œæ··åˆç¼–è¯‘ï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹ï¼š&lt;br&gt;&lt;br&gt;&lt;br&gt;åœ¨ARCä¸­è¿›è¡ŒéARCç¨‹åºçš„æ··åˆç¼–è¯‘ï¼š-fno-fobjc-arc;&lt;br&gt;&lt;br&gt;&lt;br&gt;åœ¨éARCä¸­è¿›è¡ŒARCçš„æ··åˆç¼–è¯‘ï¼š-fobjc-arc;&lt;br&gt;&lt;br&gt;&lt;br&gt;ä¸è¿‡ç›®å‰æˆ‘ä»¬ä½¿ç”¨ARCè¾ƒå¤šï¼Œæ‰€ä»¥ä½¿ç”¨ç¬¬ä¸€ç§çš„æƒ…å½¢è¾ƒå¤šã€‚swiftæ¯•ç«Ÿä¹Ÿå‘å¸ƒä¸¤å¹´ä¹‹ä¹…ï¼Œå¾ˆå¤šåˆ›ä¸šå…¬å¸å·²ç»å¼€å§‹ä½¿ç”¨swift&lt;br&gt;&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;

&lt;h4 id=&quot;æ‹“å±•ä»‹ç»&quot;&gt;&lt;a href=&quot;#æ‹“å±•ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;æ‹“å±•ä»‹ç»&quot;&gt;&lt;/a&gt;æ‹“å±•ä»‹ç»&lt;/h4&gt;&lt;hr&gt;
&lt;ul&gt;&lt;br&gt;&lt;li&gt;nonatomic:åŸå­æ“ä½œï¼Œç¦æ­¢å¤šçº¿ç¨‹è¿›è¡Œæ“ä½œ&lt;/li&gt;&lt;br&gt;&lt;li&gt;atomic:åŸå­æ“ä½œï¼Œå¤šçº¿ç¨‹å®‰å…¨æ˜¯propertyçš„é»˜è®¤æ“ä½œåŸºæœ¬ç±»å‹&lt;/li&gt;&lt;br&gt;&lt;li&gt;assign:è¡¨ç¤ºè®¾ç½®å™¨å¯ä»¥ç›´æ¥è¿›è¡Œå¤åˆ¶ï¼ŒåŸºæœ¬ç”¨äºåŸºæœ¬æ•°æ®ç±»å‹ï¼ˆNSInteger,CGFloatï¼‰å’ŒCè¯­è¨€çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆint,float,double,charï¼‰&lt;/li&gt;&lt;br&gt;&lt;li&gt;readwrite:å¯ä»¥è¿›è¡Œè¯»å†™&lt;/li&gt;&lt;br&gt;&lt;li&gt;readonly:è¿›è¡Œåªè¯»&lt;/li&gt;&lt;br&gt;&lt;li&gt;copy:åœ¨èµ‹å€¼è¿‡ç¨‹ä¸­ä¼ å…¥ä¸€ä»½å€¼å¾—copyï¼Œåœ°å€å’Œå†…å®¹éƒ½ä¼šé‡æ–°èµ‹å€¼&lt;/li&gt;&lt;br&gt;&lt;li&gt;retain:åœ¨èµ‹å€¼è¿‡ç¨‹ä¸­ä¼šä½¿ç”¨retainå¯¹è±¡ï¼ŒæŒ‡å‘å†…å®¹çš„æŒ‡é’ˆä¼šcopy&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;

&lt;hr&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/Mars2639/article/details/7352540&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¯¦ç»†å†…å®¹å‚è€ƒåœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;è®¾è®¡æ¨¡å¼&quot;&gt;&lt;a href=&quot;#è®¾è®¡æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;è®¾è®¡æ¨¡å¼&quot;&gt;&lt;/a&gt;è®¾è®¡æ¨¡å¼&lt;/h3&gt;&lt;p&gt;å¼€å‘è¿‡ç¨‹ä¸­æˆ‘ä»¬éƒ½ä¼šä½¿ç”¨åˆ°è®¾è®¡æ¨¡å¼ï¼Œè¿™é‡Œå°±ä»¥ä¸¤ç§è®¾è®¡æ¨¡å¼è¿›è¡Œä¸¾ä¾‹ï¼š&lt;/p&gt;
&lt;h4 id=&quot;MVCè®¾è®¡æ¨¡å¼&quot;&gt;&lt;a href=&quot;#MVCè®¾è®¡æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;MVCè®¾è®¡æ¨¡å¼&quot;&gt;&lt;/a&gt;MVCè®¾è®¡æ¨¡å¼&lt;/h4&gt;&lt;p&gt;MVCæ˜¯ä¸€ç§æ¶æ„æ¨¡å¼ï¼ŒMè¡¨ç¤ºMOdelï¼ŒVè¡¨ç¤ºè§†å›¾Viewï¼ŒCè¡¨ç¤ºæ§åˆ¶å™¨Controllerï¼š&lt;br&gt;å…¶å®é‡è¦çš„è¿˜æ˜¯éœ€è¦è‡ªå·±åŠ¨æ‰‹äº²è‡ªå®ç°ï¼Œè¿™æ ·å¯ä»¥é”»ç‚¼è‡ªå·±çš„ç¼–ç èƒ½åŠ›ã€‚&lt;br&gt;&lt;a href=&quot;http://www.cocoachina.com/design/20130917/7009.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;èµ„æ–™ç‚¹å‡»&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;&lt;br&gt;&lt;li&gt;Modelè´Ÿè´£å­˜å‚¨ã€å®šä¹‰ã€æ“ä½œæ•°æ®ï¼›&lt;/li&gt;&lt;br&gt;&lt;li&gt;Viewç”¨æ¥å±•ç¤ºä¹¦ç»™ç”¨æˆ·ï¼Œå’Œç”¨æˆ·è¿›è¡Œæ“ä½œäº¤äº’ï¼›&lt;/li&gt;&lt;br&gt;&lt;li&gt;Controlleræ˜¯Modelå’ŒViewçš„åè°ƒè€…ï¼ŒControlleræŠŠModelä¸­çš„æ•°æ®æ‹¿è¿‡æ¥ç»™Viewç”¨ã€‚Controllerå¯ä»¥ç›´æ¥ä¸Modelå’ŒViewè¿›è¡Œé€šä¿¡ï¼Œè€ŒViewä¸èƒ½å’ŒControllerç›´æ¥é€šä¿¡ã€‚Viewä¸Controlleré€šä¿¡éœ€è¦åˆ©ç”¨ä»£ç†åè®®çš„æ–¹å¼ï¼Œå½“æœ‰æ•°æ®æ›´æ–°æ—¶ï¼ŒMOdelä¹Ÿè¦ä¸Controllerè¿›è¡Œé€šä¿¡ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦ç”¨Notificationå’ŒKVOï¼Œè¿™ä¸ªæ–¹å¼å°±åƒä¸€ä¸ªå¹¿æ’­ä¸€æ ·ï¼ŒMOdelå‘ä¿¡å·ï¼ŒControllerè®¾ç½®ç›‘å¬æ¥å—ä¿¡å·ï¼Œå½“æœ‰æ•°æ®æ›´æ–°æ—¶å°±å‘ä¿¡å·ç»™Controllerï¼ŒModelå’ŒViewä¸èƒ½ç›´æ¥è¿›è¡Œé€šä¿¡ï¼Œè¿™æ ·ä¼šè¿èƒŒMVCè®¾è®¡æ¨¡å¼ã€‚&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;

&lt;h4 id=&quot;MVVMè®¾è®¡æ¨¡å¼&quot;&gt;&lt;a href=&quot;#MVVMè®¾è®¡æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;MVVMè®¾è®¡æ¨¡å¼&quot;&gt;&lt;/a&gt;MVVMè®¾è®¡æ¨¡å¼&lt;/h4&gt;&lt;p&gt;è¿™é‡Œå…³äºMVVMçš„è®¾è®¡æ¨¡å¼å°±ä¸å¤šè¯´ï¼Œå› ä¸ºç›®å‰è¿˜æ²¡æœ‰ä½¿ç”¨è¿‡ã€‚&lt;br&gt;&lt;br&gt;&lt;a href=&quot;http://www.cocoachina.com/ios/20160301/15425.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;MVVMå‚è€ƒèµ„æ–™åœ°å€&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;a href=&quot;http://www.cocoachina.com/ios/20160517/16309.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;MVVMå‡çº§åˆ°MVVMM&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;a href=&quot;http://www.cocoachina.com/ios/20160330/15823.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;MVVM With ReactiveCocoa&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Objcä¸­çš„åè®®&quot;&gt;&lt;a href=&quot;#Objcä¸­çš„åè®®&quot; class=&quot;headerlink&quot; title=&quot;Objcä¸­çš„åè®®&quot;&gt;&lt;/a&gt;Objcä¸­çš„åè®®&lt;/h3&gt;&lt;p&gt;æˆ‘ä»¬åœ¨IOSå¼€å‘è¿‡ç¨‹ä¸­æˆ‘ä»¬ç»å¸¸ä¼šä½¿ç”¨åè®®å’Œä»£ç†æ¨¡å¼æ¥è¿›è¡Œæ¶ˆæ¯ä¼ é€’ï¼Œåè®®ä¸€èˆ¬æ˜¯ä¼´éšç€ä»£ç†äº§ç”Ÿè€Œäº§ç”Ÿã€‚æˆ‘ä»¬åœ¨å®ç°åè®®çš„åŒæ—¶ä¸€èˆ¬éƒ½ä¼šæœ‰ä»£ç†å½¢å¼è¿›è¡Œå®Œæˆã€‚&lt;br&gt;åè®®ä¸­æœ‰ä¸¤ä¸ªå±æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;br&gt;&lt;li&gt;@required:æ˜¯è¡¨æ˜æ­¤ä¸­çš„æ–¹æ³•ä¸€å®šè¦å®ç°ï¼Œåœ¨æˆ‘ä»¬ä½¿ç”¨UITableViewDataSourceDeleteå°±æœ‰ä¸¤ä¸ªå¿…é¡»å®ç°çš„æ–¹æ³•&lt;/li&gt;&lt;br&gt;&lt;li&gt;@optional:æ–¹æ³•å¯ä»¥æ ¹æ®è‡ªå·±é€‰ç€å®ç°æ–¹æ³•&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;&lt;br&gt;åœ¨åšå®¢ä¸­æœ‰å…³äºprotrcolçš„ç›¸å…³ä½¿ç”¨&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;a href=&quot;http://boilwater.github.io/2016/05/29/blockï¼Œæ³¨å†Œç›‘å¬ï¼Œå§”æ‰˜åè®®å’ŒKVO/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å‚è€ƒåœ°å€&lt;/a&gt;&lt;br&gt;&lt;br&gt;### Categoryçš„ä¼˜ç¼ºç‚¹&lt;br&gt;æˆ‘ä»¬ä½¿ç”¨Categoryä¸€èˆ¬æ˜¯åœ¨ä¸€ä¸ªç°æœ‰ç±»ä¸­å®šå‘æ·»åŠ æ–¹æ³•ï¼Œå…¶å®æˆ‘ä»¬ä½¿ç”¨å¸¸è§çš„SDWebImageæœ¬è´¨å°±æ˜¯ä¸€ä¸ªç±»çš„ç±»ç›®ï¼šUIImageView&lt;br&gt;ä¼˜ç‚¹ï¼š&lt;br&gt;&lt;ul&gt;&lt;br&gt;&lt;li&gt;æˆ‘ä»¬åœ¨ä¸€ä¸ªç°æœ‰ç±»ä¸­å¯ä»¥å¢åŠ æ–¹æ³•ï¼Œäºæ­¤åŒæ—¶æˆ‘ä»¬åˆä¸éœ€è¦æ”¹å˜åŸæ¥å¯¹è±¡çš„å±æ€§ã€‚å¢åŠ æ–¹æ³•å’ŒåŸæ¥æ–¹æ³•ä½¿ç”¨æ˜¯ä¸€æ ·çš„&lt;/li&gt;&lt;br&gt;&lt;li&gt;åœ¨å¤šæ–¹æ³•çš„ä½¿ç”¨è¿‡ç¨‹ä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨Categoryå®ç°å¯¹ç±»è¿›è¡ŒåŒºåˆ†ï¼Œè¾¾åˆ°æ–¹ä¾¿ç®¡ç†ç±»ç§æ–¹æ³•çš„åŸåˆ™&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;

&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;br&gt;&lt;li&gt;Categoryå…è®¸æˆ‘ä»¬å¯¹ç±»è¿›è¡Œæ·»åŠ ç‰¹å®šæ–¹æ³•ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸èƒ½å‘ç±»ä¸­æ·»åŠ æˆå‘˜å˜é‡ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç»§æ‰¿ç±»åœ¨å­ç±»ä¸­è¿›è¡Œç›¸å…³æˆå‘˜å±æ€§æ·»åŠ &lt;/li&gt;&lt;br&gt;&lt;li&gt;åœ¨å¢åŠ æ–¹æ³•çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¢åŠ æ–¹æ³•çš„ä¼˜å…ˆçº§åˆ«æ¯”è¾ƒé«˜å› æ­¤ä¼šè¦†ç›–çˆ¶ç±»ä¸­çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼šåœ¨ç•Œé¢æˆ‘ä»¬ç›¸åº”æ‰‹æŒ‡è§¦æ‘¸æ—¶æœ‰å“åº”é“¾ï¼Œå¦‚æœåœ¨å­ç±»ä¸­è°ƒç”¨touchæ–¹æ³•æ²¡æœ‰è°ƒç”¨çˆ¶ç±»å°±ä¼šä½¿å“åº”è€…è¿ä¸­æ–­&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;

&lt;p&gt;&lt;a href=&quot;http://www.cocoachina.com/ios/20120614/4361.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Objective-C Categoryåˆä½“éªŒ&lt;/a&gt;&lt;br&gt; &lt;br&gt;&lt;br&gt;&lt;a href=&quot;http://www.cocoachina.com/ios/20140212/7808.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Objective-Cç›¸å…³Categoryçš„æ”¶é›†&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;é”®è·¯å¾„-keyPath-ã€é”®å€¼ç¼–ç ï¼ˆKVCï¼‰å’Œé”®å€¼è§‚å¯Ÿï¼ˆKVOï¼‰&quot;&gt;&lt;a href=&quot;#é”®è·¯å¾„-keyPath-ã€é”®å€¼ç¼–ç ï¼ˆKVCï¼‰å’Œé”®å€¼è§‚å¯Ÿï¼ˆKVOï¼‰&quot; class=&quot;headerlink&quot; title=&quot;é”®è·¯å¾„(keyPath)ã€é”®å€¼ç¼–ç ï¼ˆKVCï¼‰å’Œé”®å€¼è§‚å¯Ÿï¼ˆKVOï¼‰&quot;&gt;&lt;/a&gt;é”®è·¯å¾„(keyPath)ã€é”®å€¼ç¼–ç ï¼ˆKVCï¼‰å’Œé”®å€¼è§‚å¯Ÿï¼ˆKVOï¼‰&lt;/h3&gt;&lt;p&gt;åœ¨æˆ‘çš„åšå®¢ä¸­æœ‰æ‰€è®²è¿°ï¼Œåœ¨è¿™é‡Œå°±ä¸èµ˜è¿°å•¦ã€‚ä¸è¿‡è¿™é‡Œç»™å¤§å®¶ç•™ä¸€ä¸ªé—®é¢˜ï¼Ÿä¸ºä»€ä¹ˆä½¿ç”¨KVCï¼ˆKey-value-codingï¼‰åœ¨æ•ˆç‡ä¸æ˜¯å¾ˆé«˜ï¼Ÿ&lt;br&gt;&lt;br&gt;&lt;a href=&quot;http://boilwater.github.io/2016/05/29/block%EF%BC%8C%E6%B3%A8%E5%86%8C%E7%9B%91%E5%90%AC%EF%BC%8C%E5%A7%94%E6%89%98%E5%8D%8F%E8%AE%AE%E5%92%8CKVO/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å‚è€ƒè·¯å¾„&lt;/a&gt;&lt;br&gt;å…¶ä»–å‚è€ƒèµ„æ–™ï¼š&lt;br&gt;&lt;br&gt;&lt;a href=&quot;http://www.cocoachina.com/ios/20160408/15868.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è°ˆKVCã€KVOï¼ˆé‡ç‚¹è§‚å¯Ÿè€…æ¨¡å¼ï¼‰æœºåˆ¶ç¼–ç¨‹&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;a href=&quot;http://www.cocoachina.com/ios/20140224/7866.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;iOS KVC &amp;amp; KVO&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;NSNotificationã€Blockã€Delegateå’ŒKVOçš„åŒºåˆ«&quot;&gt;&lt;a href=&quot;#NSNotificationã€Blockã€Delegateå’ŒKVOçš„åŒºåˆ«&quot; class=&quot;headerlink&quot; title=&quot;NSNotificationã€Blockã€Delegateå’ŒKVOçš„åŒºåˆ«&quot;&gt;&lt;/a&gt;NSNotificationã€Blockã€Delegateå’ŒKVOçš„åŒºåˆ«&lt;/h3&gt;&lt;p&gt;åšå®¢ä¸­æœ‰è¯¦ç»†ä»‹ç»&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;a href=&quot;http://boilwater.github.io/2016/05/29/block%EF%BC%8C%E6%B3%A8%E5%86%8C%E7%9B%91%E5%90%AC%EF%BC%8C%E5%A7%94%E6%89%98%E5%8D%8F%E8%AE%AE%E5%92%8CKVO/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¯¦ç»†å‚çœ‹&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Objective-Cä¸­å¯ä¿®æ”¹å’Œä¸å¯ä»¥ä¿®æ”¹ç±»å‹&quot;&gt;&lt;a href=&quot;#Objective-Cä¸­å¯ä¿®æ”¹å’Œä¸å¯ä»¥ä¿®æ”¹ç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;Objective-Cä¸­å¯ä¿®æ”¹å’Œä¸å¯ä»¥ä¿®æ”¹ç±»å‹&quot;&gt;&lt;/a&gt;Objective-Cä¸­å¯ä¿®æ”¹å’Œä¸å¯ä»¥ä¿®æ”¹ç±»å‹&lt;/h3&gt;&lt;p&gt;å¯ä¿®æ”¹å’Œä¸å¯ä¿®æ”¹çš„é›†åˆç±»ï¼Œæˆ‘ä»¬åœ¨IOSå¼€å‘è¿‡ç¨‹ä¸­ç»å¸¸ä¼šé‡åˆ°NSArrayå’ŒNSMutableArrayä¸¤ç§ï¼Œä¸¤è€…çš„åŒºåˆ«ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;br&gt;&lt;li&gt;ä¸€ä¸ªæ˜¯å¯ä»¥åŠ¨æ€æ·»åŠ ï¼Œä¸€ä¸ªä¸å¯ä»¥åŠ¨æ€æ·»åŠ &lt;/li&gt;&lt;br&gt;&lt;li&gt;å‰è€…åˆå§‹åŒ–åå†…å­˜æ˜¯å›ºå®šä¸è¾¹çš„ï¼Œåè€…ç»è¿‡åˆå§‹åŒ–å†…å­˜æ˜¯å¯ä»¥å‘ç”Ÿæ”¹å˜çš„&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;

&lt;hr&gt;
&lt;p&gt;è¿™é‡Œæˆ‘å°±å¼•å‡ºä¸€ä¸ªæ¦‚å¿µï¼šéå®¹å™¨å¯¹è±¡å’Œå®¹å™¨å¯¹è±¡ã€‚&lt;/p&gt;
&lt;ul&gt;&lt;br&gt;&lt;li&gt;éå®¹å™¨å¯¹è±¡ï¼šNSNumberï¼ŒNSStingç­‰åªèƒ½æ”¾å•ä¸ªå­—ç¬¦æˆ–è€…æ•°å­—&lt;/li&gt;&lt;br&gt;&lt;li&gt;å®¹å™¨å¯¹è±¡ï¼šNSArrayï¼ŒNSDictionaryç­‰å¯ä»¥æ”¾ç½®å¤šä¸ªæ•°æ®ç±»å‹&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;&lt;br&gt;ä½†æ˜¯åœ¨æˆ‘ä»¬ç†Ÿæ‚‰çš„copyè¿‡ç¨‹ä¸­ä¼šå‘ç”Ÿå“ªäº›æƒ…å†µå‘¢ï¼Ÿ&lt;br&gt;&lt;br&gt;è¿™é‡Œåˆæå‡ºå¦å¤–çš„copçš„æ–°æ¦‚å¿µï¼šcopy, mutableCopy&lt;br&gt;&lt;ul&gt;&lt;br&gt;&lt;li&gt;copyï¼šå¤åˆ¶äº†ä¸€ä¸ªimutableçš„å¯¹è±¡+ copyWithZone:&lt;/li&gt;&lt;br&gt;&lt;li&gt;mutableCopyï¼šå¤åˆ¶çš„æ˜¯ä¸€ä¸ªmutableçš„å¯¹è±¡ï¼Œä½¿ç”¨çš„æ–¹æ³•+ mutableCopyWithZone:&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;&lt;br&gt;ä¸‹é¢æˆ‘ä»¬ç»™å‡ºåœ¨éå®¹å™¨å¯¹è±¡å¤åˆ¶åçš„å…·ä½“æƒ…å†µ&lt;br&gt;&lt;br&gt;éå®¹å™¨å¯¹è±¡     | ä¸å˜ç±»ï¼ˆNSStringï¼‰ |  å¯å˜ç±»ï¼ˆNSMustbleStringï¼‰&lt;br&gt;â€”â€”â€”â€” | â€”â€”â€”â€”â€”â€”| â€”â€”â€”â€”&lt;br&gt;copy         | æµ…Copy            | æ·±Copy~è¿”å›çš„å¯¹è±¡æ˜¯ä¸å¯å˜çš„å¯¹è±¡&lt;br&gt;mutableCopy  | æ·±Copy            | æ·±Copy&lt;br&gt;&lt;br&gt;ä¸‹é¢æˆ‘ä»¬ç»™å‡ºå®¹å™¨å¯¹è±¡ä¸­å¤åˆ¶çš„å…·ä½“æƒ…å†µ&lt;br&gt;&lt;br&gt;å®¹å™¨ç±»å‹      | ä¸å˜ç±»å‹ï¼ˆNSArrayï¼‰ | å¯å˜ç±»å‹ï¼ˆNSMutableArrayï¼‰&lt;br&gt;â€”â€”â€”â€” | â€”â€”â€”â€”â€”- | â€”â€”â€”â€”&lt;br&gt;copy         | æµ…copy            | æ·±copy&lt;br&gt;mutableCopy  | æ·±copy            | æ·±copy&lt;br&gt;&lt;br&gt;&lt;div style=&quot;color:#008B8B&quot;&gt;&lt;br&gt;&lt;p&gt;ä½†æ˜¯åœ¨å®¹å™¨å¯¹è±¡å¤åˆ¶è¿‡ç¨‹ä¸­æˆ‘ä»¬éœ€è¦è®°ä½ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯¹äºNSArrayå’ŒNSMutableçš„copyæ˜¯å¯¹äºæ•´ä½“æŒ‡é’ˆå’Œå†…å­˜æ¥è¯´ã€‚ä½†æ˜¯åœ¨å®¹å™¨å†…éƒ¨æ¯ä¸€ä¸ªå…ƒç´ æˆ‘ä»¬è¿›è¡Œçš„éƒ½æ˜¯æŒ‡é’ˆcopy,ä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„æµ…copyã€‚&lt;/p&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;ä»ä¸Šé¢åˆ—ä¸¾çš„ä¾‹å­æˆ‘ä»¬å¯ä»¥å¾—å‡ºä¸€ä¸ªç»“è®ºï¼š&lt;br&gt;&lt;ul&gt;&lt;br&gt;&lt;li&gt;æ— è®ºæ˜¯éå®¹å™¨ç±»å‹è¿˜æ˜¯å®¹å™¨ç±»å‹åªæœ‰åœ¨ä¸å¯å˜æ—¶ï¼ˆNSArrayï¼ŒNSStringï¼‰ä½¿ç”¨copyæ‰æ˜¯æµ…å¤åˆ¶ï¼Œä¹Ÿå°±æ˜¯è¯´åªæ˜¯å¤åˆ¶æŒ‡é’ˆè€Œä¸å¤åˆ¶å†…å­˜ã€‚&lt;/li&gt;&lt;br&gt;&lt;li&gt;åœ¨å¯å˜çš„ç±»å‹ï¼ˆNSMutableString, NSMutableArrayï¼‰åœ¨ä½¿ç”¨copyæ—¶ä¼šç”Ÿæˆä¸å¯å˜ç±»å‹ã€‚&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;&lt;br&gt;å…·ä½“ä¸ºä»€ä¹ˆå®ç°è¿™ç§åŸç†å¯ä»¥çœ‹ä¸‹åœ¨NSArrayå’ŒNSMutableå®ç°æ¥å£ï¼Œä»¥åŠå‚ç…§C++çš„åŸç†è¿›è¡Œè§£é‡Šã€‚&lt;br&gt;&lt;br&gt;â€”&lt;br&gt;&lt;br&gt;ä¸‹é¢æ˜¯å‚è€ƒèµ„æ–™ï¼š&lt;br&gt;&lt;br&gt;&lt;a href=&quot;http://www.fanliugen.com/?p=278&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;copyä¸mutableCopy&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/-Eric-Liu/p/5564030.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NSArrayä¸NSMutableArrayçš„åŒºåˆ«&lt;/a&gt;&lt;br&gt;&lt;br&gt;### å½“æˆ‘ä»¬è°ƒç”¨ä¸€ä¸ªé™æ€æ–¹æ³•æ—¶,éœ€è¦å¯¹å¯¹è±¡è¿›è¡Œ release å—?&lt;br&gt;&lt;br&gt;ä¸è¦å¯¹é™æ€æ–¹æ³•è¿›è¡Œé‡Šæ”¾ï¼Œå› ä¸ºé™æ€æ–¹æ³•ä¼šæ”¾åˆ°è‡ªåŠ¨é‡Šæ”¾æ± ä¸­ï¼Œåé¢ä¼šè‡ªåŠ¨é‡Šæ”¾ã€‚&lt;br&gt;&lt;br&gt;æˆ‘åœ¨åšå®¢ä¸­å†™è¿‡å…³äºRuntimeçš„è§£æï¼Œåœ¨é‚£é‡Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºä¸€ä¸ªç±»åœ¨è§£æè¿‡ç¨‹ä¸­å…¶ä¸­ç±»ä¸­è°ƒç”¨æ–¹æ³•æ˜¯Methodå½¢å¼ï¼Œæ”¾åœ¨Structçš„Classä¸­çš„ã€‚æ‰§è¡Œè¿‡ç¨‹AutoReleasePoolä¼šè¿›è¡Œç®¡ç†ã€‚&lt;br&gt;&lt;br&gt;&lt;a href=&quot;http://www.cocoachina.com/ios/20150601/11970.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;æ·±å…¥ç†è§£RunLoop&lt;/a&gt;å¤§ç¥æ–‡ç« å†™å¾—å¾ˆè¯¦ç»†&lt;br&gt;&lt;br&gt;### å½“æˆ‘ä»¬é‡Šæ”¾æˆ‘ä»¬çš„å¯¹è±¡æ—¶,ä¸ºä»€ä¹ˆéœ€è¦è°ƒç”¨[super dealloc]æ–¹æ³•,å®ƒçš„ä½ç½®åˆæ˜¯å¦‚ä½•çš„å‘¢?&lt;br&gt;&lt;br&gt;å› ä¸ºå­ç±»çš„æŸäº›å®ä¾‹æ˜¯ç»§æ‰¿è‡ªçˆ¶ç±»çš„,å› æ­¤éœ€è¦è°ƒç”¨[super dealloc]æ–¹æ³•, æ¥é‡Šæ”¾çˆ¶ç±»æ‹¥æœ‰çš„å®ä¾‹,å…¶å®ä¹Ÿå°±æ˜¯å­ç±»æœ¬èº«çš„ã€‚ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬ä¼˜å…ˆé‡Šæ”¾å­ç±»æ‹¥ æœ‰çš„å®ä¾‹,æœ€åé‡Šæ”¾çˆ¶ç±»æ‰€æ‹¥æœ‰çš„å®ä¾‹ã€‚&lt;br&gt;&lt;br&gt;### staticã€selfã€superå…³é”®å­—çš„ä½œç”¨&lt;br&gt;&lt;br&gt;static æ˜¯åœ¨Cå’ŒC++ä¸­ç»å¸¸ä½¿ç”¨çš„ï¼Œåœ¨Objcä¸­æˆ‘ä»¬ä¹Ÿæ˜¯å¸¸å¸¸ä½¿ç”¨staticæ¥å®šä¹‰cellçš„identiferç›®å‰å°±æƒ³åˆ°è¿™äº›ã€‚ä¸‹é¢ç»™å‡ºstaticçš„å…·ä½“ä½œç”¨ï¼š&lt;br&gt;&lt;ul&gt;&lt;br&gt;&lt;li&gt;staticä¿®é¥°çš„å˜é‡åªæ˜¯åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨è¿‡ç¨‹è¿›è¡Œåˆå§‹åŒ–ï¼Œæ‰€ä»¥åœ¨ç¬¬äºŒæ¬¡è°ƒç”¨æ—¶ä¼šç»´æŒä¸Šä¸€æ¬¡çš„å€¼&lt;/li&gt;&lt;br&gt;&lt;li&gt;åœ¨æ¨¡å—å†…æˆ‘ä»¬ä½¿ç”¨çš„staticå˜é‡å¯ä»¥åœ¨æ¨¡å—ä¸­æ‰€æœ‰å‡½æ•°ä½¿ç”¨ï¼Œä½†æ˜¯åœ¨æ¨¡å—å¤–å°±ä¸å¯ä»¥è¿›è¡Œè®¿é—®&lt;/li&gt;&lt;br&gt;&lt;li&gt;åœ¨æ¨¡å—å†…çš„staticçš„å‡½æ•°åªèƒ½è¢«æ¨¡å—å†…çš„å‡½æ•°è¿›è¡Œè°ƒç”¨ï¼Œä¸èƒ½è¢«æ¨¡å—å¤–çš„å…¶ä»–å‡½æ•°å£°æ˜&lt;/li&gt;&lt;br&gt;&lt;li&gt;åœ¨ç±»ä¸­çš„saticçš„å…¨å±€å˜é‡ï¼Œåœ¨æ•´ä¸ªç±»ä¸­æœ‰ä¸”ä»…ä»…åªæœ‰ä¸€ä»½çš„copy&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;&lt;br&gt;self: æ˜¯æˆ‘ä»¬åœ¨å½“å‰ç±»æ¶ˆæ¯çš„æ¥å—è€…&lt;br&gt;&lt;br&gt;super: æ˜¯æˆ‘ä»¬è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼Œæ¶ˆæ¯é“¾è¿‡ç¨‹ä¸­æˆ‘ä»¬åœ¨touchè°ƒç”¨superå°±æ˜¯è°ƒç”¨çˆ¶ç±»æ–¹æ³•ï¼Œé˜²æ­¢æ¶ˆæ¯é“¾ä¸­æ–­ã€‚&lt;br&gt;&lt;br&gt;### #includeä¸#importçš„åŒºåˆ«ï¼Œ#import ä¸@class çš„åŒºåˆ«&lt;br&gt;&lt;br&gt;&lt;ul&gt;&lt;br&gt;&lt;li&gt;#includeæ˜¯æˆ‘ä»¬åœ¨C/C++ç»å¸¸ä½¿ç”¨åˆ°çš„å¼•å…¥åˆ°æ–‡ä»¶çš„æ–¹å¼&lt;/li&gt;&lt;br&gt;&lt;li&gt;#importæ˜¯æˆ‘ä»¬åœ¨Objcä¸­ä½¿ç”¨å¼•å…¥å¤´æ–‡ä»¶çš„æ–¹å¼ï¼Œå¯ä»¥é˜²æ­¢å¤´æ–‡ä»¶è¢«å¤šæ¬¡å¼•ç”¨ï¼ˆå¦‚æœå¤´æ–‡ä»¶è¢«å¤šæ¬¡åº”ç”¨ï¼Œç¨‹åºåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ä¼šæŠŠåº“å‡½æ•°ç¼–è¯‘åˆ°ç±»ä¸­è¿™æ ·å°±å ç”¨è¾ƒå¤šå†…å­˜ï¼‰&lt;/li&gt;&lt;br&gt;&lt;br&gt;#importå’Œ@classä¸¤è€…ä¹‹é—´çš„åŒºåˆ«&lt;br&gt;&lt;li&gt;@classæ˜¯åªæ˜¯å®šä¹‰ç±»åï¼Œå¯¹å…¶ä¸­çš„è¡Œä¸ºå¹¶ä¸çŸ¥é“ï¼Œæˆ‘ä»¬ç»å¸¸å¯ä»¥å†å¾ˆå¤šç±»çš„.hæ–‡ä»¶å¯ä»¥çœ‹åˆ°&lt;/li&gt;&lt;br&gt;&lt;li&gt;@classç”±äºä»…ä»…æ˜¯å®šä¹‰ç±»çš„åå­—ï¼Œæ‰€ä»¥åœ¨ç¼–è¯‘è¿‡ç¨‹è¦æ¯”importçš„æ•ˆç‡é«˜&lt;/li&gt;&lt;br&gt;&lt;li&gt;æ­¤å¤–@class å’Œ#import çš„ä¸»è¦åŒºåˆ«åœ¨äºè§£å†³å¼•ç”¨æ­»é”çš„é—®é¢˜&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/stevenschen/p/3825044.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å‚è€ƒèµ„æ–™ç‚¹å‡»&lt;/a&gt;&lt;br&gt;&lt;br&gt;### @publicã€@protectedã€@private å®ƒä»¬çš„å«ä¹‰ä¸ä½œç”¨&lt;br&gt;&lt;br&gt;&lt;ul&gt;&lt;br&gt;&lt;li&gt;@public:å¯¹è±¡çš„å®ä¾‹å˜é‡çš„ä½œç”¨åŸŸåœ¨ä»»æ„åœ°æ–¹éƒ½å¯ä»¥è¢«è®¿é—®&lt;/li&gt;&lt;br&gt;&lt;li&gt;@protected:å¯¹è±¡çš„å®ä¾‹å˜é‡ä½œç”¨åŸŸåœ¨æœ¬ç±»å’Œå­ç±»éƒ½å¯ä»¥è¢«è®¿é—®&lt;/li&gt;&lt;br&gt;&lt;li&gt;@private:å®ä¾‹å˜é‡çš„ä½œç”¨åŸŸåªèƒ½åœ¨æœ¬ç±»(è‡ªèº«)ä¸­è®¿é—® &lt;/li&gt;&lt;br&gt;&lt;/ul&gt;

&lt;h3 id=&quot;è§£é‡Š-id-ç±»å‹&quot;&gt;&lt;a href=&quot;#è§£é‡Š-id-ç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;è§£é‡Š id ç±»å‹&quot;&gt;&lt;/a&gt;è§£é‡Š id ç±»å‹&lt;/h3&gt;&lt;p&gt;ä»»æ„ç±»å‹å¯¹è±¡ï¼Œç¨‹åºè¿è¡Œæ—¶æ‰å†³å®šå¯¹è±¡çš„ç±»å‹ã€‚ è¿™ä¹Ÿæ˜¯æˆ‘ä»¬åœ¨ä¸Šé¢è§£é‡Šçš„åŠ¨æ€ç±»å‹ã€‚&lt;/p&gt;
&lt;h3 id=&quot;switch-è¯­å¥-if-è¯­å¥åŒºåˆ«ä¸è”ç³»&quot;&gt;&lt;a href=&quot;#switch-è¯­å¥-if-è¯­å¥åŒºåˆ«ä¸è”ç³»&quot; class=&quot;headerlink&quot; title=&quot;switch è¯­å¥ if è¯­å¥åŒºåˆ«ä¸è”ç³»&quot;&gt;&lt;/a&gt;switch è¯­å¥ if è¯­å¥åŒºåˆ«ä¸è”ç³»&lt;/h3&gt;&lt;p&gt;ä¸¤è€…å‡æ˜¯åˆ¤æ–­è¯­å¥ã€‚ä½†æ˜¯switchåªå¯ä»¥åˆ¤æ–­æ•´å½¢ï¼Œå­—ç¬¦å‹ï¼Œæšä¸¾ç±»å‹ï¼›ä½†æ˜¯ifå¹¶æ²¡æœ‰ç±»å‹é™åˆ¶ã€‚&lt;/p&gt;
&lt;h3 id=&quot;isMemberOfClass-å’Œ-isKindOfClass-è”ç³»ä¸åŒºåˆ«&quot;&gt;&lt;a href=&quot;#isMemberOfClass-å’Œ-isKindOfClass-è”ç³»ä¸åŒºåˆ«&quot; class=&quot;headerlink&quot; title=&quot;isMemberOfClass å’Œ isKindOfClass è”ç³»ä¸åŒºåˆ«&quot;&gt;&lt;/a&gt;isMemberOfClass å’Œ isKindOfClass è”ç³»ä¸åŒºåˆ«&lt;/h3&gt;&lt;ul&gt;&lt;br&gt;&lt;li&gt;ä¸¤è€…éƒ½å¯ä»¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯æŸä¸ªç±»çš„æˆå‘˜&lt;/li&gt;&lt;br&gt;&lt;li&gt;isKindOfClesssä¸ç´§å¯ä»¥åˆ¤æ–­å¯¹è±¡æ˜¯å¦æ˜¯ä¸€ä¸ªç±»çš„æˆå‘˜ï¼Œä¹Ÿå¯ä»¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ´¾ç”Ÿäºç±»çš„ç±»æˆå‘˜&lt;/li&gt;&lt;br&gt;&lt;li&gt;ä¸¾ä¾‹ï¼šå¦‚ ClassAæ´¾ ç”Ÿ è‡ªNSObject ç±» , ClassA *a = [ClassA alloc] init];,[a isKindOfClass:[NSObject class]] å¯ä»¥æ£€æŸ¥å‡º a æ˜¯å¦æ˜¯ NSObjectæ´¾ç”Ÿç±» çš„æˆå‘˜,ä½† isMemberOfClass åšä¸åˆ°&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;

&lt;h3 id=&quot;iOS-å¼€å‘ä¸­æ•°æ®æŒä¹…æ€§æœ‰å“ªå‡ ç§&quot;&gt;&lt;a href=&quot;#iOS-å¼€å‘ä¸­æ•°æ®æŒä¹…æ€§æœ‰å“ªå‡ ç§&quot; class=&quot;headerlink&quot; title=&quot;iOS å¼€å‘ä¸­æ•°æ®æŒä¹…æ€§æœ‰å“ªå‡ ç§?&quot;&gt;&lt;/a&gt;iOS å¼€å‘ä¸­æ•°æ®æŒä¹…æ€§æœ‰å“ªå‡ ç§?&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;http://boilwater.github.io/2016/05/29/IOS%E7%9A%84%E6%B0%B8%E4%B9%85%E8%AF%9D%E5%82%A8%E5%AD%98/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å‚è€ƒèµ„æ–™~IOSçš„æ°¸ä¹…è¯å‚¨å­˜&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;è‡ªåŠ¨é‡Šæ”¾æ± å·¥ä½œåŸç†&quot;&gt;&lt;a href=&quot;#è‡ªåŠ¨é‡Šæ”¾æ± å·¥ä½œåŸç†&quot; class=&quot;headerlink&quot; title=&quot;è‡ªåŠ¨é‡Šæ”¾æ± å·¥ä½œåŸç†&quot;&gt;&lt;/a&gt;è‡ªåŠ¨é‡Šæ”¾æ± å·¥ä½œåŸç†&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;http://www.cocoachina.com/ios/20160602/16569.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è‡ªåŠ¨é‡Šæ”¾æ± çš„å‰ä¸–ä»Šç”Ÿ&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;a href=&quot;http://www.cocoachina.com/ios/20150610/12093.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Objective-C Autorelease Pool çš„å®ç°åŸç†&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;å¼€å¯å…³äºIOSé¢è¯•ä¹‹è·¯æ€»ç»“ï¼Œè¯´å®è¯ç›®å‰IOSå¼€å‘çœŸæ˜¯å¤ªå¤šå¾ˆå¤šæƒ…å†µä¸‹å¤§å®¶æƒ…å†µè‰¯è ä¸é½å¾ˆéš¾åˆ†è¾¨ã€‚ç›®å‰è¿˜æ˜¯åœ¨å¹¿å·ï¼Œå…¶å®è¿˜æ˜¯å¾ˆå¼€å¿ƒçš„ï¼Œå› ä¸ºè¿™é‡Œæœ‰è‡ªå·±ğŸ˜äº‹ç‰©æ‰€åœ¨ã€‚&lt;/p&gt;
&lt;h3 id=&quot;OCçš„ç†è§£å’Œç‰¹æ€§&quot;&gt;&lt;a href=&quot;#OCçš„ç†è§£å’Œç‰¹æ€§&quot; class=&quot;headerlink
    
    </summary>
    
      <category term="IOS" scheme="http://yoursite.com/categories/IOS/"/>
    
    
      <category term="IOSåŸºç¡€çŸ¥è¯†" scheme="http://yoursite.com/tags/IOS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>UIView &amp; CALayer &amp; Core Animation ~ ï¼ˆUIView å’Œ CALayerï¼‰ï¼ˆ1ï¼‰</title>
    <link href="http://yoursite.com/2016/05/30/UIView&CALayer/"/>
    <id>http://yoursite.com/2016/05/30/UIView&CALayer/</id>
    <published>2016-05-30T04:55:50.000Z</published>
    <updated>2016-06-12T14:56:18.000Z</updated>
    
    <content type="html">&lt;p&gt;ä¸€ç›´æƒ³åšä¸ªdomeæ¥å®è·µè‡ªå·±æ‰€å­¦çš„çŸ¥è¯†ï¼Œçœ‹åˆ°ç½‘ä¸Šæœ‰å¾ˆå¤šèµ„æ–™æ„Ÿè§‰å‹åŠ›æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥å†³å®šç«™åœ¨å·¨äººè‚©è†€ä¸Šå¯¹äºUIView&amp;amp;CALayer&amp;amp;Core Animation è¿›è¡Œåˆ†è£…åšå‡ºä¸€ä¸ªdomeã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰domeå·²ç»åšå¥½å•¦ï¼Œä½†æ˜¯æ„Ÿè§‰è‡ªå·±ç†è§£è¿˜ä¸æ˜¯å¾ˆé€å½»ã€‚æ‰“ç®—æ”¹ä¸‹è‡ªå·±çš„åšå®¢ä»å¤´å¼€å§‹å¯¹åšå®¢è¿›è¡Œé‡æ–°æ›´æ–°ï¼Œæ›´æ–°æ—¶é—´6/12/2016ã€‚&lt;/p&gt;
&lt;div style=&quot;color:#008B8B&quot;&gt;&lt;br&gt;&lt;p&gt;ä»Šå¤©ä¹Ÿæ‰“ç®—å†™å…³äºå›¾ç‰‡ã€éŸ³é¢‘å’Œè§†é¢‘åœ¨æ·±å±‚åŸç†ï¼Œä»¥åŠå›¾åƒåœ¨å±å¹•æ˜¾ç¤ºåŸç†ä»¥åŠåé¢æå‡ºå¦‚ä½•è¿›è¡Œåœ¨æ­¤æ–¹é¢ä¼˜åŒ–ã€‚&lt;br&gt;ä¸‹é¢å°±è®²è¿°åœ¨IOSå¼€å‘è¿‡ç¨‹ä¸­ç»å¸¸ä½¿ç”¨çš„UIViewå’ŒCALayerä¸¤è€…ä¹‹é—´çš„å…³ç³»å’Œåœ¨åŠ¨ç”»ä½¿ç”¨è¿‡ç¨‹çš„å…·ä½“å°è£…ï¼ˆç½‘ä¸Šä¹Ÿæœ‰è®¸å¤šå…³äºè¿™ä¸ªè¯é¢˜çš„æ–‡ç« ï¼Œä¹Ÿæ˜¯ç«™åœ¨å·¨äººè‚©è†€ä¸Šï¼‰ã€‚&lt;/p&gt;&lt;br&gt;&lt;/div&gt;

&lt;h3 id=&quot;UIViewå’ŒCALayerä¹‹é—´çš„å…³ç³»&quot;&gt;&lt;a href=&quot;#UIViewå’ŒCALayerä¹‹é—´çš„å…³ç³»&quot; class=&quot;headerlink&quot; title=&quot;UIViewå’ŒCALayerä¹‹é—´çš„å…³ç³»&quot;&gt;&lt;/a&gt;UIViewå’ŒCALayerä¹‹é—´çš„å…³ç³»&lt;/h3&gt;&lt;p&gt;æ‰“å¼€UIViewå’ŒCALyerä¸­å®é™…å®ç°çš„ä»£ç ï¼Œä¸‹é¢æ˜¯UIViewå®ç°æºç &lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NS_CLASS_AVAILABLE_IOS&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;_0) &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;UIView&lt;/span&gt; : &lt;span class=&quot;title&quot;&gt;UIResponder&lt;/span&gt; &amp;lt;&lt;span class=&quot;title&quot;&gt;NSCoding&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;UIAppearance&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;UIAppearanceContainer&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;UIDynamicItem&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;UITraitEnvironment&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;UICoordinateSpace&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;UIFocusEnvironment&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;,&lt;span class=&quot;keyword&quot;&gt;readonly&lt;/span&gt;,&lt;span class=&quot;keyword&quot;&gt;strong&lt;/span&gt;)                 &lt;span class=&quot;built_in&quot;&gt;CALayer&lt;/span&gt;  *layer; &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;CALayerå®ç°æºç ï¼š&lt;br&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;CALayer&lt;/span&gt; : &lt;span class=&quot;title&quot;&gt;NSObject&lt;/span&gt; &amp;lt;&lt;span class=&quot;title&quot;&gt;NSCoding&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;CAMediaTiming&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@private&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; _CALayerIvars &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    int32_t refcount;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    uint32_t magic;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; *layer;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#if TARGET_OS_MAC &amp;amp;&amp;amp; !TARGET_RT_64_BIT&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; *unused1[&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#endif&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125; _attr;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br&gt;æˆ‘ä»¬å¯ä»¥çœ‹å‡ºUIViewæ˜¯ç»§æ‰¿è‡ªUIResponderï¼Œè€ŒCALayerç»§æ‰¿è‡ªNSObjectã€‚è¿™ä¹Ÿæ˜¯UIViewå¯ä»¥ç›¸åº”è§¦æ‘¸äº‹ä»¶ï¼Œå¹¶å®ç°å“åº”é“¾ä¸­æœ€åä¸€ç¯æ‰€åœ¨åé¢æˆ‘ä»¬ä¼šå…·ä½“è®²è¿°ã€‚CALayerç»§æ‰¿è‡ªNSObjectï¼Œå…¶ä¸­UIViewä¸­åˆåŒ…å«è‡ªå·±æ‰€ç‰¹æœ‰çš„layerã€‚æˆ‘ä»¬å¯ä»¥çœ‹åšCALayeræ˜¯UIViewçš„å…·ä½“å†…å®¹ç»†èŠ‚çš„å®ç°ï¼Œä¸¤è€…å…·æœ‰å¹³è¡Œå…³ç³»ã€‚&lt;/p&gt;
&lt;div style=&quot;color:#008B8B&quot;&gt;&lt;p&gt;ä¸ºä»€ä¹ˆä¸æŠŠä¸¤è€…ä½•åœ¨ä¸€èµ·è¿›è¡Œå®ç°å‘¢ï¼Œåˆ†å¼€å®ç°å…·ä½“åŠŸèƒ½å‘¢ï¼Ÿ&lt;br&gt;æˆ‘æƒ³å¯èƒ½æ˜¯ä¸ºå•¦åˆ†å±‚éœ€è¦ï¼ŒæŠŠåŠŸèƒ½å…·ä½“åˆ†éš”å¼€æ¥ã€‚UIViewå®ç°è§¦æ‘¸å“åº”ï¼ŒCALayerå®ç°å…·ä½“çš„å†…å®¹å±•ç¤ºã€‚&lt;br&gt;&lt;/p&gt;&lt;br&gt;&lt;/div&gt;

&lt;p&gt;å‚è€ƒèµ„æ–™ï¼š&lt;br&gt;&lt;br&gt;&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/CoreAnimation_guide/CoreAnimationBasics/CoreAnimationBasics.html#//apple_ref/doc/uid/TP40004514-CH2-SW12&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;UIVieå’ŒCALayerå…³ç³»æºç &lt;/a&gt;;&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;ä¸‹é¢æˆ‘ä»¬å°†å†™å…³äºUIViewå’ŒCALayerçš„ä¸€äº›ç›¸å…³çš„çŸ¥è¯†ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;åˆ—å‡ºåœ¨UIViewå®ç°ä¸äº†çš„CALayerçš„åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ul&gt;&lt;br&gt;&lt;li&gt;é˜´å½±ï¼Œåœ†è§’ï¼Œå¸¦é¢œè‰²çš„è¾¹æ¡†&lt;/li&gt;&lt;br&gt;&lt;li&gt;3Då˜æ¢&lt;/li&gt;&lt;br&gt;&lt;li&gt;éçŸ©å½¢èŒƒå›´&lt;/li&gt;&lt;br&gt;&lt;li&gt;é€æ˜é®ç½©&lt;/li&gt;&lt;br&gt;&lt;li&gt;å¤šçº§éçº¿æ€§åŠ¨ç”»&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;

&lt;hr&gt;
&lt;p&gt;æˆ‘ä»¬ä¹Ÿéƒ½çŸ¥é“åœ¨Iphoneæ‰‹æœºå†…å­˜æ˜¯å›ºå®šä¸èƒ½è¿›è¡Œæ‹“å±•ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰‹æœºå†…å­˜æ˜¯å¾ˆå®è´µçš„ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦åŠ è½½å¤§å®¹é‡çš„å›¾ç‰‡ï¼Œä¼šå ç”¨å¾ˆå¤§çš„å†…å­˜ã€‚&lt;br&gt;&lt;br&gt;&lt;br&gt;ä¸ºæ­¤ï¼ŒAppleé‡‡ç”¨äº†ä¸€ç§æ¯”è¾ƒå·§å¦™çš„ç­–ç•¥ã€‚åœ¨ä½å†…å­˜çš„æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä¼šå¼ºåˆ¶æ¸…é™¤UIImageå¯¹è±¡æ‰€æŒ‡å‘çš„å›¾ç‰‡æ•°æ®ï¼Œä»¥é‡Šæ”¾éƒ¨åˆ†å†…å­˜ã€‚æ³¨æ„ï¼Œè¿™ç§æ¸…é™¤è¡Œä¸ºå½±å“åˆ°çš„åªæ˜¯å›¾ç‰‡æ•°æ®ï¼Œè€Œä¸ä¼šå½±å“åˆ°UIImageå¯¹è±¡æœ¬èº«ã€‚å½“æˆ‘ä»¬éœ€è¦ç»˜åˆ¶é‚£äº›å›¾ç‰‡æ•°æ®å·²ç»è¢«æ¸…é™¤çš„UIImageå¯¹è±¡æ—¶ï¼Œå¯¹è±¡ä¼šè‡ªåŠ¨ä»æºæ–‡ä»¶ä¸­é‡æ–°åŠ è½½æ•°æ®ã€‚å½“ç„¶ï¼Œè¿™æ˜¯ä»¥æ—¶é—´æ¢ç©ºé—´çš„ä¸€ç§ç­–ç•¥ï¼Œä¼šå¯¼è‡´ä¸€å®šçš„æ€§èƒ½æŸè€—ã€‚ä¸‹é¢ç»™å‡ºä¸€äº›å›¾ç‰‡å¤„ç†å°æŠ€å·§&lt;/p&gt;
&lt;h3 id=&quot;UIImageç¼“å­˜&quot;&gt;&lt;a href=&quot;#UIImageç¼“å­˜&quot; class=&quot;headerlink&quot; title=&quot;UIImageç¼“å­˜&quot;&gt;&lt;/a&gt;UIImageç¼“å­˜&lt;/h3&gt;&lt;p&gt;æˆ‘ä»¬çŸ¥é“åœ¨ä½¿ç”¨imageNamedè¿›è¡Œå›¾ç‰‡æ˜¾ç¤ºï¼Œå›¾ç‰‡ä¼šç¼“å­˜ã€‚ä½†å…·ä½“ç¼“å­˜æ˜¯æ€ä¹ˆå®ç°ï¼Œå…¶ä¸­è§£æå’Œæ¸…é™¤æ—¶é—´æ˜¯ä»€ä¹ˆæ—¶å€™å‘¢ï¼Ÿ&lt;div style=&quot;color:#008B8B&quot;&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;p&gt;å½“æˆ‘ä»¬ä½¿ç”¨imageNamed:æ—¶åˆ›å»ºå›¾ç‰‡ï¼Œç³»ç»Ÿä¼šé€šè¿‡Bundleçš„æ–‡ä»¶ä¸­æ‰¾åˆ°å›¾ç‰‡çš„æ–‡ä»¶åï¼Œç„¶åæŠŠç›¸å…³çš„åå­—æ”¾åˆ°UIImageè¿”å›ï¼Œæ­¤æ—¶å¹¶æ²¡æœ‰è§£æå›¾ç‰‡ã€‚å½“å›¾ç‰‡åœ¨ç¬¬ä¸€æ¬¡æ˜¾ç¤ºæ—¶ï¼Œå›¾ç‰‡æ‰ä¼šè°ƒç”¨å†…éƒ¨è§£ç æ–¹æ³•ï¼Œè§£ç ä¼šæ”¾åˆ°ä¸€ä¸ªå…¨å±€å˜é‡ä¸­ã€‚å›¾ç‰‡åœ¨è§£ç åï¼Œä¼šåœ¨APPç¬¬ä¸€æ¬¡è¿›å…¥åå°æˆ–è€…å†…å­˜è­¦å‘Šæ—¶ï¼Œè¯¥å›¾ç‰‡çš„ç¼“å­˜æ‰ä¼šè¢«æ¸…ç©ºï¼Œå…¶ä»–æƒ…å†µç¼“å­˜ä¼šä¸€ç›´å­˜åœ¨ã€‚&lt;br&gt;&lt;/p&gt;&lt;br&gt;&lt;p&gt;&lt;/p&gt;
&lt;h3 id=&quot;ä½¿ç”¨imageWithDataå¯ä»¥é¿å…ç¼“å­˜å—ï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨imageWithDataå¯ä»¥é¿å…ç¼“å­˜å—ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨imageWithDataå¯ä»¥é¿å…ç¼“å­˜å—ï¼Ÿ&quot;&gt;&lt;/a&gt;ä½¿ç”¨imageWithDataå¯ä»¥é¿å…ç¼“å­˜å—ï¼Ÿ&lt;/h3&gt;&lt;p&gt;æˆ‘ä»¬åœ¨åˆ›å»ºUIImageæ—¶ï¼ŒUIImageçš„åº•å±‚ä¼šè°ƒç”¨ImageIOçš„CGImageSourceCreateWithData()ï¼Œæ­¤æ–¹æ³•æœ‰ä¸ªå‚æ•° ShouldCacheï¼Œåœ¨64ä½çš„å¤„ç†å™¨ä¸Šæ˜¯é»˜è®¤å¼€å¯çš„ã€‚å›¾ç‰‡ä¹Ÿä¼šåœ¨ç¬¬ä¸€æ¬¡æ˜¾ç¤ºåœ¨å±å¹•ä¸Šæ‰ä¼šè¢«è§£ç ï¼Œè§£ç æ•°æ®ä¹Ÿä¼šä¿å­˜åœ¨CGimageçš„å†…éƒ¨ã€‚&lt;/p&gt;
&lt;div style=&quot;color:#008B8B&quot;&gt;&lt;br&gt;&lt;p&gt;ä½†æ˜¯ä¸ä¸Šé¢ä½¿ç”¨imageNameçš„æƒ…å†µä¸åŒï¼Œåœ¨UIImageè¢«é‡Šæ”¾æ˜¯å…¶ç¼“å­˜ä¹Ÿä¼šè¿›è¡Œé‡Šæ”¾ã€‚&lt;/p&gt;&lt;/div&gt;

&lt;h3 id=&quot;æ€æ ·é¿å…ç¼“å­˜&quot;&gt;&lt;a href=&quot;#æ€æ ·é¿å…ç¼“å­˜&quot; class=&quot;headerlink&quot; title=&quot;æ€æ ·é¿å…ç¼“å­˜&quot;&gt;&lt;/a&gt;æ€æ ·é¿å…ç¼“å­˜&lt;/h3&gt;&lt;ul&gt;&lt;br&gt;&lt;li&gt;ä¸Šé¢æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚æœç›´æ¥ä½¿ç”¨CGImageSourceCreateWithData()ï¼Œå¹¶ä¸”å…³é—­ShouldCache å’Œ ShouldCacheImmediatelyï¼Œä½†æ˜¯è¿™æ ·çš„è¯æ¯æ¬¡å›¾ç‰‡éœ€è¦æ˜¾ç¤ºçš„è¯ï¼Œéƒ½ä¼šè¿›è¡Œå›¾ç‰‡è§£ç ï¼Œè¿™æ ·ä¼šå ç”¨è¾ƒå¤§CPU&lt;/li&gt;&lt;br&gt;&lt;li&gt;æŠŠå›¾ç‰‡ç”¨ CGContextDrawImage() ç»˜åˆ¶åˆ°ç”»å¸ƒä¸Šï¼Œç„¶åæŠŠç”»å¸ƒçš„æ•°æ®å–å‡ºæ¥å½“ä½œå›¾ç‰‡ã€‚è¿™ä¹Ÿæ˜¯å¸¸è§çš„ç½‘ç»œå›¾ç‰‡åº“çš„åšæ³•&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;

&lt;p&gt;&lt;a href=&quot;http://blog.ibireme.com/2015/11/02/ios_image_tips/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å‚è€ƒèµ„æ–™~iOS å¤„ç†å›¾ç‰‡çš„ä¸€äº›å° Tip&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;a href=&quot;http://bihongbo.com/2016/01/03/memoryGhostdrawRect/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å†…å­˜æ¶é¬¼drawRect&lt;/a&gt;&lt;br&gt;&lt;br&gt;æ€»çš„å‚è€ƒèµ„æ–™åœ°å€&lt;br&gt;&lt;br&gt;&lt;a href=&quot;https://github.com/AttackOnDobby/iOS-Core-Animation-Advanced-Techniques/blob/master/1-å›¾å±‚æ ‘/å›¾å±‚æ ‘.md&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å›¾å±‚çš„æ ‘çŠ¶ç»“æ„&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;a href=&quot;https://github.com/AttackOnDobby/iOS-Core-Animation-Advanced-Techniques/blob/master/2-å¯„å®¿å›¾/å¯„å®¿å›¾.md#contentså±æ€§&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å¯„å®¿å›¾&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;a href=&quot;https://github.com/AttackOnDobby/iOS-Core-Animation-Advanced-Techniques&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;UIViewå’ŒCALayeræ€»çš„å‚è€ƒåœ°å€&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸€ç›´æƒ³åšä¸ªdomeæ¥å®è·µè‡ªå·±æ‰€å­¦çš„çŸ¥è¯†ï¼Œçœ‹åˆ°ç½‘ä¸Šæœ‰å¾ˆå¤šèµ„æ–™æ„Ÿè§‰å‹åŠ›æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥å†³å®šç«™åœ¨å·¨äººè‚©è†€ä¸Šå¯¹äºUIView&amp;amp;CALayer&amp;amp;Core Animation è¿›è¡Œåˆ†è£…åšå‡ºä¸€ä¸ªdomeã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰domeå·²ç»åšå¥½å•¦ï¼Œä½†æ˜¯æ„Ÿè§‰è‡ªå·±ç†è§£è¿˜ä¸æ˜¯å¾ˆé€å½»ã€‚æ‰“
    
    </summary>
    
      <category term="IOS" scheme="http://yoursite.com/categories/IOS/"/>
    
    
      <category term="å›¾ç‰‡è§†é¢‘" scheme="http://yoursite.com/tags/%E5%9B%BE%E7%89%87%E8%A7%86%E9%A2%91/"/>
    
  </entry>
  
  <entry>
    <title>cocoaPodsä½¿ç”¨å’Œé™æ€åº“çš„å»ºç«‹</title>
    <link href="http://yoursite.com/2016/05/29/cocoaPods%E4%BD%BF%E7%94%A8%E5%92%8C%E9%9D%99%E6%80%81%E5%BA%93%E7%9A%84%E5%BB%BA%E7%AB%8B/"/>
    <id>http://yoursite.com/2016/05/29/cocoaPodsä½¿ç”¨å’Œé™æ€åº“çš„å»ºç«‹/</id>
    <published>2016-05-29T11:47:03.000Z</published>
    <updated>2016-05-29T12:02:59.000Z</updated>
    
    <content type="html">&lt;p&gt;cocoaPodsä¸ªäººä»‹ç»ï¼šæ˜¯åŸºäºRubyçš„åŸºç¡€ä¹‹ä¸Šçš„ï¼ŒcocoaPodsä¸ªäººä½œç”¨æ˜¯å¯ä»¥å¸®åŠ©è‹¦é€¼çš„ç å†œå¯¹ç¬¬ä¸‰æ–¹åº“å’Œæ¡†æ¶è¿›è¡Œç®¡ç†ï¼Œè®©ç å†œä¸“æ³¨äºè‡ªå·±APPæ–¹é¢ä¼˜åŒ–&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æˆ‘ä»¬å¤åˆ¶ä¸‰æ–¹æ¡†æ¶åˆ°é¡¹ç›®æœ‰ä¸¤ç§æ–¹å¼ï¼šï¼ˆ1ï¼‰ç›´æ¥è¿›è¡Œå¤åˆ¶ï¼Œï¼ˆ2ï¼‰ä½¿ç”¨cocoaPodsæ¥è¿›è¡Œç®¡ç†ï¼Œæœ¬äººå»ºè®®å¯ä»¥å­¦ä¹ ä½¿ç”¨cocoaPodsè¿™æ ·æ›´åŠ æ–¹ä¾¿ï¼Œä¸‹é¢è®²ç›´æ¥å¤åˆ¶é—®é¢˜&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ç›´æ¥å¤åˆ¶å­˜åœ¨é—®é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;(1)åº“æ›´æ–°å­˜åœ¨é—®é¢˜ï¼Œå¦‚æœä¸€ä¸ªåº“å¼•ç”¨å¦ä¸€ä¸ªåº“ï¼Œéœ€è¦å¯¹äºåº“å…¨éƒ¨æ›´æ–°&lt;/p&gt;
&lt;p&gt;(2)å¯¹äºæˆ‘ä»¬å¼•ç”¨çš„ç¬¬ä¸‰æ–¹åº“è¿›è¡Œä¿®æ”¹ï¼Œåœ¨åšæ›´æ–°æ¯”è¾ƒå›°éš¾ã€‚ä¾‹å¦‚ï¼šæˆ‘åœ¨ä½¿ç”¨SedWebImageæ—¶å¯¹å›¾ç‰‡è¿›è¡Œæˆªå›¾å¾—åˆ°åœ†å½¢å›¾ç‰‡ï¼Œå¦‚æœè¿›è¡Œæ›´æ–°å°±æœ‰é—®é¢˜&lt;/p&gt;
&lt;p&gt;(3)æ¯”è¾ƒéš¾åˆ¤æ–­åœ¨APPå¼•è¿›åº“çš„å…·ä½“ç‰ˆæœ¬ï¼Œé™¤éåœ¨ä»¥å‰APPä¸­è¿›è¡Œè®°å½•&lt;/p&gt;
&lt;p&gt;(4)æ²¡æœ‰ä¸­å¿ƒç®¡ç†ï¼Œå¾ˆéš¾å¯¹äºæ‰€æœ‰çš„ç¬¬ä¸‰æ–¹åº“è¿›è¡Œç»Ÿä¸€ç®¡ç†&lt;br&gt;cocoaPodsï¼ˆ&lt;a href=&quot;https://realm.io/cn/news/gotocph-rackwitz-therox-learnings-from-cocoapods/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;cocoaPodsé“¾æ¥&lt;/a&gt;ï¼‰å¯¹äºä¸Šé¢é—®é¢˜æœ‰å¾ˆå¥½å¤„ç†ï¼šå¯ä»¥è§£å†³åº“ä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œè€Œä¸”å¸®å¿™å‘ç°æ˜¯æ–°çš„åº“ï¼Œä»¥æœ€ç®€å•æ–¹å¼ä¸ºæˆ‘ä»¬ç å†œé…ç½®ç¯&lt;/p&gt;
&lt;p&gt;åºŸè¯ä¸å¤šè¯´ï¼Œä¸‹é¢å¼€å§‹åœ¨macä¸­é…ç½®å®‰è£…cocoaPods&lt;/p&gt;
&lt;p&gt;å¦‚æœç³»ç»Ÿæ˜¯10.7ä¹‹åç³»ç»Ÿä¸­å¸¦æœ‰é…ç½®Rubyç¯å¢ƒï¼Œåªéœ€å®‰è£…cocoaPodså³å¯ï¼Œå¦‚æœä¸æ˜¯å¯ä»¥æœç´¢ä¸‹Rubyç¯å¢ƒå®‰è£…&lt;/p&gt;
&lt;p&gt;æ–¹æ³•ä¸€ï¼š(1)æ‰“å¼€ç»ˆç«¯ï¼šcontrol+ç©ºæ ¼é”®ï¼Œç„¶åæœç´¢â€œç»ˆç«¯â€&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ sudo gem install cocoaPods &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;(2)ç„¶ååœ¨ç»ˆç«¯ä¸­è¿›è¡Œè®¾ç½®&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ pod setup --verbose&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¦‚æœåœ¨æ‰§è¡Œä¸€æ—¶æ¯”è¾ƒæ…¢æˆ‘ä»¬å°±éœ€è¦æ‰§è¡Œå…¶ä»–å®‰è£…ï¼Œé€šè¿‡åªç”¨æ·˜å®çš„Rubyè¿›è¡Œè®¿é—®cocoaPodï¼Œ&lt;/p&gt;
&lt;p&gt;æ–¹æ³•äºŒï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ gem sources --remove https://rubygems.org/&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;//ç­‰æœ‰ååº”ä¹‹åå†æ•²å…¥ä»¥ä¸‹å‘½ä»¤&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ gem sources -a http://ruby.taobao.org/&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¦‚æœè¦æŸ¥çœ‹æ˜¯å¦æ˜¯taobaoé•œåƒ&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ gem source -l&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¦‚æœæ˜¾ç¤ºä¸€ä¸‹æƒ…å†µ&lt;br&gt;&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;*** CURRENT SOURCES ***&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;http:&lt;/span&gt;/&lt;span class=&quot;regexp&quot;&gt;/ruby.taobao.org/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æœ€åæ‰§è¡Œï¼š&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ sudo gem install cocoaPods&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ç»è¿‡ä¸Šè¿°çˆ½è¿‡ä¹‹åï¼Œæˆ‘ä»¬å°±æˆåŠŸå®‰è£…cocosPodsï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹ä¸‹æ€ä¹ˆä½¿ç”¨&lt;br&gt;ï¼ˆ1ï¼‰ä½¿ç”¨cocoaPodsæŸ¥çœ‹ç›¸å…³æ¡†æ¶ä¿¡æ¯ï¼ŒæŸ¥çœ‹AFNetWorkingä¿¡æ¯&lt;/p&gt;
&lt;p&gt;$ pod search AFNetWorking&lt;br&gt;ä¸‹é¢åœ¨é¡¹ç›®ä¸­ä½¿ç”¨cocoaPodsåŠ å…¥ç¬¬ä¸‰æ–¹æ¡†æ¶&lt;br&gt;ï¼ˆ1ï¼‰æ‰“å¼€ç»ˆç«¯ï¼Œè¿›è¡Œé¡¹ç›®æ–‡ä»¶çš„æ ¹ç›®å½•ç„¶åä½¿ç”¨vimåˆ›å»ºpodFileæ–‡ä»¶ï¼šä¾‹å¦‚æˆ‘ä»¬é¡¹ç›®æ”¾åœ¨ æ–‡æ¡£/é¡¹ç›®å&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$cd /users/ç”¨æˆ·å/documents/é¡¹ç›®å&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$vim podFile&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ï¼ˆ2ï¼‰å†è¾“å¦‚æ¡†ä¸­è¾“å…¥åŠ å…¥å¹³å°å’Œç›¸å…³æ¡†æ¶ä»¥åŠæ¡†æ¶ç‰ˆæœ¬å·ï¼ˆå¦‚æœå‡ºç°ä¸èƒ½è¾“å…¥å°±è¦æŒ‰é”®aåè€…æ˜¯iï¼Œè¿›è¡Œæ–‡æœ¬ç¼–è¾‘ï¼‰&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;paltform : iOS, &amp;apos;7.0&amp;apos;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;pod &amp;quot;AFNetworking&amp;quot;, &amp;quot;~&amp;gt; 2.0&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ï¼ˆ3ï¼‰è¾“å…¥ä¸Šè¿°æ–‡æœ¬ï¼Œåä¿å­˜å¹¶é€€å‡ºç¼–è¾‘æŒ‰é”®escè¿›è¡Œé€€å‡ºï¼Œè¾“å…¥ä¸‹é¢æ–‡ä»¶&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;:wq&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ï¼ˆ4ï¼‰æœ€åä¸‹è½½AFNetWorkingæ–‡ä»¶&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$pod install&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¤§åŠŸå‘Šæˆï¼Œè¿™æ ·å°±å¯ä»¥åœ¨æˆ‘ä»¬æ–‡ä»¶ä¸­ç”Ÿæˆä¸€ä¸ªpodsæ–‡ä»¶ï¼Œæ‰“å¼€é¡¹ç›®å°±å¯ä»¥çœ‹åˆ°ä¸‹é¢é™¤å•¦æˆ‘ä»¬é¡¹ç›®å¤–è¿˜å¤šä½™ä¸€ä¸ªpodsæ–‡ä»¶&lt;/p&gt;
&lt;p&gt;æ³¨ï¼šå¯ä»¥åœ¨æ–‡ä»¶ä¸­æ”¾ç½®å¤šä¸ªæ¡†æ¶ï¼Œåªè¦åœ¨ä¸Šé¢ï¼ˆ2ï¼‰ä¸­pod â€œæ¡†æ¶åâ€, â€œ~&amp;gt;3.0â€&lt;br&gt;cocosPodsåç»­äº§ç”Ÿé—®é¢˜è§£æï¼š&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬ä»githubä¸Šä¸‹è½½å¼€æºé¡¹ç›®æœ‰çš„é¡¹ç›®æ—¶éœ€è¦æˆ‘ä»¬é‡æ–°æ›´æ–°é…ç½®å¼€æºæ¡†æ¶ï¼›&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;cd ~/desktop/é¡¹ç›®å                  //æˆ‘çš„é¡¹ç›®æ”¾åœ¨æ¡Œé¢&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pod install &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¦‚æœå‡ºç°&lt;/p&gt;
&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[!] The dependency &lt;span class=&quot;string&quot;&gt;`Masonry (~&amp;gt; 0.6.2)`&lt;/span&gt; is &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; used &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; any concrete target.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;The dependency &lt;span class=&quot;string&quot;&gt;`SDWebImage (~&amp;gt; 3.7)`&lt;/span&gt; is &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; used &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; any concrete target.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;The dependency &lt;span class=&quot;string&quot;&gt;`GPUImage`&lt;/span&gt; is &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; used &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; any concrete target.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;æ‰“å¼€é…ç½®æ–‡ä»¶Podfileæ–‡ä»¶ä¿®æ”¹é…ç½®æ–‡ä»¶&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;target &lt;span class=&quot;string&quot;&gt;&#39;BeautifyFaceDemo&#39;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pod &lt;span class=&quot;string&quot;&gt;&#39;Masonry&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;~&amp;gt; 0.6.2&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pod &lt;span class=&quot;string&quot;&gt;&#39;SDWebImage&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;~&amp;gt;3.7&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pod &lt;span class=&quot;string&quot;&gt;&#39;GPUImage&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ—¢å¯ä»¥è§£å†³ç”Ÿé¢çš„é—®é¢˜ã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;cocoaPodsä¸ªäººä»‹ç»ï¼šæ˜¯åŸºäºRubyçš„åŸºç¡€ä¹‹ä¸Šçš„ï¼ŒcocoaPodsä¸ªäººä½œç”¨æ˜¯å¯ä»¥å¸®åŠ©è‹¦é€¼çš„ç å†œå¯¹ç¬¬ä¸‰æ–¹åº“å’Œæ¡†æ¶è¿›è¡Œç®¡ç†ï¼Œè®©ç å†œä¸“æ³¨äºè‡ªå·±APPæ–¹é¢ä¼˜åŒ–&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æˆ‘ä»¬å¤åˆ¶ä¸‰æ–¹æ¡†æ¶åˆ°é¡¹ç›®æœ‰ä¸¤ç§æ–¹å¼ï¼šï¼ˆ1ï¼‰ç›´æ¥è¿›è¡Œå¤åˆ¶ï¼Œï¼ˆ2ï¼‰ä½¿ç”¨cocoaPodsæ¥è¿›è¡Œç®¡ç†ï¼Œæœ¬
    
    </summary>
    
      <category term="IOS" scheme="http://yoursite.com/categories/IOS/"/>
    
    
      <category term="IOS" scheme="http://yoursite.com/tags/IOS/"/>
    
  </entry>
  
  <entry>
    <title>IOSçš„æ°¸ä¹…è¯å‚¨å­˜</title>
    <link href="http://yoursite.com/2016/05/29/IOS%E7%9A%84%E6%B0%B8%E4%B9%85%E8%AF%9D%E5%82%A8%E5%AD%98/"/>
    <id>http://yoursite.com/2016/05/29/IOSçš„æ°¸ä¹…è¯å‚¨å­˜/</id>
    <published>2016-05-29T11:32:04.000Z</published>
    <updated>2016-06-02T08:39:20.000Z</updated>
    
    <content type="html">&lt;p&gt;æ²™ç›’ï¼šIOSåº”ç”¨ä¸­æ¯ä¸ªåº”ç”¨å‡æœ‰è‡ªå·±æ²™ç›’ï¼Œç”¨æ¥å‚¨å­˜APPè‡ªå·±çš„æ•°æ®ï¼Œæ¯ä¸ªåº”ç”¨çš„æ²™ç›’å‡æ˜¯åº”ç”¨ç‰¹æœ‰çš„ä¸èƒ½äº¤å‰è®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;æ²™ç›’ä¸­æœ‰ä¸‰ä¸ªæ–‡ä»¶å¤¹ï¼šdocumentï¼Œlibraryï¼Œtemp&lt;/p&gt;
&lt;p&gt;(1)documentï¼šä¿å­˜åº”ç”¨è¿è¡Œæ—¶ç”Ÿæˆé‡è¦çš„æ•°æ®ï¼ŒItunesä¹Ÿä¼šåŒæ­¥åˆ°è¿›è¡Œå¤‡ä»½æ•°æ®ã€‚ä¸€èˆ¬å‚¨å­˜æ¯”è¾ƒé‡è¦æ•°æ®ï¼ˆæ•°æ®ä½¿ç”¨æ‰‹æœºè¿æ¥macå¯ä»¥åœ¨itunesä¸­è¿›è¡ŒæŸ¥çœ‹ï¼‰&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *path = &lt;span class=&quot;built_in&quot;&gt;NSHomeDirectory&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *docPath = [path stringByAppendingString:&lt;span class=&quot;string&quot;&gt;@&quot;/saveMessage&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *docPath1 = [path stringByAppendingPathComponent:&lt;span class=&quot;string&quot;&gt;@&quot;saveMessage&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *docPath2 = [&lt;span class=&quot;built_in&quot;&gt;NSSearchPathForDirectoriesInDomains&lt;/span&gt;(&lt;span class=&quot;built_in&quot;&gt;NSDocumentDirectory&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;NSUserDomainMask&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt;)lastObject];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;å¯¹äºæ•°æ®ç›¸å…³çš„path è¿›è¡Œæ“ä½œï¼Œåˆ¤æ–­å…¶æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨å°±å¯ä»¥è¿›è¡Œç›¸å…³æ“ä½œ&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSFileManager&lt;/span&gt; *fileManger = [&lt;span class=&quot;built_in&quot;&gt;NSFileManager&lt;/span&gt; defaultManager];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSArray&lt;/span&gt; *pathLists = [fileManger contentsOfDirectoryAtPath:path error:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt; flag = [fileManger fileExistsAtPath:docPath1];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[fileManger removeItemAtPath:docPath1 error:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;(2)tempï¼šä¿å­˜è¿è¡Œæ—¶éœ€è¦çš„ä¸´æ—¶æ•°æ®ï¼Œå½“APPç»“æŸåå°±ä¼šæ¸…æ¥šå…¶ä¸­çš„æ•°æ®ã€‚å½“APPæ²¡æœ‰è¿è¡Œæ—¶å…¶ä¸­æ•°æ®ä¹Ÿå¯èƒ½è¢«åˆ é™¤&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSString *temp =  NSTemporaryDirectory();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;(3)libraryï¼šå…¶ä¸­æœ‰ä¸¤ä¸ªæ–‡ä»¶cacheså’Œpreferenceã€‚cachesä¸­å­˜æ”¾ä¸´æ—¶ç¨‹åºè¿è¡Œæ—¶ä¸´æ—¶æ•°æ®ï¼Œå°±åƒæˆ‘ä»¬åœ¨æ¯ä¸ªAPPä¸­çš„ç¼“å­˜å¯ä»¥è¿›è¡Œæ¸…é™¤ã€‚preferenceä¸­å­˜æ”¾æˆ‘ä»¬è‡ªå·±è®¾ç½®æ˜¯plistæ–‡ä»¶å­˜æ”¾åœ°å€&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *library = [&lt;span class=&quot;built_in&quot;&gt;NSSearchPathForDirectoriesInDomains&lt;/span&gt;(&lt;span class=&quot;built_in&quot;&gt;NSLibraryDirectory&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;NSUserDomainMask&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt;)lastObject];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *chches = [&lt;span class=&quot;built_in&quot;&gt;NSSearchPathForDirectoriesInDomains&lt;/span&gt;(&lt;span class=&quot;built_in&quot;&gt;NSCachesDirectory&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;NSUserDomainMask&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt;)lastObject];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è®¿é—®ä¸Šé¢ä¸‰ä¸ªæ–‡ä»¶å¤¹æ–¹æ³•ï¼ˆ&lt;a href=&quot;http://www.cnblogs.com/xiejw/p/5196798.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å‚è€ƒé“¾æ¥&lt;/a&gt;ï¼‰&lt;/p&gt;
&lt;p&gt;ä¸Šè¿°æ˜¯å…³äºåœ¨IOSå‚¨å­˜æ•°æ®æ˜¯å…·ä½“å‚¨å­˜ä½ç½®å’Œå…¶è·å–çš„æ–¹æ³•ï¼Œè¿‡ç¨‹å¤§åŒå°å¼‚ã€‚ä½†æ˜¯åœ¨å‚¨å­˜æ•°æ®æ˜¯æˆ‘ä»¬è¦æ³¨æ„ç»†èŠ‚ï¼šæ¯”å¦‚æ˜¯ä½¿ç”¨NSSarryæ˜¯æˆ‘ä»¬éœ€è¦å‚¨å­˜arrayæ•°æ®ï¼Œå¦‚æœæ˜¯å…¶ä»–æ•°æ®ä¾‹å¦‚NSdataéœ€è¦å°†å…¶è½¬åŒ–&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSArray&lt;/span&gt; *arr1 = [[&lt;span class=&quot;built_in&quot;&gt;NSArray&lt;/span&gt; alloc]initWithObjects:&lt;span class=&quot;string&quot;&gt;@&quot;0&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;@&quot;5&quot;&lt;/span&gt;,&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSData&lt;/span&gt; *data = [&lt;span class=&quot;built_in&quot;&gt;NSKeyedArchiver&lt;/span&gt; archivedDataWithRootObject:arr1];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;é™¤æ²™ç›’å¤–IOSè¿˜å‘æˆ‘ä»¬æä¾›å…¶ä»–çš„å‚¨å­˜æ–¹å¼ï¼šSqliteï¼ŒCore data, NSKeyedArchiver(coding)å½’æ¡£ï¼ŒNSUserDefaults&lt;/p&gt;
&lt;p&gt;(1)Sqliteï¼šiOSè‡ªå¸¦æ•°æ®åº“ï¼Œå¯ä»¥ä¿å­˜æ•°æ®&lt;/p&gt;
&lt;h3 id=&quot;ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹çš„åº“FMDB&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹çš„åº“FMDB&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹çš„åº“FMDB&quot;&gt;&lt;/a&gt;ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹çš„åº“&lt;a href=&quot;https://github.com/ccgus/fmdb.git&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;FMDB&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;(2)Core dataï¼šæ˜¯è‹¹æœæå‡ºçš„åŸºäºsqliteå‚¨å­˜æ•°æ®çš„ç»“æ„ï¼Œå®é™…æ˜¯sqliteåªä¸è¿‡å¯¹å…¶è¿›è¡Œç®€åŒ–&lt;/p&gt;
&lt;p&gt;(3)NSkeyedArchiver(coding)ï¼š&lt;/p&gt;
&lt;p&gt;(4)NSUserDefaultsï¼šå°±æ˜¯æˆ‘ä»¬ä¸Šè¿°æ‰€è¯´çš„æ”¾åœ¨library/preferenceä¸­çš„åå¥½è®¾ç½®ï¼Œå®é™…æ˜¯å­˜æ”¾åœ¨plistæ–‡ä»¶ä¸­ã€‚å­˜å‚¨æ•°æ®ç±»å‹æ˜¯NSString,NSData,NSInteger,NSDictionary,NSArray,NSNumber,boolå’Œå…¶ä»–çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆä½†æ˜¯NSUserDefaultsæœ‰ä¸ªç¼ºç‚¹ï¼šåœ¨å‚¨å­˜è¿‡ç¨‹ä¸­å¯èƒ½ç”±äºæ—¶é—´é—®é¢˜ç»“æŸå­˜å‚¨ï¼Œè€Œä¸”å¦‚æœä¿®æ”¹å…¶ä¸­ä¸€é¡¹æ•°æ®æ•´ä¸ªæ•°æ®éƒ½è¦é‡æ–°åŠ è½½ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSUserDefaults_Class/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;ï¼š&lt;br&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;The &lt;span class=&quot;built_in&quot;&gt;NSUserDefaults&lt;/span&gt; class provides convenience methods &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; accessing common types such as floats, doubles, integers, Booleans, and URLs. A &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt; object must be a property list, that is, an instance of (or &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; collections a combination of instances of): &lt;span class=&quot;built_in&quot;&gt;NSData&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;NSNumber&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;NSDate&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;NSArray&lt;/span&gt;, or &lt;span class=&quot;built_in&quot;&gt;NSDictionary&lt;/span&gt;. If you want to store any other type of object, you should typically archive it to create an instance of &lt;span class=&quot;built_in&quot;&gt;NSData&lt;/span&gt;.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br&gt;æ–‡ç« æ˜¯å¯¹äºæ•°æ®å‚¨å­˜åˆæ¬¡æ¢ç©¶ï¼Œåé¢ä¼šå¯¹æ–‡ç« è¿›è¡Œä¿®æ”¹æœ‰è¯¦ç»†çš„ä½¿ç”¨æ–¹æ³•å’Œå…·ä½“å®˜æ–¹æ–‡æ¡£è¡¥å……&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;æ²™ç›’ï¼šIOSåº”ç”¨ä¸­æ¯ä¸ªåº”ç”¨å‡æœ‰è‡ªå·±æ²™ç›’ï¼Œç”¨æ¥å‚¨å­˜APPè‡ªå·±çš„æ•°æ®ï¼Œæ¯ä¸ªåº”ç”¨çš„æ²™ç›’å‡æ˜¯åº”ç”¨ç‰¹æœ‰çš„ä¸èƒ½äº¤å‰è®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;æ²™ç›’ä¸­æœ‰ä¸‰ä¸ªæ–‡ä»¶å¤¹ï¼šdocumentï¼Œlibraryï¼Œtemp&lt;/p&gt;
&lt;p&gt;(1)documentï¼šä¿å­˜åº”ç”¨è¿è¡Œæ—¶ç”Ÿæˆé‡è¦çš„æ•°æ®ï¼ŒItunesä¹Ÿä¼šåŒ
    
    </summary>
    
      <category term="IOS" scheme="http://yoursite.com/categories/IOS/"/>
    
    
      <category term="IOS" scheme="http://yoursite.com/tags/IOS/"/>
    
  </entry>
  
  <entry>
    <title>IOSæ•´ä½“æ¡†æ¶</title>
    <link href="http://yoursite.com/2016/05/29/IOS%E6%95%B4%E4%BD%93%E6%A1%86%E6%9E%B6/"/>
    <id>http://yoursite.com/2016/05/29/IOSæ•´ä½“æ¡†æ¶/</id>
    <published>2016-05-29T11:21:14.000Z</published>
    <updated>2016-06-02T08:36:24.000Z</updated>
    
    <content type="html">&lt;p&gt;æ„Ÿè§‰åœ¨åšå®¢ä¸Šæœ‰å¤§ç‰›ä»‹ç»IOSæ¡†æ¶è®²è§£çš„æ¯”è¾ƒè¯¦ç»†ï¼Œåœ¨æ­¤å‘å¤§ç‰›è‡´æ•¬å†™ç¯‡æ–‡ç« ã€‚&lt;a href=&quot;http://www.cnblogs.com/kenshincui/p/3885689.html#foundation&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å¤§ç‰›æ–‡ç« å…³äºæ¡†æ¶&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨åšIOSå¼€å‘è¿‡ç¨‹é’ˆå¯¹å¯¹è±¡æ¥è¿›è¡Œç±»çš„åˆ†è£…ï¼Œç„¶åå®ç°å…·ä½“æ–¹æ³•è§£å†³é—®é¢˜ã€‚ä½†æ˜¯æˆ‘ä»¬æ•´ä½“è¯­è¨€æ¡†æ¶ä¸æ˜¯å¾ˆæ¸…æ¥šï¼ŒåºŸè¯ä¸å¤šè¯´å¼€å§‹ï¼š&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯å…³äºOS Xçš„ç»“æ„å›¾ï¼ˆ&lt;a href=&quot;https://developer.apple.com/library/mac/documentation/MacOSX/Conceptual/OSX_Technology_Overview/About/About.html#//apple_ref/doc/uid/TP40001067-CH204-TPXREF101&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å®˜ç½‘åœ°å€&lt;/a&gt;ï¼‰ï¼š&lt;br&gt;&lt;img src=&quot;/path/to/img.jpg&quot; alt=&quot;alt text&quot; title=&quot;Title&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;å®˜æ–¹æ–‡æ¡£çš„å…·ä½“å†…å®¹ï¼š&quot;&gt;&lt;a href=&quot;#å®˜æ–¹æ–‡æ¡£çš„å…·ä½“å†…å®¹ï¼š&quot; class=&quot;headerlink&quot; title=&quot;å®˜æ–¹æ–‡æ¡£çš„å…·ä½“å†…å®¹ï¼š&quot;&gt;&lt;/a&gt;å®˜æ–¹æ–‡æ¡£çš„å…·ä½“å†…å®¹ï¼š&lt;/h3&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;The Cocoa (Application) layerï¼ˆåº”ç”¨å±‚ï¼‰ includes technologies &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; building an &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;appâ€™s user interface, &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; responding to user events, and &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; managing app &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;behavior.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;The Media layer ï¼ˆåª’ä½“å±‚ï¼‰encompasses specialized technologies &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; playing, &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;recording, and editing audiovisual media and &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; rendering and animating &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;D and &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;D graphics.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;The Core Services layerï¼ˆæ ¸å¿ƒæœåŠ¡å±‚ï¼‰ contains many fundamental services and &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;technologies that range from Automatic Reference Counting and low-level network &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;communication to string manipulation and data formatting.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;The Core OS layer ï¼ˆæ ¸å¿ƒç³»ç»Ÿæ“ä½œå±‚ï¼‰defines programming interfaces that are &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;related to hardware and networking, including interfaces &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; running high-&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;performance computation tasks on a computerâ€™s CPU and GPU.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;The Kernel and Device Drivers layerï¼ˆå†…æ ¸å’Œé©±åŠ¨å±‚ï¼‰ consists of the Mach kernel &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;environment, device drivers, BSD library functions (libSystem), and other low-&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;level components. The layer includes support &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; file systems, networking, &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;security, interprocess communication, programming languages, device drivers, &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;and extensions to the kernel.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;ä¸‹é¢å¯¹äºæ¯å±‚çš„è®²è§£ï¼š&quot;&gt;&lt;a href=&quot;#ä¸‹é¢å¯¹äºæ¯å±‚çš„è®²è§£ï¼š&quot; class=&quot;headerlink&quot; title=&quot;ä¸‹é¢å¯¹äºæ¯å±‚çš„è®²è§£ï¼š&quot;&gt;&lt;/a&gt;ä¸‹é¢å¯¹äºæ¯å±‚çš„è®²è§£ï¼š&lt;/h3&gt;&lt;p&gt;ï¼ˆ1ï¼‰åº”ç”¨å±‚å³å¯è§¦æ‘¸å±‚ï¼ˆcocoa touch layerï¼‰&lt;a href=&quot;https://developer.apple.com/library/mac/documentation/MacOSX/Conceptual/OSX_Technology_Overview/CocoaApplicationLayer/CocoaApplicationLayer.html#//apple_ref/doc/uid/TP40001067-CH274-SW1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;åœ°å€&lt;/a&gt;:æä¾›æ¥å£ä¸ºåº”ç”¨ï¼Œä¸»è¦ç”¨äºtouchå’Œç®¡ç†åº”ç”¨çš„æ“ä½œã€‚å…¶ä¸­æˆ‘ä»¬æœ€å¸¸ç”¨çš„UIKitçš„æ¡†æ¶åœ¨Cocoa Touchå±‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/path/to/img.jpg&quot; alt=&quot;alt text&quot; title=&quot;Title&quot;&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰åª’ä½“å±‚ï¼ˆmedia layerï¼‰&lt;a href=&quot;https://developer.apple.com/library/mac/documentation/MacOSX/Conceptual/OSX_Technology_Overview/MediaLayer/MediaLayer.html#//apple_ref/doc/uid/TP40001067-CH273-SW1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å®˜æ–¹åœ°å€&lt;/a&gt;ï¼šåŒ…æ‹¬å¤šç§å¤šæ ·çš„åª’ä½“æ–‡ä»¶ï¼Œå½•éŸ³ï¼Œæ’­æ”¾ï¼Œå›¾åƒç»˜åˆ¶ï¼Œ2Då’Œ3Då›¾å½¢åŸºç¡€åŠ¨ç”»&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/path/to/img.jpg&quot; alt=&quot;alt text&quot; title=&quot;Title&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹ï¼šAV Foundation, Core Animation, Core Audio, Core Image, Core Text, OpenAl, OpenGL, Quartez&lt;/p&gt;
&lt;p&gt;ï¼ˆ3ï¼‰æ ¸å¿ƒæœåŠ¡å±‚ï¼ˆCore Service Layerï¼‰&lt;a href=&quot;https://developer.apple.com/library/mac/documentation/MacOSX/Conceptual/OSX_Technology_Overview/CoreServicesLayer/CoreServicesLayer.html#//apple_ref/doc/uid/TP40001067-CH270-BCICAIFJ&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å®˜æ–¹åœ°å€&lt;/a&gt;ï¼šé€šè¿‡æä¾›ä¸€äº›æ¥å£è¿›è¡Œç½‘ç»œè¿æ¥ï¼ŒåŒ…æ‹¬ä¸€äº›åœ¨CPUå’ŒGPUæ›´é«˜è®¡ç®—æ€§èƒ½ï¼Œä½¿ç”¨å¹¿æ³›çš„Foundationæ¡†æ¶ä½äºæœ¬å±‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/path/to/img.jpg&quot; alt=&quot;alt text&quot; title=&quot;Title&quot;&gt;&lt;/p&gt;
&lt;p&gt;åªè¦åŒ…æ‹¬ä»¥ä¸‹ï¼šAddress Book, Core Foundation, Foundation, Core Data, Quick Look&lt;/p&gt;
&lt;p&gt;, Social, WebKit, Security&lt;/p&gt;
&lt;p&gt;(4)æ ¸å¿ƒç³»ç»Ÿæ“ä½œå±‚ï¼ˆCore OS Layerï¼‰&lt;a href=&quot;https://developer.apple.com/library/mac/documentation/MacOSX/Conceptual/OSX_Technology_Overview/CoreOSLayer/CoreOSLayer.html#//apple_ref/doc/uid/TP40001067-CH9-SW1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å®˜æ–¹åœ°å€&lt;/a&gt;ï¼šå†…å­˜ç®¡ç†ã€æ–‡ä»¶ç³»ç»Ÿã€ç”µæºç®¡ç†ä»¥åŠä¸€äº›å…¶ä»–çš„æ“ä½œç³»ç»Ÿä»»åŠ¡ã€‚å®ƒå¯ä»¥ç›´æ¥å’Œç¡¬ä»¶è®¾å¤‡è¿›è¡Œäº¤äº’&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/path/to/img.jpg&quot; alt=&quot;alt text&quot; title=&quot;Title&quot;&gt;&lt;/p&gt;
&lt;p&gt;åªè¦åŒ…æ‹¬ä»¥ä¸‹ï¼šAccelerate, Open CL, Directory Services, System Configuration, Disk Arbitration&lt;/p&gt;
&lt;p&gt;è¿™åªæ˜¯å†™å‡ºåŸºæœ¬çš„å±‚æ¬¡æ¨¡å‹ï¼Œåç»­å°†å¯¹æ­¤è¿›è¡Œç›¸å…³çš„æ›´æ–°å’Œæ€»ç»“ã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;æ„Ÿè§‰åœ¨åšå®¢ä¸Šæœ‰å¤§ç‰›ä»‹ç»IOSæ¡†æ¶è®²è§£çš„æ¯”è¾ƒè¯¦ç»†ï¼Œåœ¨æ­¤å‘å¤§ç‰›è‡´æ•¬å†™ç¯‡æ–‡ç« ã€‚&lt;a href=&quot;http://www.cnblogs.com/kenshincui/p/3885689.html#foundation&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;
    
    </summary>
    
      <category term="IOS" scheme="http://yoursite.com/categories/IOS/"/>
    
    
      <category term="IOS" scheme="http://yoursite.com/tags/IOS/"/>
    
  </entry>
  
  <entry>
    <title>runtimeç†è§£</title>
    <link href="http://yoursite.com/2016/05/29/runtime%E7%90%86%E8%A7%A3/"/>
    <id>http://yoursite.com/2016/05/29/runtimeç†è§£/</id>
    <published>2016-05-29T04:15:38.000Z</published>
    <updated>2016-06-09T14:19:58.000Z</updated>
    
    <content type="html">&lt;p&gt;ç½‘ä¸Šå…¶å®æœ‰å¾ˆå¤šå…³äºè®²è¿°runtimeçš„å­¦ä¹ èµ„æ–™ï¼Œä¹Ÿæ˜¯ç«™åœ¨å·¨äººè‚©ä¸Šçœ‹çš„æ›´è¿œã€‚å†™è¿™ç¯‡æ–‡ç« ä¹Ÿæ˜¯å¯¹äºå…¶ä»–äººå€Ÿé‰´å’Œç¿»é˜…æºç ï¼Œå‘æºç å¯»æ±‚è§£é‡Šå§ã€‚&lt;br&gt;&lt;br&gt;æ— æ„é—´çœ‹åˆ°ä¸€ä»½å…³äºruntimeçš„åšå®¢ï¼Œæ„Ÿè§‰å†™çš„æŒºä¸é”™çš„å°±è€å¿ƒçš„çœ‹ä¸‹ã€‚çœ‹åå‘ç°è‡ªå·±å¯¹runtimeçš„ç†è§£è¿˜æ˜¯æ¯”è¾ƒæµ…ï¼Œå°±å†³å®šå¯¹è‡ªå·±åšå®¢è¿›è¡Œé‡æ–°ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;div style=&quot;color:#008B8B&quot;&gt;&lt;br&gt;&lt;p&gt;éšä¾¿åœ¨è¿™é‡ŒæŠ›å‡ºä¸€ä¸ªé—®é¢˜ï¼šå‡å¦‚æˆ‘ä»¬ç¨‹åºå‘˜è‡ªå·±æ˜¯ç³»ç»Ÿæˆ‘ä»¬æ€ä¹ˆæ‰§è¡Œç¨‹åºå‘¢ï¼Ÿå½“ç„¶æ¢ä¸ªé«˜çº§ç‚¹çš„è¯´æ³•ï¼Œå¦‚æœæˆ‘ä»¬æ˜¯ç³»ç»Ÿè®¾è®¡è€…æˆ‘ä»¬æƒ³è¦runtimeæ€ä¹ˆè¿è¡Œï¼Ÿ&lt;/p&gt;&lt;br&gt;&lt;/div&gt;

&lt;p&gt;åœ¨ä»‹ç»runtimeä¹‹å‰æˆ‘ç°åœ¨è¿™é‡Œç»™å¤§å®¶æ¢³ç†ä¸€ä¸‹æˆ‘ä»¬åœ¨Objcç±»ä¸­å¯èƒ½è§åˆ°çš„å†…å®¹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;-æˆå‘˜å˜é‡ã€æˆå‘˜å±æ€§ï¼š&amp;lt;br&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-æ•°æ®æˆå‘˜ï¼š&amp;lt;/br&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-åè®®å®ç°ï¼š&amp;lt;/br&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;runtimeç®€ä»‹&quot;&gt;&lt;a href=&quot;#runtimeç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;runtimeç®€ä»‹&quot;&gt;&lt;/a&gt;runtimeç®€ä»‹&lt;/h3&gt;&lt;p&gt;Objcè¢«æˆ‘ä»¬æˆä¸ºåŠ¨æ€è¯­è¨€ï¼Œæ¢å¥è¯è¯´å°±æ˜¯æŠŠæˆ‘ä»¬å¹³æ—¶çœ‹åˆ°ä¸€äº›å…³é”®æ–¹æ³•ç”±ç¼–è¯‘è¿æ¥æ¨è¿Ÿåˆ°è¿è¡Œæ—¶æ‰§è¡Œã€‚Objcåº•å±‚æ˜¯åŸºäºC/C++çš„ç¼–è¯‘è¯­è¨€ï¼Œåœ¨C/C++é¡¹ç›®è¿è¡Œè¿‡ç¨‹ä¸­é“¾æ¥ã€ç¼–è¯‘ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚è€ŒObjcè¯­è¨€æ˜¯åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­è¿›è¡Œç¼–è¯‘æºç ï¼Œç”Ÿæˆæˆ‘ä»¬ç†Ÿæ‚‰çš„C/C++åé¢æœ€ç»ˆç”Ÿæˆæœºå™¨å¯ä»¥è¯†åˆ«çš„æ±‡ç¼–è¯­è¨€ã€‚Objcä¸­æœ‰ä¸‰å¤§è‡ªå·±ç‰¹è‰²ï¼šåŠ¨æ€ç±»å‹ï¼ŒåŠ¨æ€ç»‘å®šå’ŒåŠ¨æ€åŠ è½½ã€‚&lt;br&gt;&lt;br&gt;è·runtimeçš„æºç ç‚¹å‡»&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/Cocoa/Reference/ObjCRuntimeRef/index.html#//apple_ref/doc/uid/TP40001418&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬ä¸»è¦æ¢ç©¶runtime.hå’Œmessage.hä¸¤ä¸ªæ–‡ä»¶å¤¹ä¸­ä¸€äº›ä½¿ç”¨æ–¹æ³•ã€‚&lt;br&gt;ä¸‹é¢åˆ—å‡ºruntime.hæ–‡ä»¶ä¸­ä»£ç ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;typedef&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; objc_method *Method;  &lt;span class=&quot;comment&quot;&gt;//ä»£è¡¨ç±»å®šä¹‰å½“ä¸­çš„ä½¿ç”¨æ–¹æ³•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;typedef&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; objc_ivar *Ivar;  &lt;span class=&quot;comment&quot;&gt;//ä»£è¡¨ç±»å®šä¹‰ä¸­å®ä¾‹å˜é‡å’Œå±æ€§&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;typedef&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; objc_category *Category; &lt;span class=&quot;comment&quot;&gt;//ä»£è¡¨æ·»åŠ æˆå‘˜å‡½æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;typedef&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; objc_property *objc_property_t; &lt;span class=&quot;comment&quot;&gt;//å£°æ˜çš„å±æ€§&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; objc_class &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Class isa;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;#if !__OBJC2__&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Class super_class                                        OBJC2_UNAVAILABLE;&lt;span class=&quot;comment&quot;&gt;//çˆ¶ç±»&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *name                                         OBJC2_UNAVAILABLE;&lt;span class=&quot;comment&quot;&gt;//ç±»å&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;long&lt;/span&gt; version                                             OBJC2_UNAVAILABLE;&lt;span class=&quot;comment&quot;&gt;//ç±»çš„ç‰ˆæœ¬ä¿¡å¿ƒï¼Œé»˜è®¤çš„æƒ…å†µä¸‹æ˜¯0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;long&lt;/span&gt; info                                                OBJC2_UNAVAILABLE;&lt;span class=&quot;comment&quot;&gt;//ç±»ä¿¡æ¯&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;long&lt;/span&gt; instance_size                                       OBJC2_UNAVAILABLE;&lt;span class=&quot;comment&quot;&gt;//ç±»çš„å®ä¾‹å˜é‡çš„å¤§å°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; objc_ivar_list *ivars                             OBJC2_UNAVAILABLE;&lt;span class=&quot;comment&quot;&gt;//ç±»æˆå‘˜å˜é‡çš„åˆ—è¡¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; objc_method_list **methodLists                    OBJC2_UNAVAILABLE;&lt;span class=&quot;comment&quot;&gt;//ç±»çš„æ–¹æ³•åˆ—è¡¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; objc_cache *cache                                 OBJC2_UNAVAILABLE;&lt;span class=&quot;comment&quot;&gt;//æ–¹æ³•ç¼“å­˜&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; objc_protocol_list *protocols                     OBJC2_UNAVAILABLE;&lt;span class=&quot;comment&quot;&gt;//ç±»çš„åè®®åˆ—è¡¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;meta&quot;&gt;#endif&amp;#125; &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    OBJC2_UNAVAILABLE;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;çœ‹å…¶ä¸­ä¸€ç§å®ç°æ–¹å¼&quot;&gt;&lt;a href=&quot;#çœ‹å…¶ä¸­ä¸€ç§å®ç°æ–¹å¼&quot; class=&quot;headerlink&quot; title=&quot;çœ‹å…¶ä¸­ä¸€ç§å®ç°æ–¹å¼&quot;&gt;&lt;/a&gt;çœ‹å…¶ä¸­ä¸€ç§å®ç°æ–¹å¼&lt;/h3&gt;&lt;p&gt;å…¶ä¸­æˆ‘ä»¬å°±ä»¥ç±»ä¸­struct objc_ivar_list *ivars ,ä¸ºä¾‹æ¥çœ‹æ˜¯æ€æ ·å®ç°&lt;br&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; objc_ivar_list &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; ivar_count                                           OBJC2_UNAVAILABLE;&lt;span class=&quot;comment&quot;&gt;//æˆå‘˜åˆ—è¡¨çš„æ•°é‡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#ifdef __LP64__&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; space                                                OBJC2_UNAVAILABLE;&lt;span class=&quot;comment&quot;&gt;//æˆå‘˜åˆ—è¡¨çš„ç©ºé—´&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#endif&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;/* variable length structure */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; objc_ivar ivar_list[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]                            OBJC2_UNAVAILABLE;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;                                                            OBJC2_UNAVAILABLE;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹å‡ºå®ä¾‹å˜é‡å’Œå±æ€§æ˜¯å­˜æ”¾æ—¶ä¸€ä¸ªstructçš„listçš„æ•°ç»„ä¸­ï¼Œå…¶ä¸­åŒ…æ‹¬listçš„æ•°ç›®ã€æ‰€å ç©ºé—´å’ŒåŸºæœ¬å‚¨å­˜objc_ivarã€‚&lt;br&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢objc_ivaråœ¨runtime.hä¸­å½¢å¼ï¼š&lt;br&gt;typedef struct objc_ivar Ivar;&lt;br&gt;objc_ivarä¸­å®ä¾‹å˜é‡å‚¨å­˜æ–¹å¼ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; objc_ivar &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *ivar_name                       OBJC2_UNAVAILABLE;&lt;span class=&quot;comment&quot;&gt;//æˆå‘˜çš„åå­—&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *ivar_type                       OBJC2_UNAVAILABLE;&lt;span class=&quot;comment&quot;&gt;//æˆå‘˜æ•°æ®çš„ç±»å‹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; ivar_offset                      OBJC2_UNAVAILABLE;&lt;span class=&quot;comment&quot;&gt;//æˆå‘˜çš„åç§»é‡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;#indef _LP64_&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; space                             OBJC2_UNAVAILABLE;&lt;span class=&quot;comment&quot;&gt;//æˆå‘˜å˜é‡æ‰€å ç©ºé—´&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;#endif&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºç±»çš„å®ä¾‹å˜é‡å’Œå±æ€§ç»è¿‡runtimeç¼–è¯‘åæ˜¯ä»¥structçš„å‚¨å­˜å½¢å¼å­˜åœ¨ï¼Œå¹¶ä¸”å•ä¸ªå®ä¾‹å˜é‡ä¿å­˜å…¶åå­—ã€ç±»å‹ã€åç§»é‡å’Œå‚¨å­˜ç©ºé—´ã€‚ç±»ä¸­æ‰€æœ‰å®ä¾‹å˜é‡æ˜¯ä»¥listç±»å‹è¿›è¡Œå‚¨å­˜ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é€šè¿‡å¯¹runtime.hæ–‡ä»¶æºç åˆ†ææˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œåœ¨IOSç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­æŠŠæˆ‘ä»¬ç±»ç¼–è¯‘ä¸ºC/C++å½¢å¼ã€‚ä¸”ç¼–è¯‘è¿‡ç¨‹æ˜¯ä¸€ä¸ªåŠ¨æ€è¿‡ç¨‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡æ­¤æ–¹å¼å¯¹æˆ‘ä»¬ç¨‹åºè¿›è¡ŒåŠ¨æ€æ“ä½œ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;runtimeåŠ¨æ€æ“ä½œ&quot;&gt;&lt;a href=&quot;#runtimeåŠ¨æ€æ“ä½œ&quot; class=&quot;headerlink&quot; title=&quot;runtimeåŠ¨æ€æ“ä½œ&quot;&gt;&lt;/a&gt;runtimeåŠ¨æ€æ“ä½œ&lt;/h3&gt;&lt;ul&gt;åœ¨åŠ¨æ€ç¼–è¯‘è¿‡ç¨‹ä¸­æ— è®ºæ˜¯å±æ€§ã€å®ä¾‹å˜é‡ã€æˆå‘˜å‡½æ•°ã€ç±»æ–¹æ³•çš„å‡å¯ä»¥æ“ä½œï¼Œä¸€ä¸‹å°±ä»¥æ¯”è¾ƒç®€å•çš„è¿›è¡Œè®²è§£&lt;br&gt;&lt;li&gt;è·å–ç±»çš„å¯¹è±¡å&lt;/li&gt;&lt;br&gt;&lt;li&gt;è·å–ç±»ä¸­æˆå®ä¾‹å˜é‡å’Œå±æ€§&lt;/li&gt;&lt;br&gt;&lt;li&gt;åŠ¨æ€æ·»åŠ æ–¹æ³•&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;

&lt;h3 id=&quot;è·å–ç±»çš„å¯¹è±¡å&quot;&gt;&lt;a href=&quot;#è·å–ç±»çš„å¯¹è±¡å&quot; class=&quot;headerlink&quot; title=&quot;è·å–ç±»çš„å¯¹è±¡å&quot;&gt;&lt;/a&gt;è·å–ç±»çš„å¯¹è±¡å&lt;/h3&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; count = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Class *classes = objc_copyClassList(&amp;amp;count);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; count; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *name = class_getName(classes[i]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSLog&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;@&quot;%s&quot;&lt;/span&gt;, name);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ‰“å°å‡ºçš„å†…å®¹å¯èƒ½å‡ºä¹ä½ çš„æ„æ–™ï¼&lt;/p&gt;
&lt;h3 id=&quot;è·å–ç±»çš„å®ä¾‹å˜é‡å’Œå±æ€§&quot;&gt;&lt;a href=&quot;#è·å–ç±»çš„å®ä¾‹å˜é‡å’Œå±æ€§&quot; class=&quot;headerlink&quot; title=&quot;è·å–ç±»çš„å®ä¾‹å˜é‡å’Œå±æ€§&quot;&gt;&lt;/a&gt;è·å–ç±»çš„å®ä¾‹å˜é‡å’Œå±æ€§&lt;/h3&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Class clazz = &lt;span class=&quot;built_in&quot;&gt;NSClassFromString&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;@&quot;Graduater&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; count = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Ivar *var = class_copyIvarList(clazz, &amp;amp;count);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; count; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *name = ivar_getName(var[i]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;NSLog&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;@&quot;%s&quot;&lt;/span&gt;, name);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æˆ‘å®šä¹‰ä¸€ä¸ªæ¯•ä¸šç”Ÿç±»ï¼Œç„¶åå°±å¯ä»¥æ‰“å°å‡ºå…¶ä¸­çš„å‡½æ•°å®ä¾‹å˜é‡å’Œå±æ€§ï¼ˆä¸å¤šè®°å¾—è¦å¼•å…¥&lt;objc runtime.h=&quot;&quot;&gt;çš„å¤´æ–‡ä»¶ï¼‰ï¼›&lt;/objc&gt;&lt;/p&gt;
&lt;h3 id=&quot;åŠ¨æ€çš„æ·»åŠ æ–¹æ³•&quot;&gt;&lt;a href=&quot;#åŠ¨æ€çš„æ·»åŠ æ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;åŠ¨æ€çš„æ·»åŠ æ–¹æ³•&quot;&gt;&lt;/a&gt;åŠ¨æ€çš„æ·»åŠ æ–¹æ³•&lt;/h3&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#import &lt;span class=&quot;meta-string&quot;&gt;&amp;lt;objc/runtime.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; abc(&lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;, SEL _cmd)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;NSLog&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;@&quot;%@hello&quot;&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@implementation&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Graduater&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;+(&lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt;)resolveInstanceMethod:(SEL)sel&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([&lt;span class=&quot;built_in&quot;&gt;NSStringFromSelector&lt;/span&gt;(sel) isEqualToString:&lt;span class=&quot;string&quot;&gt;@&quot;sihai&quot;&lt;/span&gt;]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        class_addMethod(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;, sel, abc, &lt;span class=&quot;string&quot;&gt;&quot;v@:&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç„¶ååœ¨å‡½æ•°è°ƒç”¨æ—¶æ‰§è¡Œä¸‹åˆ—ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Graduater *graduate = [[Graduater alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[graduate performSelector:&lt;span class=&quot;keyword&quot;&gt;@selector&lt;/span&gt;(sihai) withObject:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ‰§è¡Œçš„ç»“æœå¯ä»¥æ¡ç”¨æˆ‘ä»¬æ·»åŠ çš„@select(abc)çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;h3 id=&quot;runtimeä½¿ç”¨APIçš„ä»‹ç»ï¼š&quot;&gt;&lt;a href=&quot;#runtimeä½¿ç”¨APIçš„ä»‹ç»ï¼š&quot; class=&quot;headerlink&quot; title=&quot;runtimeä½¿ç”¨APIçš„ä»‹ç»ï¼š&quot;&gt;&lt;/a&gt;runtimeä½¿ç”¨APIçš„ä»‹ç»ï¼š&lt;/h3&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; * class_getName(Class cls) &lt;span class=&quot;comment&quot;&gt;//è·å–classçš„åå­—&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt; class_addIvar(Class cls, &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *name, size_t size, uint8_t alignment, &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *types)  &lt;span class=&quot;comment&quot;&gt;//å¢æ·»å®ä¾‹å˜é‡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;objc_property_t  class_getProperty(Class cls, &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *name) &lt;span class=&quot;comment&quot;&gt;//è·å–å±æ€§&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;objc_property_t * class_copyPropertyList(Class cls, &lt;span class=&quot;keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; *outCount) &lt;span class=&quot;comment&quot;&gt;//è·å–å±æ€§åˆ—è¡¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Method class_getInstanceMethod(Class aClass, SEL aSelector) &lt;span class=&quot;comment&quot;&gt;//è·å–æ–¹æ³•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;objc_allocateClassPair(Class superclass, &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *name, size_t extraBytes) &lt;span class=&quot;comment&quot;&gt;//æ·»åŠ åŠ¨æ€ç±»&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;é™¤å»ä¸Šé¢æˆ‘ä»¬åˆ—ä¸¾å…¶ä¸­æå°‘æ•°çš„è°ƒç”¨å®ä¾‹ï¼Œå¦‚æœæƒ³äº†è§£æ›´å¤šç‚¹å‡»&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/Cocoa/Reference/ObjCRuntimeRef/index.html#//apple_ref/doc/uid/TP40001418-CH1g-211911&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¿™é‡Œ&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ä½¿ç”¨runtimeè¿‡ç¨‹ï¼Œå¯¹äºæ“ä½œå¯¹è±¡å®è¡Œæ–¹æ³•æ”¹å–„&lt;br&gt;å¯¹äºå¯¹è±¡è¿›è¡Œç›¸å…³æ“ä½œä¸€èˆ¬ä»¥objc&lt;em&gt;å¼€å¤´&lt;br&gt;å¯¹äºç±»çš„å¯¹è±¡è¿›è¡Œæ“ä½œä¸€èˆ¬ä»¥class&lt;/em&gt;å¼€å¤´&lt;br&gt;å¯¹äºä½¿ç”¨æ–¹æ³•å¯¹è±¡æ“ä½œä¸€èˆ¬ä»¥method&lt;em&gt;å¼€å¤´&lt;br&gt;å¯¹äºä½¿ç”¨ç”³æ˜å±æ€§ï¼ˆpropertyï¼‰ä¸€èˆ¬æ˜¯ä»¥property&lt;/em&gt;å¼€å¤´&lt;br&gt;å¯¹äºä½¿ç”¨ç±»æˆå‘˜å˜é‡ä¸€èˆ¬ä½¿ç”¨ivar_å¼€å¤´&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;æ¶ˆæ¯ä¼ é€æœºåˆ¶&quot;&gt;&lt;a href=&quot;#æ¶ˆæ¯ä¼ é€æœºåˆ¶&quot; class=&quot;headerlink&quot; title=&quot;æ¶ˆæ¯ä¼ é€æœºåˆ¶&quot;&gt;&lt;/a&gt;æ¶ˆæ¯ä¼ é€æœºåˆ¶&lt;/h3&gt;&lt;p&gt;åœ¨IOSçš„ä¸€ä¸ªç±»ä¸­æˆ‘ä»¬è°ƒç”¨æ–¹æ³•ä½¿ç”¨ä¹Ÿæ˜¯æ¯”è¾ƒå¤šï¼Œå¦‚&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; method];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä½†æ˜¯åœ¨runtimeç¼–è¯‘è¿‡ç¨‹ä¸­å…·ä½“å®ç°çš„æ–¹å¼æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&lt;br&gt;é¦–å…ˆæˆ‘ä»¬çœ‹å…ˆmessage.hä¸­çš„æºç &lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/* Basic Messaging Primitives&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * On some architectures, use objc_msgSend_stret for some struct return types.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * On some architectures, use objc_msgSend_fpret for some float return types.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * These functions must be cast to an appropriate function pointer type &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * before being called. */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;OBJC_EXPORT &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt; objc_msgSend(&lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;, SEL op, ...);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;OBJC_EXPORT &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt; objc_msgSendSuper(&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; objc_super *&lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;, SEL op, ...);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä»ä¸Šé¢çš„è§£é‡Šæˆ‘ä»¬å¯ä»¥çš„å‡ºå¦‚æœè¿”å›ç±»å‹ä¸ºfloatè°ƒç”¨objc_msgSend_fpretï¼Œå¦‚æœæ˜¯æ•°æ®ç»“æ„è¿”å›ä½¿ç”¨objc_msgSend_stretã€‚è€Œæˆ‘ä»¬è®²è§£æ—¶ä½¿ç”¨ objc_msgSend(id self, SEL op, â€¦)ï¼Œå°±åƒæˆ‘ä»¬ä¸Šé¢çš„ä¾‹å­å°±ä¼šè½¬åŒ–ä¸ºobjc_msgSend(self @select(method))ï¼Œä½†æ˜¯æ‰¾åˆ°æˆ‘ä»¬æ‰€ä½¿ç”¨çš„æ–¹æ³•å…·ä½“æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ&lt;/p&gt;
&lt;div style=&quot;color:#008B8B&quot;&gt;&lt;br&gt;&lt;p&gt;åœ¨æ­¤åœ°æ–¹æˆ‘å°±å°†æ·»åŠ ä¸Šé¢çœ‹åˆ°çš„å…³äºobjc_msgSend,objc_msgSendSuper,SEL&lt;/p&gt;&lt;br&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;p&gt;æ•°æ®ç±»å‹ï¼š&lt;br&gt;ï¼ˆ1ï¼‰SEL:&lt;br&gt;     SELåˆå«åšé€‰æ‹©å™¨ï¼Œè¡¨ç¤ºä¸€ä¸ª@selectorçš„æŒ‡é’ˆï¼Œæ˜ å°„æ–¹æ³•çš„åå­—ã€‚åœ¨Objcç¼–è¯‘çš„è¿‡ç¨‹ä¸­é€šè¿‡æ¯ä¸ªæ–¹æ³•çš„åå­—å’Œå‚æ•°æ˜¯ç”Ÿæˆçš„å”¯ä¸€çš„æ ‡ç¤ºï¼ˆæ­¤æ ‡ç¤ºæ˜¯intçš„ç±»å‹ï¼‰ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªæ ‡ç¤ºç§°ä½œä¸ºSELã€‚&lt;br&gt;&lt;br&gt;     SElçš„ä½œç”¨æ˜¯ä½œä¸ºIMPï¼ˆå…³äºIMPçš„å…·ä½“è¯´æ˜ä¼šåœ¨ä¸‹é¢å±•ç¤ºï¼‰çš„keyå­˜åœ¨ï¼Œå­˜å‚¨åœ¨NSSetçš„ä¸­ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨hashçš„å¿«é€ŸæŸ¥æ‰¾ã€‚SELä½¿æˆ‘ä»¬æŸ¥æ‰¾IMPï¼ˆæŒ‡å‘å®ç°å‡½æ•°çš„æŒ‡é’ˆï¼‰keyï¼Œå¦‚æœSELå¯ä»¥ç›¸åŒçš„è¯æˆ‘ä»¬è°ƒç”¨å‡½æ•°å°±ä¼šå‘ç”Ÿé”™è¯¯ã€‚æ‰€ä»¥SELæ˜¯ä¸å¯ä»¥é‡å¤çš„ï¼Œæ–¹æ³•ä¹Ÿæ˜¯ä¸å¯ä»¥é‡å¤çš„ã€‚è¿™ä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨Objcå¼€å‘è¿‡ç¨‹ä¸­åœ¨åŒä¸€ä¸ªç±»ä¸­ä¸å¯ä»¥ä½¿ç”¨åŒåçš„å‡½æ•°~~~æ­¤å¤„å’ŒC++æ”¯æŒé‡è½½æœ‰å¾ˆå¤§åŒºåˆ«ã€‚&lt;br&gt;&lt;br&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;typedef&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; objc_selector *SEL;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br&gt;è™½è¯´åœ¨runtime.hä¸­æ²¡æœ‰æ˜¾ç¤ºobjc_selectorç»“æ„ä½“ç±»å‹ï¼Œä½†æ˜¯ä½œä¸ºç¨‹åºå‘˜çš„æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°æ–¹æ³•è¿›è¡ŒéªŒè¯ï¼Œä½¿ç”¨logæ‰“å°SELè¯•ä¸‹ï¼Ÿ&lt;br&gt;&lt;br&gt;ï¼ˆ2ï¼‰IMP:&lt;br&gt;      IMPä¸Šé¢è®²åˆ°IMPæŠŠSELä½œä¸ºkeyå€¼ï¼ŒIMPè¯´ç™½å•¦å°±æ˜¯æŒ‡å‘æˆ‘ä»¬æ–¹æ³•çš„æŒ‡é’ˆï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ¡ç”¨å…·ä½“å‡½æ•°æ–¹æ³•çš„å…¥å£ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;figcaption&gt;&lt;span&gt;lang: objc&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;typedefine id (*IMP)(id, SEL, ...)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ï¼ˆ3ï¼‰Method&lt;br&gt;       Method:ä¸Šé¢æˆ‘ä»¬åœ¨ç±»çš„Structçš„ç»“æ„ä¸­å¯ä»¥çœ‹å‡ºMethodæ˜¯æ”¾ç½®æˆ‘ä»¬ä½¿ç”¨çš„æ–¹æ³•ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬ä½¿ç”¨SELå’ŒIMPçš„ä¸€ä¸ªå…·ä½“çš„ç»‘å®šã€‚é€šè¿‡ä½¿ç”¨SELæ¥æ‰¾åˆ°å¯¹åº”çš„IMPè¿›è€Œå®ç°æˆ‘ä»¬æ–¹æ³•çš„å…·ä½“è°ƒç”¨ã€‚ä¸‹é¢çœ‹ä»£ç ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;figcaption&gt;&lt;span&gt;lang: objc&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;typedef struct objc_method *Method;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;struct objc_method &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    SEL method_name                 OBJC2_UNAVAILABLE;  // æ–¹æ³•å&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    char *method_types                  OBJC2_UNAVAILABLE; // å‚æ•°ç±»å‹&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    IMP method_imp                      OBJC2_UNAVAILABLE;  // æ–¹æ³•å®ç°&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ä»¬çœ‹ä¸‹åœ¨ç±»ä¸­æ–¹æ³•å…·ä½“å®ç°çš„å½¢å¼ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;figcaption&gt;&lt;span&gt;lang: objc&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;struct objc_method_list &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    struct objc_method_list *obsolete                        OBJC2_UNAVAILABLE;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    int method_count                                                 OBJC2_UNAVAILABLE;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ifdef __LP64__&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    int space                                                              OBJC2_UNAVAILABLE;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#endif&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    /* variable length structure */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    struct objc_method method_list[1]                        OBJC2_UNAVAILABLE;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ï¼ˆ4ï¼‰æ–¹æ³•ç¼“å­˜&lt;br&gt;æˆ‘ä»¬åœ¨è°ƒç”¨æ–¹æ³•çš„è¿‡ç¨‹å…¶å®æ˜¯Lazyè°ƒç”¨çš„è¿‡ç¨‹ï¼Œæ–¹æ³•åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨åŠ è½½åä¼šæ”¾åˆ°ç¼“å­˜æ± ä¸­ã€‚objcç¨‹åºå¯åŠ¨åï¼Œéœ€è¦è¿›è¡Œç±»çš„åˆå§‹åŒ–ã€è°ƒç”¨æ–¹æ³•æ—¶çš„cacheåˆå§‹åŒ–ï¼Œå†å‘é€æ¶ˆæ¯çš„æ—¶å€™å°±ç›´æ¥èµ°ç¼“å­˜ã€‚&lt;br&gt;&lt;br&gt;ä¸‹é¢æˆ‘ä¼šå¯¹æ–¹æ³•ç¼“å­˜åšè¯¦ç»†çš„è§£é‡Šã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; objc_cache &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ç¼“å­˜bucketçš„æ€»æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; mask &lt;span class=&quot;comment&quot;&gt;/* total = mask + 1 */&lt;/span&gt;                 OBJC2_UNAVAILABLE;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// å®é™…ç¼“å­˜bucketçš„æ€»æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; occupied                                    OBJC2_UNAVAILABLE;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// æŒ‡å‘Methodæ•°æ®ç»“æ„æŒ‡é’ˆçš„æ•°ç»„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Method buckets[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]                                        OBJC2_UNAVAILABLE;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h3 id=&quot;æ¶ˆæ¯è½¬å‘æœºåˆ¶å…·ä½“å®ç°&quot;&gt;&lt;a href=&quot;#æ¶ˆæ¯è½¬å‘æœºåˆ¶å…·ä½“å®ç°&quot; class=&quot;headerlink&quot; title=&quot;æ¶ˆæ¯è½¬å‘æœºåˆ¶å…·ä½“å®ç°&quot;&gt;&lt;/a&gt;æ¶ˆæ¯è½¬å‘æœºåˆ¶å…·ä½“å®ç°&lt;/h3&gt;&lt;p&gt;åœ¨åŠ¨æ€æ·»åŠ æ–¹æ³•è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å¦‚ä¸‹æ–¹å¼ï¼š&lt;/p&gt;
&lt;h3 id=&quot;1åŠ¨æ€è§£ææ–¹æ³•&quot;&gt;&lt;a href=&quot;#1åŠ¨æ€è§£ææ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;1åŠ¨æ€è§£ææ–¹æ³•&quot;&gt;&lt;/a&gt;1åŠ¨æ€è§£ææ–¹æ³•&lt;/h3&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;+(&lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt;)resolveInstanceMethod:(SEL)sel;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å…·ä½“å®ä¾‹å¦‚ä¸‹ï¼š&lt;br&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;+(&lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt;)resolveInstanceMethod:(SEL)sel&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([&lt;span class=&quot;built_in&quot;&gt;NSStringFromSelector&lt;/span&gt;(sel) isEqualToString:&lt;span class=&quot;string&quot;&gt;@&quot;sihai&quot;&lt;/span&gt;])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   class_addMethod(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;, sel, abc, &lt;span class=&quot;string&quot;&gt;&quot;v@:&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NO&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ä»è¿™é‡Œæˆ‘ä»¬å°±å¯ä»¥çœ‹å‡ºåœ¨å‡½æ•°è°ƒç”¨è¿‡ç¨‹ä¸­runtimeä¼šæ ¹æ®SElè¯†åˆ«å­è¿›è¡Œå¯»æ‰¾ï¼Œåœ¨ä¾‹å­ä¸­æˆ‘ä»¬æœ‰ç›¸åº”çš„è¯†åˆ«å¯ä»¥æŸ¥è¯¢ï¼Œå¦‚æœæ²¡æœ‰ç›¸åº”çš„è¯†åˆ«å­å‘¢ï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ç³»ç»Ÿä¸­å¦‚æœåœ¨æŸ¥æ‰¾è¿‡ç¨‹ä¸­æ²¡æœ‰æ‰¾åˆ°ç›¸åº”çš„é€‰æ‹©å­ï¼Œå°±ä¼šè°ƒç”¨ä¸Šé¢çš„å‡½æ•°&lt;br&gt;+(BOOL)resolveInstanceMethod:(SEL)selï¼›ç”Ÿæˆå®ä¾‹æ–¹æ³•ï¼Œå¦‚ä¸Šé¢ä¾‹å­ï¼ˆæ·»åŠ ç›¸åº”çš„å®ä¾‹æ–¹æ³•å¯ä»¥å®ç°ï¼Œå°±è·³è½¬æ–¹æ³•å®ç°ï¼‰ã€‚æŠŠæ·»åŠ æ–¹æ³•æ”¾å…¥åˆ°ç¼“å­˜ä¸­ï¼Œå¯ä»¥ä¾›æˆ‘ä»¬è¿›è¡Œä¸‹æ¬¡çš„è°ƒç”¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¦‚æœä¸Šé¢æˆ‘ä»¬æ‰¾åˆ°ç›¸åº”çš„è¯†åˆ«å­ï¼Œå°±ä¼šè¿›è¡Œç¬¬äºŒæ¬¡å¯¹é€‰æ‹©å­è¿›è¡Œç›¸å…³çš„å¤„ç†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;2å¤‡æ´æ¥æ”¶åˆ°&quot;&gt;&lt;a href=&quot;#2å¤‡æ´æ¥æ”¶åˆ°&quot; class=&quot;headerlink&quot; title=&quot;2å¤‡æ´æ¥æ”¶åˆ°&quot;&gt;&lt;/a&gt;2å¤‡æ´æ¥æ”¶åˆ°&lt;/h3&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;-(&lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)forwardingTargetForSelector:(SEL)aSelector;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;å…·ä½“å®ä¾‹å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(&lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)forwardingTargetForSelector:(SEL)aSelector&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([&lt;span class=&quot;built_in&quot;&gt;NSStringFromSelector&lt;/span&gt;(aSelector) isEqualToString:&lt;span class=&quot;string&quot;&gt;@&quot;sihai&quot;&lt;/span&gt;]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; [&lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt; forwardingTargetForSelector:aSelector];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç³»ç»Ÿä¼šæŠŠé€‰æ‹©å­ä½œä¸ºå‚æ•°ï¼Œè¿”å›ç»™æˆ‘ä»¬ä¸€ä¸ªé€‰æ‹©å­å¯¹è±¡ã€‚è¿è¡Œçš„ç³»ç»Ÿå°±ä¼šå¯¹ç›¸å…³æ–¹æ³•å®ä¾‹è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°ç›¸å…³æ–¹æ³•å°±å®è¡Œï¼Œæ‰¾ä¸åˆ°å°±ç»“æŸè½¬å‘ã€‚&lt;/p&gt;
&lt;h3 id=&quot;3å®Œæ•´çš„æ¶ˆæ¯ä¼ é€’&quot;&gt;&lt;a href=&quot;#3å®Œæ•´çš„æ¶ˆæ¯ä¼ é€’&quot; class=&quot;headerlink&quot; title=&quot;3å®Œæ•´çš„æ¶ˆæ¯ä¼ é€’&quot;&gt;&lt;/a&gt;3å®Œæ•´çš„æ¶ˆæ¯ä¼ é€’&lt;/h3&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;-(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)forwardInvocation:(&lt;span class=&quot;built_in&quot;&gt;NSInvocation&lt;/span&gt; *)anInvocation;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;å®ç°çš„å…·ä½“æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(&lt;span class=&quot;built_in&quot;&gt;NSMethodSignature&lt;/span&gt;*)methodSignatureForSelector:(SEL)aSelector&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([&lt;span class=&quot;built_in&quot;&gt;NSStringFromSelector&lt;/span&gt;(aSelector) isEqualToString:&lt;span class=&quot;string&quot;&gt;@&quot;sihai&quot;&lt;/span&gt;]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; [&lt;span class=&quot;built_in&quot;&gt;NSMethodSignature&lt;/span&gt; signatureWithObjCTypes:&lt;span class=&quot;string&quot;&gt;&quot;v@:&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; [&lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt; methodSignatureForSelector:aSelector];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)forwardInvocation:(&lt;span class=&quot;built_in&quot;&gt;NSInvocation&lt;/span&gt; *)anInvocation&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        anInvocation.selector = &lt;span class=&quot;keyword&quot;&gt;@selector&lt;/span&gt;(fly);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [anInvocation invokeWithTarget:&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¦‚æœä¸Šé¢2æ­¥éª¤ä¸­è¿”å›ä¾ç„¶æ˜¯nilï¼Œä¹Ÿä¼šæ‰§è¡Œå®Œæ•´çš„æ¶ˆæ¯ä¼ è¾“æ¶ˆæ¯æœºåˆ¶ã€‚åœ¨è¯¥æ–¹æ³•ä¸­æˆ‘ä»¬å¯ä»¥æ”¹å˜å…¶ç›®æ ‡ï¼Œç„¶åè¿è¡Œç³»ç»Ÿå°±ä¼šæ ¹æ®æ”¹å˜çš„ç›®æ ‡ï¼Œåœ¨å…¶ç›®æ ‡ä¸­æŸ¥è¯¢å®ç°æ–¹æ³•åˆ«è°ƒç”¨ã€‚å½“ç„¶ä¹Ÿå¯ä»¥è¿›è¡Œä¿®æ”¹é€‰æ‹©å­ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å¦‚æœæ–¹æ³•è°ƒç”¨å¤±è´¥&quot;&gt;&lt;a href=&quot;#å¦‚æœæ–¹æ³•è°ƒç”¨å¤±è´¥&quot; class=&quot;headerlink&quot; title=&quot;å¦‚æœæ–¹æ³•è°ƒç”¨å¤±è´¥&quot;&gt;&lt;/a&gt;å¦‚æœæ–¹æ³•è°ƒç”¨å¤±è´¥&lt;/h3&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;-(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)doesNotRecognizeSelector:(SEL)aSelector;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;é€šè¿‡å¯¹äº[self method];æ–¹æ³•çš„å®ç°è¿‡ç¨‹çš„è¿›è¡Œæ¢ç©¶æˆ‘ä»¬æˆ‘ä»¬å¯ä»¥äº†è§£åˆ°åœ¨æ¶ˆæ¯ä¼ é€’è¿‡ç¨‹æ˜¯å¦‚ä½•å®ç°çš„ï¼Œè€Œä¸”æˆ‘ä»¬å¯ä»¥æ›´å…·æˆ‘ä»¬éœ€æ±‚å¯¹å…¶ä¸­çš„æ–¹æ³•è¿›è¡Œç›¸åº”çš„è€Œä¿®æ”¹ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;runtimeæ˜¯Objcè¯­è¨€ç‰¹æ€§ï¼Œæœ¬äººé€šè¿‡å¯¹äºçš„ç ”ç©¶ç†è§£æ˜¯ï¼šé€šè¿‡runtimeæˆ‘ä»¬å¯ä»¥ç­‰åˆ°æˆ‘ä»¬ç±»ä¸­æ‰€æœ‰å…ƒç´ çš„èµ„æ–™ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨æœŸåŒå·¥çš„APIå¯¹ç±»è¿›è¡Œæˆ‘ä»¬æƒ³åˆ°è¾¾åˆ°çš„ç›®çš„ï¼›åœ¨æˆ‘ä»¬è°ƒè¯•è¿‡ç¨‹ä¸­ä¹Ÿå¯ä»¥é€šè¿‡æ‰“å°æ¥ç®€åŒ–æˆ‘ä»¬è°ƒè¯•ä¿¡æ¯ï¼›æœ€æ£’çš„å°±æ˜¯æˆ‘ä»¬å¯ä»¥äº†è§£ç¨‹åºè¿è¡Œè¿‡ç¨‹å¯ä»¥åœ¨å¼€å‘ä¸­ä½¿æˆ‘ä»¬æ›´åŠ å¾—å¿ƒåº”æ‰‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3 id=&quot;å‚è€ƒæ¥ä¹‹ï¼š&quot;&gt;&lt;a href=&quot;#å‚è€ƒæ¥ä¹‹ï¼š&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒæ¥ä¹‹ï¼š&quot;&gt;&lt;/a&gt;å‚è€ƒæ¥ä¹‹ï¼š&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;http://www.cocoachina.com/ios/20151015/13769.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Runtimeåˆæ¶‰ä¹‹æ¶ˆæ¯è½¬å‘&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;a href=&quot;http://www.cocoachina.com/ios/20150901/13173.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å­¦ä¹ runtimeçš„ç†è§£å’Œå¿ƒå¾—&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/Cocoa/Reference/ObjCRuntimeRef/index.html#//apple_ref/doc/uid/TP40001418-CH1g-88778&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;runtime æºç &lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;a href=&quot;http://www.jianshu.com/p/f900de4a1495#&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;OCåˆ¨æ ¹é—®åº•-Runtimeç®€å•ç²—æš´ç†è§£&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;ç½‘ä¸Šå…¶å®æœ‰å¾ˆå¤šå…³äºè®²è¿°runtimeçš„å­¦ä¹ èµ„æ–™ï¼Œä¹Ÿæ˜¯ç«™åœ¨å·¨äººè‚©ä¸Šçœ‹çš„æ›´è¿œã€‚å†™è¿™ç¯‡æ–‡ç« ä¹Ÿæ˜¯å¯¹äºå…¶ä»–äººå€Ÿé‰´å’Œç¿»é˜…æºç ï¼Œå‘æºç å¯»æ±‚è§£é‡Šå§ã€‚&lt;br&gt;&lt;br&gt;æ— æ„é—´çœ‹åˆ°ä¸€ä»½å…³äºruntimeçš„åšå®¢ï¼Œæ„Ÿè§‰å†™çš„æŒºä¸é”™çš„å°±è€å¿ƒçš„çœ‹ä¸‹ã€‚çœ‹åå‘ç°è‡ªå·±å¯¹runtimeçš„ç†è§£è¿˜æ˜¯æ¯”è¾ƒæµ…ï¼Œå°±å†³å®šå¯¹è‡ª
    
    </summary>
    
      <category term="IOS" scheme="http://yoursite.com/categories/IOS/"/>
    
    
      <category term="IOS" scheme="http://yoursite.com/tags/IOS/"/>
    
  </entry>
  
  <entry>
    <title>Fastlaneè®²è§£</title>
    <link href="http://yoursite.com/2016/05/29/Fastlane%E8%AE%B2%E8%A7%A3/"/>
    <id>http://yoursite.com/2016/05/29/Fastlaneè®²è§£/</id>
    <published>2016-05-29T04:13:46.000Z</published>
    <updated>2016-06-02T08:40:32.000Z</updated>
    
    <content type="html">&lt;p&gt;å¤§æ¦‚åœ¨ä¸€ä¸ªæœˆå·¦å³å†™è¿‡å…³äºcocoaPodså®‰è£…å’Œä½¿ç”¨æ–¹æ³•ï¼Œå¦‚æœè¯´cocoaPodsæ˜¯æˆ‘ä»¬ç›¾ç‰Œï¼ˆå¯ä»¥è®©æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¸“æ³¨å®ç°ä»£ç éƒ¨åˆ†ï¼‰ï¼Œé‚£ä¹ˆfastlaneå°±ä¼šæ˜¯æˆ‘ä»¬å¼€å‘è¿‡ç¨‹ä¸­çš„é•¿çŸ›ï¼ˆå¸®åŠ©æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­æäº¤æµ‹è¯•ã€å¿«é€Ÿå‘å¸ƒï¼‰ã€‚&lt;br&gt;æƒ³çŸ¥é“fastlaneäº†è§£ç‚¹å‡»&lt;a href=&quot;https://fastlane.tools&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¿™é‡Œ&lt;br&gt;&lt;/a&gt;è·å–fastlançš„githubä¸‹è½½ç‚¹å‡»&lt;a href=&quot;https://github.com/fastlane/fastlane&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;fastlaneå®‰è£…&quot;&gt;&lt;a href=&quot;#fastlaneå®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;fastlaneå®‰è£…&quot;&gt;&lt;/a&gt;fastlaneå®‰è£…&lt;/h3&gt;&lt;p&gt;fastlaneæ˜¯åŸºäºRubyçš„å¼€å‘è„šæœ¬é›†åˆæœ‰åŠ©äºæˆ‘ä»¬åœ¨IOSå¼€å‘è¿‡ç¨‹ä¸­è¾¾åˆ°ç®€ä¾¿çš„å¼€å‘ã€‚å¦‚æœä½ åœ¨è‡ªå·±MACä¸Šå·²ç»å®‰è£…RubyåŠå…¶ç¯å¢ƒï¼Œåªéœ€è¦æ‰§è¡Œä¸‹åˆ—å®‰è£…å°±å¯ä»¥å®ç°&lt;br&gt;    sudo gem install fastlane â€“verbose&lt;br&gt;ç¡®å®šè‡ªå·±å®‰è£…çš„æ˜¯æœ€æ–°ç‰ˆæœ¬çš„Xcode:&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Xcode-select --install&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;å¦‚æœåœ¨å¯åŠ¨fastlaneæ¯”è¾ƒæ…¢çš„æƒ…å†µå¯ä»¥æ‰§è¡Œ:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;gem cleanup&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;fastlaneä½¿ç”¨å…·ä½“æ–¹æ³•å’Œå…·ä½“åŠŸèƒ½&quot;&gt;&lt;a href=&quot;#fastlaneä½¿ç”¨å…·ä½“æ–¹æ³•å’Œå…·ä½“åŠŸèƒ½&quot; class=&quot;headerlink&quot; title=&quot;fastlaneä½¿ç”¨å…·ä½“æ–¹æ³•å’Œå…·ä½“åŠŸèƒ½&quot;&gt;&lt;/a&gt;fastlaneä½¿ç”¨å…·ä½“æ–¹æ³•å’Œå…·ä½“åŠŸèƒ½&lt;/h3&gt;&lt;p&gt;äº†è§£å…·ä½“ä½¿ç”¨ç‚¹å‡»&lt;a href=&quot;https://github.com/fastlane/fastlane/tree/master/deliver&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;&lt;br&gt;&lt;li&gt;deliverï¼šä¸Šä¼ å±å¹•æˆªå›¾ã€äºŒè¿›åˆ¶ç¨‹åºæ•°æ®å’Œåº”ç”¨ç¨‹åºåˆ°AppStore&lt;/li&gt;&lt;br&gt;&lt;li&gt;snapshotï¼šè‡ªåŠ¨æˆªå–ä½ çš„ç¨‹åºåœ¨æ¯ä¸ªè®¾å¤‡ä¸Šçš„å›¾ç‰‡&lt;/li&gt;&lt;br&gt;&lt;li&gt;frameitï¼šåº”ç”¨æˆªå±å¤–æ·»åŠ è®¾å¤‡æ¡†æ¶&lt;/li&gt;&lt;br&gt;&lt;li&gt;pemï¼šå¯ä»¥è‡ªåŠ¨åŒ–åœ°ç”Ÿæˆå’Œæ›´æ–°åº”ç”¨æ¨é€é€šçŸ¥æè¿°æ–‡ä»¶&lt;/li&gt;&lt;br&gt;&lt;li&gt;sighï¼šç”Ÿæˆä¸‹è½½å¼€å‘å•†åº—çš„é…ç½®æ–‡ä»¶&lt;/li&gt;&lt;br&gt;&lt;li&gt;pilotï¼šæœ€å¥½çš„åœ¨ç»ˆç«¯ç®¡ç†æµ‹è¯•å’Œå»ºç«‹çš„æ–‡ä»¶&lt;/li&gt;&lt;br&gt;&lt;li&gt;boardingï¼šå¾ˆå®¹æ˜“çš„æ–¹å¼é‚€è¯·ä½ æµ‹è¯•betaæµ‹è¯•&lt;/li&gt;&lt;br&gt;&lt;li&gt;gypï¼šå»ºç«‹æ–°çš„å‘å¸ƒçš„ç‰ˆæœ¬&lt;/li&gt;&lt;br&gt;&lt;li&gt;matchï¼šä½¿ç”¨gitåŒæ­¥ä½ æˆå‘˜é—´çš„å¼€å‘è€…è¯ä¹¦å’Œæ–‡ä»¶é…ç½®&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;

&lt;h3 id=&quot;fastlaneä¸¾ä¾‹ï¼š&quot;&gt;&lt;a href=&quot;#fastlaneä¸¾ä¾‹ï¼š&quot; class=&quot;headerlink&quot; title=&quot;fastlaneä¸¾ä¾‹ï¼š&quot;&gt;&lt;/a&gt;fastlaneä¸¾ä¾‹ï¼š&lt;/h3&gt;&lt;p&gt;ä½¿ç”¨deliverè‡ªåŠ¨æ‰“åŒ…æˆ‘ä»¬Appæäº¤åˆ°AppStoreï¼Œå®˜æ–¹ä½¿ç”¨ç‚¹å‡»&lt;a href=&quot;https://github.com/fastlane/fastlane/tree/master/deliver&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¿™é‡Œ&lt;/a&gt;&lt;br&gt;æ‰“å¼€ç»ˆç«¯è¿›è¡Œæˆ‘ä»¬é¡¹ç›®æ‰€åœ¨çš„floderï¼Œæˆ‘çš„é¡¹ç›®æ˜¯åœ¨æ¡Œé¢ä¸Šåç§°æ˜¯hello&lt;br&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;cd ~/desktop/hello&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ç„¶åè¾“å…¥ï¼š&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;deliver init&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ç„¶åè¾“å…¥æˆ‘ä»¬çš„Apple ID Username:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;å†è¾“å…¥æˆ‘ä»¬çš„Password &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;fastlaneä½¿ç”¨åœºæ™¯&quot;&gt;&lt;a href=&quot;#fastlaneä½¿ç”¨åœºæ™¯&quot; class=&quot;headerlink&quot; title=&quot;fastlaneä½¿ç”¨åœºæ™¯&quot;&gt;&lt;/a&gt;fastlaneä½¿ç”¨åœºæ™¯&lt;/h3&gt;&lt;ul&gt;&lt;br&gt;&lt;li&gt;åœ¨æˆ‘ä»¬å¼€å‘åæ¯æ¬¡æäº¤æ—¶æ‰§è¡Œçš„æµ‹è¯•ï¼ˆæœ‰teamçš„å•å…ƒæµ‹è¯•å’Œå›¢é˜Ÿå¼€å‘çš„é›†æˆæµ‹è¯•ï¼‰(pilot)&lt;/li&gt;&lt;br&gt;&lt;li&gt;æ„å»ºæˆ‘ä»¬ä½¿ç”¨çš„Bateç‰ˆæœ¬æ—¶ï¼ˆboardingï¼‰&lt;/li&gt;&lt;br&gt;&lt;li&gt;å¼€å‘å¥½é¡¹ç›®éœ€è¦æç»™ç•Œé¢æˆªå›¾æ—¶(snapshot)&lt;/li&gt;&lt;br&gt;&lt;li&gt;æ„å»ºå¹¶åˆ†å‘è‡³åº”ç”¨å•†åº—ï¼ˆè¿™åŒ…æ‹¬æ›´æ–°é…ç½®æ–‡ä»¶ï¼Œåˆ›å»ºæ–°çš„å±å¹•æˆªå›¾ï¼Œä¸Šä¼ åº”ç”¨è‡³åº”ç”¨å•†åº—å¹¶æäº¤åº”ç”¨ï¼‰(deliver)&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;

&lt;h3 id=&quot;fastlaneå…¸å‹çš„å¼€å‘æµç¨‹&quot;&gt;&lt;a href=&quot;#fastlaneå…¸å‹çš„å¼€å‘æµç¨‹&quot; class=&quot;headerlink&quot; title=&quot;fastlaneå…¸å‹çš„å¼€å‘æµç¨‹&quot;&gt;&lt;/a&gt;fastlaneå…¸å‹çš„å¼€å‘æµç¨‹&lt;/h3&gt;&lt;p&gt;æ­¤å¼€å‘æµç¨‹ä¹Ÿæ˜¯æˆ‘ä»¬å›¢é˜Ÿå¼€å‘è¿‡ç¨‹ä¸­åŸºæœ¬å¼€å‘é¡ºåº&lt;br&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;lane :appstore &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  increment_build_number&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  cocoapods&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  xctool&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  snapshot&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  sigh&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  deliver&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  frameit&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  sh &lt;span class=&quot;string&quot;&gt;&quot;./customScript.sh&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  slack&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;end&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;cocoaPodså¸®åŠ©æˆ‘ä»¬ç®¡ç†ä¸‰æ–¹å¼€æºåº“ï¼Œfastlaneå¯ä»¥åœ¨æˆ‘ä»¬å¼€å‘è¿‡ç¨‹ä¸­ç®€åŒ–æˆ‘ä»¬å¼€å‘è¿‡ç¨‹ä»¥åŠç®€åŒ–æˆ‘ä»¬å‘å¸ƒæµç¨‹ã€‚å¦‚æœè¦æé«˜è‡ªå·±IOSæ–¹é¢èƒ½åŠ›éœ€è¦æˆ‘ä»¬è¿›ä¸€æ­¥æ·±å…¥ç ”ç©¶ã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;å¤§æ¦‚åœ¨ä¸€ä¸ªæœˆå·¦å³å†™è¿‡å…³äºcocoaPodså®‰è£…å’Œä½¿ç”¨æ–¹æ³•ï¼Œå¦‚æœè¯´cocoaPodsæ˜¯æˆ‘ä»¬ç›¾ç‰Œï¼ˆå¯ä»¥è®©æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¸“æ³¨å®ç°ä»£ç éƒ¨åˆ†ï¼‰ï¼Œé‚£ä¹ˆfastlaneå°±ä¼šæ˜¯æˆ‘ä»¬å¼€å‘è¿‡ç¨‹ä¸­çš„é•¿çŸ›ï¼ˆå¸®åŠ©æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­æäº¤æµ‹è¯•ã€å¿«é€Ÿå‘å¸ƒï¼‰ã€‚&lt;br&gt;æƒ³çŸ¥é“fastlaneäº†è§£ç‚¹å‡»&lt;a hr
    
    </summary>
    
      <category term="IOS" scheme="http://yoursite.com/categories/IOS/"/>
    
    
      <category term="IOS" scheme="http://yoursite.com/tags/IOS/"/>
    
  </entry>
  
  <entry>
    <title>blockï¼Œæ³¨å†Œç›‘å¬ï¼Œå§”æ‰˜åè®®å’ŒKVO</title>
    <link href="http://yoursite.com/2016/05/29/block%EF%BC%8C%E6%B3%A8%E5%86%8C%E7%9B%91%E5%90%AC%EF%BC%8C%E5%A7%94%E6%89%98%E5%8D%8F%E8%AE%AE%E5%92%8CKVO/"/>
    <id>http://yoursite.com/2016/05/29/blockï¼Œæ³¨å†Œç›‘å¬ï¼Œå§”æ‰˜åè®®å’ŒKVO/</id>
    <published>2016-05-29T04:12:40.000Z</published>
    <updated>2016-06-02T08:44:49.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h3&gt;&lt;p&gt;IOSä¸­å…³äºä¿¡æ¯ä¼ é€’è¿‡ç¨‹ä¸­ç»å¸¸ä¼šä½¿ç”¨blockï¼Œå§”æ‰˜ä»£ç†ï¼ŒNSNotificationï¼ŒKVOè¿›è¡Œè°ƒç”¨ï¼Œä½†æ˜¯æŸ¥æ‰¾èµ„æ–™åæœ‰äº›èµ„æ–™ä¸æ˜¯å¾ˆå…¨ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å››è€…æ€»ä½“æ¯”è¾ƒç„¶åè¿›è¡Œä¸€ä¸€è¯¦è§£è¿›è¡Œè®²è§£ï¼š&quot;&gt;&lt;a href=&quot;#å››è€…æ€»ä½“æ¯”è¾ƒç„¶åè¿›è¡Œä¸€ä¸€è¯¦è§£è¿›è¡Œè®²è§£ï¼š&quot; class=&quot;headerlink&quot; title=&quot;å››è€…æ€»ä½“æ¯”è¾ƒç„¶åè¿›è¡Œä¸€ä¸€è¯¦è§£è¿›è¡Œè®²è§£ï¼š&quot;&gt;&lt;/a&gt;å››è€…æ€»ä½“æ¯”è¾ƒç„¶åè¿›è¡Œä¸€ä¸€è¯¦è§£è¿›è¡Œè®²è§£ï¼š&lt;/h3&gt;&lt;p&gt;blockï¼šä¸€å¯¹ä¸€è¿›è¡Œé€šä¿¡ï¼Œæ¯”èµ·å…¶ä»–ä¸‰è€…æ›´åŠ ç®€æ´ï¼Œä½†æ˜¯äº‹ä»¶æ¯”è¾ƒå¤šæ—¶å¯ä»¥ä½¿ç”¨delegateã€‚&lt;br&gt;å§”æ‰˜ä»£ç†ï¼šå’Œblockä¸€æ ·æ˜¯ä¸€å¯¹ä¸€ï¼Œæˆ‘ä»¬ä½¿ç”¨æ—¶è¦å…ˆè¿›è¡Œåè®®æ–¹æ³•ç„¶åå®ç°åè®®ä»£ç†ï¼Œå¦‚æœéœ€è¦é€šä¿¡å°±éœ€è¦å®ç°ä»£ç†ã€‚&lt;br&gt;NSNotificationï¼šåœ¨è¿›è¡Œæ³¨å†Œç›‘å¬æ—¶ï¼Œå¯ä»¥è¿›è¡Œä¸€å¯¹å¤šçš„æƒ…å†µï¼Œä¸€ä¸ªè¿›è¡Œæ³¨å†Œå¯ä»¥å¤šç§æƒ…å†µä¸‹è¿›è¡Œç›‘å¬ã€‚&lt;br&gt;KVOï¼šå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„é”®å€¼ç›‘å¬æ¨¡å¼ï¼Œå…¶ä¸»è¦æ˜¯åœ¨KVCåŸºç¡€ä¸Šå®Œåæ‰èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥å‰è¯»è¿‡ä¸€ä¸ªç æŸ´çš„æ•…äº‹ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦è¿½æ±‚æå¾—æ•ˆç‡å°±è¦å¯¹æ‰€ç”¨åˆ°çš„å·¥å…·äº†è§£ï¼Œä¸‹é¢æˆ‘ä»¬å°±å¼€å§‹ç£¨æˆ‘ä»¬æœä¸­çš„åˆ€ã€‚ &lt;/p&gt;
&lt;h3 id=&quot;blockçš„æ¥é¾™å»è„‰ï¼š&quot;&gt;&lt;a href=&quot;#blockçš„æ¥é¾™å»è„‰ï¼š&quot; class=&quot;headerlink&quot; title=&quot;blockçš„æ¥é¾™å»è„‰ï¼š&quot;&gt;&lt;/a&gt;blockçš„æ¥é¾™å»è„‰ï¼š&lt;/h3&gt;&lt;p&gt;blockæ˜¯IOS SDK 4.0ä¸­å¼•å…¥çš„ï¼Œblockåœ¨IOSä¸­å®é™…å°±æ˜¯ä¸€ä¸ªä»£ç å—ï¼Œæœ‰ç‚¹åƒC++ä¸­å†…è”å‡½æ•°inlineæœ‰ç‚¹ç›¸ä¼¼ï¼Œæœ€è®©äººæƒŠå¥‡çš„æ˜¯æˆ‘ä»¬è¿˜å¯ä»¥å‘å…¶ä¼ é€’å‚æ•°ã€‚é—²æ¥æ²¡äº‹æƒ³è¦çŸ¥é“blockåœ¨C++ä¸­çš„å…·ä½“å®ç°å°±æ˜¯ç”¨Clangç¼–è¾‘^{printfâ€Hello, World!â€}()ï¼Œæ­¤æ—¶æˆ‘ä»¬åœ¨blockä»…ä»…æ˜¯è¾“å‡ºä¸€ä¸ªè¯­å¥ã€‚&lt;br&gt;//hello.cæ˜¯æˆ‘ä»¬æŠŠæƒ³è¦ç¼–è¾‘çš„å†…å®¹æ”¾ç½®çš„æ–‡ä»¶åç§°&lt;/p&gt;
&lt;h3 id=&quot;blockåœ¨æ²¡æœ‰ä¼ å…¥å‚æ•°æƒ…å†µ&quot;&gt;&lt;a href=&quot;#blockåœ¨æ²¡æœ‰ä¼ å…¥å‚æ•°æƒ…å†µ&quot; class=&quot;headerlink&quot; title=&quot;blockåœ¨æ²¡æœ‰ä¼ å…¥å‚æ•°æƒ…å†µ&quot;&gt;&lt;/a&gt;blockåœ¨æ²¡æœ‰ä¼ å…¥å‚æ•°æƒ…å†µ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;$ clang -rewrite-objc hello.c &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;/p&gt;&lt;p&gt;åœ¨ç¼–è¯‘åå†æ–‡ä»¶åä¼šç”Ÿæˆ hello.cppæ–‡ä»¶&lt;/p&gt;&lt;br&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_impl_0 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __block_impl impl;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_desc_0* Desc;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; __mian_block_impl_0(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; *fp, &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_desc_0 *desc, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; flags=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &amp;#123;    impl.isa = &amp;amp;_NSConcreteStackBlock;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          impl.Flags = flags;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          impl.FuncPtr = fp;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          Desc = desc;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; __mian_block_func_0(&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_impl_0 *__cself) &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     printf(&lt;span class=&quot;string&quot;&gt;&quot;Hello, World!\n&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_desc_0 &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  size_t reserved;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  size_t Block_size;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;__mian_block_desc_0_DATA = &amp;#123; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;sizeof&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_impl_0)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; mian()&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     ((&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; (*)())&amp;amp;__mian_block_impl_0((&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; *)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;__mian_block_func_0, &amp;amp;__mian_block_desc_0_DATA)) ();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; IMAGE_INFO &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123; &lt;span class=&quot;keyword&quot;&gt;unsigned&lt;/span&gt; version; &lt;span class=&quot;keyword&quot;&gt;unsigned&lt;/span&gt; flag; &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_OBJC_IMAGE_INFO = &amp;#123; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢çš„ä»£ç æ—¢æ˜¯æˆ‘ä»¬é€šè¿‡ç¼–è¯‘æˆªå–çš„hello.cppçš„å…·ä½“ä»£ç ï¼Œæ ¹æ®ä¸Šé¢ä»£ç æˆ‘ä»¬å¯ä»¥çœ‹åˆ°blockå®é™…æ˜¯structç»“æ„ã€‚çœ‹å‡º_mian_block_impl_0 å…¶ä¸­ä¼ å…¥å…¶ä¸­ä¹Ÿæ˜¯block_impl&amp;amp;mian_block_desc_0ä¸¤ä¸ªblockï¼Œä¸‹é¢æ˜¯_mian_block_impl_0çš„æ„é€ å‡½æ•°ã€‚&lt;/p&gt;
&lt;h3 id=&quot;blockåœ¨æœ‰ä¼ å…¥å‚æ•°æƒ…å†µ&quot;&gt;&lt;a href=&quot;#blockåœ¨æœ‰ä¼ å…¥å‚æ•°æƒ…å†µ&quot; class=&quot;headerlink&quot; title=&quot;blockåœ¨æœ‰ä¼ å…¥å‚æ•°æƒ…å†µ&quot;&gt;&lt;/a&gt;blockåœ¨æœ‰ä¼ å…¥å‚æ•°æƒ…å†µ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;clang -rewrite-objc hello1.c&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åŒæ ·åœ¨æˆ‘ä»¬ç¼–è¯‘è¿‡åä¼šç”Ÿæˆhello.cpp&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_impl_0 &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __block_impl impl;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_desc_0* Desc;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; perperson;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  __mian_block_impl_0(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; *fp, &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_desc_0 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;*desc, &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; _perperson, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; flags=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) : perperson(_perperson)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    impl.isa = &amp;amp;_NSConcreteStackBlock;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    impl.Flags = flags;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    impl.FuncPtr = fp;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Desc = desc;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; __mian_block_func_0(&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_impl_0 *__cself, &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; totalNum) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; perperson = __cself-&amp;gt;perperson; &lt;span class=&quot;comment&quot;&gt;// bound by copy&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; perperson * totalNum;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_desc_0 &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  size_t reserved;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  size_t Block_size;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; __mian_block_desc_0_DATA = &amp;#123; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;sizeof&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_impl_0)&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; mian()&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; perperson = &lt;span class=&quot;number&quot;&gt;34.5&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; (*sunClassFee)(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;) = ((&lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; (*)(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;amp;__mian_block_impl_0((&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; *)__mian_block_func_0, &amp;amp;__mian_block_desc_0_DATA, &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;perperson));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; IMAGE_INFO &amp;#123; &lt;span class=&quot;keyword&quot;&gt;unsigned&lt;/span&gt; version; &lt;span class=&quot;keyword&quot;&gt;unsigned&lt;/span&gt; flag; &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_OBJC_IMAGE_INFO = &amp;#123; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¯ä»¥çœ‹å‡ºåœ¨blockä¸­ä½¿ç”¨å¤–éƒ¨å˜é‡perpersonæ—¶ï¼Œblockåˆå§‹åŒ–æ—¶è¿™æ ·çš„ï¼š&lt;br&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;æ˜¯åœ¨__mian_block_impl_0è¿›è¡Œåˆå§‹åŒ–perpersonï¼Œåœ¨blockæ„é€ æ—¶ä½œä¸ºblockçš„å…¶ä¸­&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ä¸€ä¸ªæˆå‘˜åˆå§‹ã€‚åœ¨è®¿é—®æ—¶é€šè¿‡__cself-&amp;gt;perpersonæŒ‡é’ˆè¿›è¡Œè®¿é—®ã€‚&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;blockåœ¨æœ‰ä¼ å…¥å‚æ•°æƒ…å†µ-1&quot;&gt;&lt;a href=&quot;#blockåœ¨æœ‰ä¼ å…¥å‚æ•°æƒ…å†µ-1&quot; class=&quot;headerlink&quot; title=&quot;blockåœ¨æœ‰ä¼ å…¥å‚æ•°æƒ…å†µ&quot;&gt;&lt;/a&gt;blockåœ¨æœ‰ä¼ å…¥å‚æ•°æƒ…å†µ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;clang -rewrite-objc hello2.c&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __Block_byref_perperson_0 &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; *__isa;   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; __Block_byref_perperson_0 *__forwarding;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; __flags;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; __size;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; perperson;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_impl_0 &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __block_impl impl;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_desc_0* Desc;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  __Block_byref_perperson_0 *perperson; &lt;span class=&quot;comment&quot;&gt;// by ref&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  __mian_block_impl_0(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; *fp, &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_desc_0 *desc, &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; __Block_byref_perperson_0 *_perperson, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; flags=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) : &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;perperson(_perperson-&amp;gt;__forwarding) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    impl.isa = &amp;amp;_NSConcreteStackBlock;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    impl.Flags = flags;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    impl.FuncPtr = fp;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Desc = desc;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; __mian_block_func_0(&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_impl_0 *__cself,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; totalNum) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    __Block_byref_perperson_0 *perperson = __cself-&amp;gt;perperson; &lt;span class=&quot;comment&quot;&gt;// bound by ref&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     (perperson-&amp;gt;__forwarding-&amp;gt;perperson) = (perperson-&amp;gt;__forwarding-&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;perperson) + &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; (perperson-&amp;gt;__forwarding-&amp;gt;perperson) * totalNum;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; __mian_block_copy_0(&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_impl_0*dst, &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_impl_0*src) &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;_Block_object_assign((&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;*)&amp;amp;dst-&amp;gt;perperson, &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;*)src-&amp;gt;perperson, &lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;/*BLOCK_FIELD_IS_BYREF*/&lt;/span&gt;);&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; __mian_block_dispose_0(&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_impl_0*src) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_Block_object_dispose((&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;*)src-&amp;gt;perperson, &lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;/*BLOCK_FIELD_IS_BYREF*/&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_desc_0 &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  size_t reserved;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  size_t Block_size;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; (*&lt;span class=&quot;keyword&quot;&gt;copy&lt;/span&gt;)(&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_impl_0*, &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_impl_0*);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; (*dispose)(&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_impl_0*);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; __mian_block_desc_0_DATA = &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;sizeof&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __mian_block_impl_0), __mian_block_copy_0, &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;__mian_block_dispose_0&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; mian()&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    __attribute__((__blocks__(&lt;span class=&quot;keyword&quot;&gt;byref&lt;/span&gt;))) __Block_byref_perperson_0 perperson = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;*)&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,(__Block_byref_perperson_0 *)&amp;amp;perperson, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;sizeof&lt;/span&gt;(__Block_byref_perperson_0), &lt;span class=&quot;number&quot;&gt;34.5&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; (*sunClassFee)(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;) = ((&lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; (*)(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;))&amp;amp;__mian_block_impl_0((&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; *)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;__mian_block_func_0, &amp;amp;__mian_block_desc_0_DATA, &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(__Block_byref_perperson_0 *)&amp;amp;perperson, &lt;span class=&quot;number&quot;&gt;570425344&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; IMAGE_INFO &amp;#123; &lt;span class=&quot;keyword&quot;&gt;unsigned&lt;/span&gt; version; &lt;span class=&quot;keyword&quot;&gt;unsigned&lt;/span&gt; flag; &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_OBJC_IMAGE_INFO = &amp;#123; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨å¯¹äºblockå¤–çš„perpersonè®¡ç®—é‡æ–°å¤åˆ¶ï¼Œå’Œä¸Šé¢åœ¨blockä»…ä»…åœ¨blockä¸­ä½¿ç”¨å¤–é¢çš„å‚æ•°ã€‚ä¸¤è€…ç»è¿‡å¯¹æ¯”å¯ä»¥çœ‹å‡ºï¼šåœ¨blockä¸­å¯¹äºå¤–éƒ¨å€¼è¿›è¡Œå¤åˆ¶ï¼Œä¼šå‡ºç°ä¸‹é¢çš„æƒ…å†µã€‚ä½¿ç”¨clangå¯¹äºblockè¿›è¡Œç¼–ç ï¼Œå¯ä»¥çœ‹ä¹¦å¯¹äºperpersonè¿›è¡Œ_blockçš„ä¿®é¥°åç¼–ç ç”ŸæˆBlock_byref_perperson_0çš„structç»“æ„ä½“ï¼Œå…¶ä¸­__Block_byref_perperson_0çš„æŒ‡é’ˆæŒ‡å‘åœ¨blockä¸­perpersonçš„åœ°å€ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; __Block_byref_perperson_0 &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; *__isa;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; __Block_byref_perperson_0 *__forwarding;  &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; __flags;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; __size; &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; perperson;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;blockçš„ä½¿ç”¨æ–¹æ³•-ä¼ å…¥å‚æ•°ï¼š&quot;&gt;&lt;a href=&quot;#blockçš„ä½¿ç”¨æ–¹æ³•-ä¼ å…¥å‚æ•°ï¼š&quot; class=&quot;headerlink&quot; title=&quot;blockçš„ä½¿ç”¨æ–¹æ³•~ä¼ å…¥å‚æ•°ï¼š&quot;&gt;&lt;/a&gt;blockçš„ä½¿ç”¨æ–¹æ³•~ä¼ å…¥å‚æ•°ï¼š&lt;/h3&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; (^isInputEven)(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;) = ^(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; n)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (n&amp;gt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; n*isInputEven(n&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¸Šé¢æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªblockä»£ç æ®µï¼Œä»£ç çš„å®ç°åŠŸèƒ½æ˜¯åˆ©ç”¨é€’å½’è®¡ç®—nçš„åŸºä¹˜ã€‚ä»£ç å¯ä»¥ä½œä¸ºæ•´ä¸ªä»£ç å—è¿›è¡Œè°ƒç”¨ï¼Œè€Œä¸”åœ¨è°ƒç”¨è¿‡ç¨‹ä¸­æˆ‘ä»¬åªéœ€isInputEvenï¼ˆï¼‰å‡½æ•°åå’Œä¼ å…¥å‚æ•°å³å¯å®ç°ã€‚&lt;/p&gt;
&lt;h3 id=&quot;blockçš„ä½¿ç”¨æ–¹æ³•-ä½¿ç”¨å¤–éƒ¨å‚æ•°å‚æ•°ï¼š&quot;&gt;&lt;a href=&quot;#blockçš„ä½¿ç”¨æ–¹æ³•-ä½¿ç”¨å¤–éƒ¨å‚æ•°å‚æ•°ï¼š&quot; class=&quot;headerlink&quot; title=&quot;blockçš„ä½¿ç”¨æ–¹æ³•~ä½¿ç”¨å¤–éƒ¨å‚æ•°å‚æ•°ï¼š&quot;&gt;&lt;/a&gt;blockçš„ä½¿ç”¨æ–¹æ³•~ä½¿ç”¨å¤–éƒ¨å‚æ•°å‚æ•°ï¼š&lt;/h3&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; perperson = &lt;span class=&quot;number&quot;&gt;34.5&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; (^sunClassFee)(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;) = ^(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; totalNum)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; perperson * totalNum;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä½¿ç”¨å¤–éƒ¨å‚æ•°perpersonï¼Œè®©æˆ‘ä»¬æ„Ÿè§‰blockå¯ä»¥æƒ³ä¸€ä¸ªç±»ä¸€æ ·ä½¿ç”¨socpeé‡Œé¢çš„å˜é‡ç›®å‰æ— æ³•åšåˆ°ã€‚&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ä¸»è¦åŸå› æ˜¯å› ä¸ºï¼šåœ¨blockçš„ç¼–è¯‘è¿‡ç¨‹ä¸­æˆ‘ä»¬çœ‹åˆ°ï¼Œåœ¨blockä¸­è¿›è¡Œè®¿é—®å…¶ä¸­å…ƒç´ æ—¶éœ€è¦æ˜¯&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;blocké»˜è®¤æ„é€ å‡½æ•°å¯¹äºblockå…¶ä¸­çš„å…ƒç´ è®¿é—®ã€‚&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;blockçš„ä½¿ç”¨æ–¹æ³•-ä½¿ç”¨å¤–éƒ¨å‚æ•°å‚æ•°ï¼š-1&quot;&gt;&lt;a href=&quot;#blockçš„ä½¿ç”¨æ–¹æ³•-ä½¿ç”¨å¤–éƒ¨å‚æ•°å‚æ•°ï¼š-1&quot; class=&quot;headerlink&quot; title=&quot;blockçš„ä½¿ç”¨æ–¹æ³•~ä½¿ç”¨å¤–éƒ¨å‚æ•°å‚æ•°ï¼š&quot;&gt;&lt;/a&gt;blockçš„ä½¿ç”¨æ–¹æ³•~ä½¿ç”¨å¤–éƒ¨å‚æ•°å‚æ•°ï¼š&lt;/h3&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;__block &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; perperson = &lt;span class=&quot;number&quot;&gt;34.5&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; (^sunClassFee)(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;) = ^(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; totalNum)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        perperson = perperson + &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; perperson * totalNum;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;blockçš„ä½¿ç”¨æ–¹æ³•-åœ¨ï¼ˆUIViewï¼‰çš„åŠ¨ç”»ä¸­ä½¿ç”¨ï¼š&quot;&gt;&lt;a href=&quot;#blockçš„ä½¿ç”¨æ–¹æ³•-åœ¨ï¼ˆUIViewï¼‰çš„åŠ¨ç”»ä¸­ä½¿ç”¨ï¼š&quot; class=&quot;headerlink&quot; title=&quot;blockçš„ä½¿ç”¨æ–¹æ³•~åœ¨ï¼ˆUIViewï¼‰çš„åŠ¨ç”»ä¸­ä½¿ç”¨ï¼š&quot;&gt;&lt;/a&gt;blockçš„ä½¿ç”¨æ–¹æ³•~åœ¨ï¼ˆUIViewï¼‰çš„åŠ¨ç”»ä¸­ä½¿ç”¨ï¼š&lt;/h3&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[&lt;span class=&quot;built_in&quot;&gt;UIView&lt;/span&gt; animateWithDuration:&lt;span class=&quot;number&quot;&gt;3.0&lt;/span&gt;f animations:^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        view.alpha = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;IOSçš„å¼€å‘åˆ°ä»Šå¤©å·®ä¸å¤šå·²ç»æœ‰7å¹´ä¹‹ä¹…ï¼Œblockåœ¨å¼€å‘ä¸­ä½¿ç”¨å¹¿åº¦è¶Šæ¥è¶Šå¹¿æ³›ï¼š&lt;/p&gt;
&lt;p&gt;&lt;ul&gt;&lt;/ul&gt;&lt;/p&gt;
&lt;p&gt;&lt;li&gt;æšä¸¾â€“æ¥è¿‡å»å¯¹è±¡ã€‚ä¾‹å¦‚ï¼šNSDictionaryçš„æšä¸¾è¿‡ç¨‹&lt;/li&gt;&lt;/p&gt;
&lt;p&gt;&lt;li&gt;UIViewâ€“å¯¹äºUIViewçš„åŠ¨ç”»è®¾ç½®ï¼Œåé¢æœ‰æœºä¼šä¼šå¯¹åŠ¨ç”»ä¸“é—¨è®²è¿°â€¦&lt;/li&gt;&lt;/p&gt;
&lt;p&gt;&lt;li&gt;é€šçŸ¥â€“åœ¨æœ¬æ–‡è®²è¿°çš„å°±æ˜¯åœ¨è°ƒç”¨è¿‡ç¨‹ä¸­ä¸å…¶ä»–é€šçŸ¥ä¸åŒç‚¹æ‰€åœ¨&lt;/li&gt;&lt;/p&gt;
&lt;p&gt;&lt;li&gt;å®Œæˆå¤„ç†â€“åœ¨ç›¸åº”ç¨‹åºç»“æŸåï¼Œéœ€è¦å¯¹äºç¨‹åºç»“æœçš„å¤„ç†ã€‚ä¾‹å¦‚ï¼šAFNetWorkåœ¨è®¿é—®ç½‘ç»œåï¼Œå¯¹äºæˆåŠŸå’Œå¤±è´¥è¿›è¡Œå¤„ç†&lt;/li&gt;&lt;/p&gt;
&lt;p&gt;&lt;li&gt;GCDâ€“åœ¨GCDçš„è¿‡ç¨‹ä¸­éƒ½æ˜¯å«æœ‰blockä½¿ç”¨çš„æ–¹æ³•&lt;/li&gt;&lt;/p&gt;
&lt;p&gt;&lt;li&gt;æ’åºâ€“å¹³æ—¶æˆ‘ä»¬ä½¿ç”¨çš„ä¸€äº›ç®€å•ç®—æ³•å‡å¯ä»¥blockè¿›è¡Œç›¸å…³å¤„ç†&lt;/li&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3 id=&quot;å§”æ‰˜ä»£ç†è¯¦è§£&quot;&gt;&lt;a href=&quot;#å§”æ‰˜ä»£ç†è¯¦è§£&quot; class=&quot;headerlink&quot; title=&quot;å§”æ‰˜ä»£ç†è¯¦è§£&quot;&gt;&lt;/a&gt;å§”æ‰˜ä»£ç†è¯¦è§£&lt;/h3&gt;&lt;p&gt;åœ¨å‘C++è¿‡ç¨‹ä¸­ç»å¸¸è§åˆ°å¤šç»„ç»§æ‰¿ï¼Œä½†æ˜¯åœ¨IOSå¼€å‘è¿‡ç¨‹ä¸­åªèƒ½è¿›è¡Œå•ç»§æ‰¿ï¼Œå¾ˆå¤šæ–¹æ³•æˆ‘ä»¬éœ€è¦å®ç°æ¥å£çš„å½¢å¼ã€‚æ­£å¦‚æˆ‘ä»¬åœ¨ä½¿ç”¨UITableViewæ—¶ï¼Œç»å¸¸ä¼šç”¨åˆ°UITableViewDataSourceå’ŒUITableViewDelegateã€‚&lt;br&gt;å¦‚æœè¦ä½¿ç”¨ä½¿ç”¨å§”æ‰˜ä»£ç†ï¼Œéœ€è¦çŸ¥é“åè®®å’Œå§”æ‰˜ä¸¤è€…å…³ç³»ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åè®®&quot;&gt;&lt;a href=&quot;#åè®®&quot; class=&quot;headerlink&quot; title=&quot;åè®®&quot;&gt;&lt;/a&gt;åè®®&lt;/h3&gt;&lt;p&gt;åè®®ä¸€èˆ¬åˆ†ä¸ºä¸¤ç§ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;@ required:        //æ˜¯æˆ‘ä»¬åœ¨ç»§æ‰¿è¿‡ç¨‹ä¸­å¿…é¡»å®ç°çš„&lt;br&gt;   @optional :        //åœ¨å®ç°æ¥å£ä¸­éœ€è¦è¿›è¡Œé€‰æ‹©æ€§å®ç°çš„æ–¹å¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;å§”æ‰˜&quot;&gt;&lt;a href=&quot;#å§”æ‰˜&quot; class=&quot;headerlink&quot; title=&quot;å§”æ‰˜&quot;&gt;&lt;/a&gt;å§”æ‰˜&lt;/h3&gt;&lt;p&gt;å¸¸è§çš„ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œèº«ä¸ºè€æ¿ä¸€èˆ¬è´Ÿè´£ç®¡ç†å‘˜å·¥ã€æ‰“ç”µè¯ã€å‘è–ªæ°´ï¼Œè¿™æ ·ç”±äºå…¬å¸ä¸šåŠ¡å‘å±•å°±è¯·ä¸€ä¸ªç§˜ä¹¦è´Ÿè´£ï¼šæ‰“ç”µè¯å’Œå‘è–ªæ°´ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é¦–å…ˆè¿›è¡Œåè®®æå–ï¼ˆéœ€è¦å‘˜å·¥æ‰€å¾—äº‹æƒ…ï¼‰ï¼š(boss.hæ–‡ä»¶ä¸­å£°æ˜)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@protocol&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;protocol&lt;/span&gt; &amp;lt;&lt;span class=&quot;title&quot;&gt;NSObject&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)payoff;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)tel;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;boss&lt;/span&gt; : &lt;span class=&quot;title&quot;&gt;NSObject&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;,&lt;span class=&quot;keyword&quot;&gt;strong&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;&amp;lt;protocol&amp;gt; delegate;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)manage;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)payoff;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)tel;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯¹äºè€æ¿åœ¨å…·ä½“å·¥ä½œçš„å®ç°ï¼š(boss.mæ–‡ä»¶ä¸­å®ç°)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@implementation&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;boss&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)manage&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;NSLog&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;@&quot;boss--&amp;gt;manage&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)payoff&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.delegate payoff];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)tel&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.delegate tel];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;å§”æ‰˜ç§˜ä¹¦æ‰€è¦åšçš„äº‹ç‰©ï¼šï¼ˆåœ¨sec.mçš„æ–‡ä»¶ä¸­å®ç°å®Œæˆbossçš„ä»£ç†ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Sec&lt;/span&gt; ()&amp;lt;&lt;span class=&quot;title&quot;&gt;protocol&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@implementation&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Sec&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)payoff&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;NSLog&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;@&quot;sec--&amp;gt;payoff&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)tel&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;NSLog&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;@&quot;sec--&amp;gt;tel&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;æ³¨å†Œç›‘å¬å°è¯•&quot;&gt;&lt;a href=&quot;#æ³¨å†Œç›‘å¬å°è¯•&quot; class=&quot;headerlink&quot; title=&quot;æ³¨å†Œç›‘å¬å°è¯•&quot;&gt;&lt;/a&gt;æ³¨å†Œç›‘å¬å°è¯•&lt;/h3&gt;&lt;p&gt;NSNotificationCenterå°±ç›¸å½“äºå¹¿æ’­ä¸€æ ·ï¼Œå¯ä»¥å¯¹å¯¹è±¡è¿›è¡Œä¸€æ¬¡æ³¨å†Œç„¶åæœ‰å¤šä¸ªç›‘å¬ã€‚å°±åƒæˆ‘ä»¬çŸ¥é“å¦‚æœæœ‰æ³¨å†Œçš„è¯ï¼Œå°±éœ€è¦æˆ‘ä»¬å¯¹äºå¯¹è±¡è¿›è¡Œé‡Šæ”¾ï¼ˆremoveï¼‰ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[[&lt;span class=&quot;built_in&quot;&gt;NSNotificationCenter&lt;/span&gt; defaultCenter] postNotificationName:&lt;span class=&quot;string&quot;&gt;@&quot;clickbt&quot;&lt;/span&gt; object:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[[&lt;span class=&quot;built_in&quot;&gt;NSNotificationCenter&lt;/span&gt; defaultCenter] addObserver:&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; selector:&lt;span class=&quot;keyword&quot;&gt;@selector&lt;/span&gt;(click) name:&lt;span class=&quot;string&quot;&gt;@&quot;clickbt&quot;&lt;/span&gt; object:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹å‡ºæˆ‘ä»¬åœ¨ä½¿ç”¨æ³¨å†Œç›‘å¬æ—¶å¯ä»¥è¿›è¡Œç›¸å…³å†…å®¹ä¼ é€’ï¼Œéœ€è¦ä¼ é€’çš„å†…å®¹æ”¾åœ¨objectï¼ˆä¸ºidç±»å‹ï¼‰ã€‚&lt;br&gt;åœ¨removeç›‘å¬çš„æ–¹æ³•ï¼Œç»è¿‡æŸ¥æ‰¾èµ„æ–™ï¼š&lt;br&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt; -(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)viewWillAppear:(&lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt;)animated&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   [&lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt; viewWillAppear:animated];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   [[&lt;span class=&quot;built_in&quot;&gt;NSNotificationCenter&lt;/span&gt; defaultCenter] addObserver:&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; selector:&lt;span class=&quot;keyword&quot;&gt;@selector&lt;/span&gt;(test) name:&lt;span class=&quot;string&quot;&gt;@&quot;clickbt&quot;&lt;/span&gt; object:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)viewWillDisappear:(&lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt;)animated&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   [&lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt; viewWillDisappear:animated];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   [[&lt;span class=&quot;built_in&quot;&gt;NSNotificationCenter&lt;/span&gt; defaultCenter] removeObserver:&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; name:&lt;span class=&quot;string&quot;&gt;@&quot;clickbt&quot;&lt;/span&gt; object:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;KVOç®€å²&quot;&gt;&lt;a href=&quot;#KVOç®€å²&quot; class=&quot;headerlink&quot; title=&quot;KVOç®€å²&quot;&gt;&lt;/a&gt;KVOç®€å²&lt;/h3&gt;&lt;p&gt;å½“æˆ‘ä»¬è¯´èµ·KVO(key-value-observe)æ—¶ä¸å…æƒ³èµ·ä»–çš„å­ªç”Ÿå¤§å“¥KVCï¼ˆkey-value-codingï¼‰ã€‚KVOæ˜¯è§‚å¯Ÿè€…æ¨¡å¼çš„ç»§æ‰¿è€…ï¼ŒåŸºäºé”®å€¼å˜åŒ–ç›‘å¬è€…ï¼ŒåŸºäºKVCåŸºç¡€å®Œæˆä¹‹ä¸€ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸‹åˆ—å¯¹äºç•Œé¢çš„UILabelè¿›è¡Œç›‘å¬ï¼š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.labelÂ addObserver:&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;Â forKeyPath:&lt;span class=&quot;string&quot;&gt;@&quot;narcotics&quot;&lt;/span&gt;Â options:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSKeyValueObservingOptionNew&lt;/span&gt;Â |&lt;span class=&quot;built_in&quot;&gt;NSKeyValueObservingOptionOld&lt;/span&gt;Â context:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸€æ—¦UILabelå‘ç”Ÿå˜åŒ–å°±ä¼šè°ƒç”¨æ–¹æ³•ï¼š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;-(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)observeValueForKeyPath:(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)keyPath ofObject:(&lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)object &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;change:(&lt;span class=&quot;built_in&quot;&gt;NSDictionary&lt;/span&gt; *)change context:(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; *)context&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;comment&quot;&gt;//ä¸€æ—¦æœ‰æ‰€å˜åŒ–è°ƒç”¨æ–¹æ³•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;é™„å¸¦ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;KVCï¼šé€šè¿‡è®¾ç½®keyå€¼ï¼Œè¿›è¡Œæ ‡è®°ã€‚ç„¶åé€šè¿‡keyå€¼æ‰¾åˆ°è¿›è¡Œé‡æ–°è®¾ç½®ï¼Œè¯´çš„é€šä¿—ç‚¹ç‚¹å°±æ˜¯é”®å€¼å¯¹ã€‚ç±»ä¼¼NSDictionaryç›¸ä¼¼ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä»¥å‰ç»å¸¸çœ‹äº›å¤§ç‰›å†™çš„åšå®¢ï¼Œåœ¨çœ‹åšå®¢è¿‡ç¨‹ä¸­ä¹Ÿå­¦åˆ°å¾ˆå¤šçŸ¥è¯†ã€‚å¿ƒå‘å¾€ä¹‹ï¼Œå¼€å§‹åŠ¨æ‰‹å†™å…³äºè‡ªå·±åœ¨IOSæˆé•¿è·¯ä¸Šè§è¯ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ç®€è¿°blockå’Œdelegationä½¿ç”¨åœºæ™¯çš„æ¯”è¾ƒ&quot;&gt;&lt;a href=&quot;#ç®€è¿°blockå’Œdelegationä½¿ç”¨åœºæ™¯çš„æ¯”è¾ƒ&quot; class=&quot;headerlink&quot; title=&quot;ç®€è¿°blockå’Œdelegationä½¿ç”¨åœºæ™¯çš„æ¯”è¾ƒ&quot;&gt;&lt;/a&gt;ç®€è¿°blockå’Œdelegationä½¿ç”¨åœºæ™¯çš„æ¯”è¾ƒ&lt;/h3&gt;&lt;p&gt;æˆ‘ä»¬çŸ¥é“&lt;code&gt;block&lt;/code&gt;å’Œ&lt;code&gt;delegation&lt;/code&gt;æ˜¯å…³äºé€šä¿¡æ–¹é¢ï¼Œåœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬ä¹Ÿç»å¸¸ä¼šä½¿ç”¨ä¸¤è€…ã€‚é¢å¯¹å…·ä½“æƒ…å†µæˆ‘ä»¬éœ€è¦æ€ä¹ˆæ ·åšå‡ºé€‰ç€å‘¢ï¼Ÿ&lt;/p&gt;
&lt;h3 id=&quot;1-å½“åœ¨ä¸€ä¸ªæ–¹æ³•çš„å‚æ•°ä¸­éœ€è¦å¤šä¸ªå¯¹è±¡æ—¶ä½¿ç”¨delegation&quot;&gt;&lt;a href=&quot;#1-å½“åœ¨ä¸€ä¸ªæ–¹æ³•çš„å‚æ•°ä¸­éœ€è¦å¤šä¸ªå¯¹è±¡æ—¶ä½¿ç”¨delegation&quot; class=&quot;headerlink&quot; title=&quot;1.å½“åœ¨ä¸€ä¸ªæ–¹æ³•çš„å‚æ•°ä¸­éœ€è¦å¤šä¸ªå¯¹è±¡æ—¶ä½¿ç”¨delegation&quot;&gt;&lt;/a&gt;1.å½“åœ¨ä¸€ä¸ªæ–¹æ³•çš„å‚æ•°ä¸­éœ€è¦å¤šä¸ªå¯¹è±¡æ—¶ä½¿ç”¨delegation&lt;/h3&gt;&lt;p&gt;æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­ç»å¸¸ä½¿ç”¨&lt;code&gt;UITableView&lt;/code&gt;ï¼Œè¿™æ—¶æˆ‘ä»¬å°±è¦å®ç°æ¥å£åè®®&lt;code&gt;UITableViewDataSource&lt;/code&gt;, &lt;code&gt;UITableViewDelegate&lt;/code&gt;ä¸¤è€…æ˜¯æˆ‘ä»¬åœ¨ä½¿ç”¨&lt;code&gt;UITableView&lt;/code&gt;çš„ç›¸å…³æ•°æ®åè®®å’Œç›¸å…³åè®®ã€‚ä»tableViewè§’åº¦å‡ºå‘ï¼šå®ç°å±•ç¤ºéœ€è¦æ•°æ®ã€å¯¹ä¸€äº›å±•ç¤ºè¿‡ç¨‹çš„æ§åˆ¶ç­‰ï¼Œè¿™äº›å¯ä»¥ä½¿ç”¨&lt;code&gt;block&lt;/code&gt;æ¥è¿›è¡Œå®ç°ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;void (^ showTableView)(NSData *data, NSInteger number, CGFloat heightForRowAtIndexPath);&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸Šé¢æˆ‘ä»¬å®šä¹‰å‘Šè¯‰è¿‡ç¨‹éœ€è¦å‚æ•°åœ¨&lt;code&gt;NSIndexPath&lt;/code&gt;,æ‰€ä»¥ç¬¬ä¸‰ä¸ªå‚æ•°åº”è¯¥æ˜¯ &lt;code&gt;block&lt;/code&gt;å½¢å¼ã€‚æˆ‘ä»¬ä¸Šé¢çŸ¥é“blockåœ¨ç¼–è¯‘è¿‡ç¨‹ä¼šè¢«ç¼–è¯‘ä¸º&lt;strong&gt;struct&lt;/strong&gt;ç»“æ„ï¼Œåœ¨ç›¸äº’åµŒå¥—è¿‡ç¨‹ä¸­ä½¿ç”¨&lt;code&gt;delegation&lt;/code&gt;æ›´åŠ æ–¹ä¾¿ã€‚&lt;/p&gt;
&lt;h3 id=&quot;2-ä¸€ä¸ªå¯¹è±¡åªèƒ½æœ‰ä¸€ä¸ªdelegation&quot;&gt;&lt;a href=&quot;#2-ä¸€ä¸ªå¯¹è±¡åªèƒ½æœ‰ä¸€ä¸ªdelegation&quot; class=&quot;headerlink&quot; title=&quot;2. ä¸€ä¸ªå¯¹è±¡åªèƒ½æœ‰ä¸€ä¸ªdelegation&quot;&gt;&lt;/a&gt;2. ä¸€ä¸ªå¯¹è±¡åªèƒ½æœ‰ä¸€ä¸ªdelegation&lt;/h3&gt;&lt;p&gt;ç”±äºä¸€ä¸ªå¯¹è±¡åªèƒ½æœ‰ä¸€ä¸ªdelegateï¼Œè€Œä¸”å®ƒåªèƒ½ä¸è¿™ä¸ªdelegateé€šä¿¡ã€‚è®©æˆ‘ä»¬çœ‹çœ‹CLLocationManager è¿™ä¸ªç±»ï¼Œå½“å‘ç°åœ°ç†ä½ç½®åï¼Œlocation manager åªä¼šé€šçŸ¥ä¸€ä¸ªå¯¹è±¡ï¼ˆæœ‰ä¸”åªæœ‰ä¸€ä¸ªï¼‰ã€‚å½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æ›´å¤šçš„å¯¹è±¡å»çŸ¥é“è¿™ä¸ªæ›´æ–°ï¼Œæˆ‘ä»¬æœ€å¥½åˆ›å»ºå…¶ä»–çš„location managerã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæœ‰çš„äººå¯èƒ½æƒ³åˆ°ï¼Œå¦‚æœCLLocationManageræ˜¯ä¸ªå•ä¾‹å‘¢ï¼Ÿå¦‚æœæˆ‘ä»¬ä¸èƒ½åˆ›å»ºCLLocationManagerçš„å…¶ä»–å®ä¾‹ï¼Œå°±å¿…é¡»ä¸æ–­åœ°åˆ‡æ¢delegateæŒ‡é’ˆåˆ°éœ€è¦åœ°ç†æ•°æ®çš„å¯¹è±¡ä¸Šï¼ˆæˆ–è€…åˆ›å»ºä¸€ä¸ªåªæœ‰ä½ ç†è§£çš„ç²¾å¯†çš„å¹¿æ’­ç³»ç»Ÿï¼‰ã€‚å› æ­¤ï¼Œè¿™æ ·çœ‹èµ·æ¥ï¼Œdelegatetionåœ¨å•ä¾‹ä¸Šæ²¡æœ‰å¤šå¤§æ„ä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;å…³äºè¿™ç‚¹ï¼Œæœ€å¥½çš„å°è¯ä¾‹å­å°±æ˜¯UIAccelerometerã€‚åœ¨æ—©æœŸç‰ˆæœ¬çš„iOSä¸­ï¼Œå•ä¾‹çš„ accelerometer å®ä¾‹æœ‰ä¸€ä¸ªdelegateï¼Œå¯¼è‡´æˆ‘ä»¬å¿…é¡»å¶å°”åˆ‡æ¢ä¸€ä¸‹ã€‚è¿™ä¸ªæ„šè ¢çš„é—®é¢˜åœ¨ä¹‹åçš„IOSç‰ˆæœ¬è¢«ä¿®æ”¹äº†ï¼Œç°åœ¨ï¼Œä»»æ„ä¸€ä¸ªå¯¹è±¡éƒ½å¯ä»¥è®¿é—®CMMotionManager blockï¼Œè€Œä¸éœ€è¦é˜»æ­¢å…¶ä»–çš„å¯¹è±¡æ¥æ¥æ”¶æ›´æ–°ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºå¦ä¸€ä¸ªç»“è®ºï¼šâ€œå¦‚æœä¸€ä¸ªå¯¹è±¡æ˜¯å•ä¾‹ï¼Œä¸è¦ä½¿ç”¨delegationâ€ã€‚&lt;/p&gt;
&lt;h3 id=&quot;3-ä¸€èˆ¬delegationéƒ½æœ‰è‡ªå·±çš„è€Œè¿”å›å€¼&quot;&gt;&lt;a href=&quot;#3-ä¸€èˆ¬delegationéƒ½æœ‰è‡ªå·±çš„è€Œè¿”å›å€¼&quot; class=&quot;headerlink&quot; title=&quot;3. ä¸€èˆ¬delegationéƒ½æœ‰è‡ªå·±çš„è€Œè¿”å›å€¼&quot;&gt;&lt;/a&gt;3. ä¸€èˆ¬delegationéƒ½æœ‰è‡ªå·±çš„è€Œè¿”å›å€¼&lt;/h3&gt;&lt;p&gt;è¿˜æ˜¯æ‹¿ä¸Šé¢çš„ä¾‹å­è¯´æ˜ï¼š&lt;br&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;built_in&quot;&gt;NSInteger&lt;/span&gt;)tableView:(&lt;span class=&quot;built_in&quot;&gt;UITableView&lt;/span&gt; *)tableView numberOfRowsInSection:(&lt;span class=&quot;built_in&quot;&gt;NSInteger&lt;/span&gt;)section;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(&lt;span class=&quot;built_in&quot;&gt;UITableViewCell&lt;/span&gt; *)tableView:(&lt;span class=&quot;built_in&quot;&gt;UITableView&lt;/span&gt; *)tableView cellForRowAtIndexPath:(&lt;span class=&quot;built_in&quot;&gt;NSIndexPath&lt;/span&gt; *)indexPath;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢æ˜¯&lt;code&gt;UITableViewDataSource&lt;/code&gt;åè®®ä¸­å¿…é¡»å®ç°åè®®ï¼Œå¯çœ‹å‡ºæ˜¯ä½¿ç”¨è¿”å›å€¼ã€‚è€Œæˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹å…¶ä»–çš„ä¸€äº›åè®®è¡¨ç¤ºæƒ…å†µï¼Œä¸€èˆ¬å‡æ˜¯éœ€è¦è¿”å›å€¼çš„ã€‚&lt;/p&gt;
&lt;h3 id=&quot;4-delegationåå‘äºä½¿ç”¨çš„è¿‡ç¨‹-VS-blockåå‘äºä½¿ç”¨ç»“æœ&quot;&gt;&lt;a href=&quot;#4-delegationåå‘äºä½¿ç”¨çš„è¿‡ç¨‹-VS-blockåå‘äºä½¿ç”¨ç»“æœ&quot; class=&quot;headerlink&quot; title=&quot;4.delegationåå‘äºä½¿ç”¨çš„è¿‡ç¨‹ VS blockåå‘äºä½¿ç”¨ç»“æœ&quot;&gt;&lt;/a&gt;4.delegationåå‘äºä½¿ç”¨çš„è¿‡ç¨‹ VS blockåå‘äºä½¿ç”¨ç»“æœ&lt;/h3&gt;&lt;p&gt;å¦‚æœæŸ¥çœ‹&lt;code&gt;NSURLConnectionDelegate&lt;/code&gt; ä»¥åŠ &lt;code&gt;NSURLConnectionDataDelegate&lt;/code&gt;ï¼Œæˆ‘ä»¬åœ¨å¯ä»¥&lt;strong&gt;protocol&lt;/strong&gt;ä¸­çœ‹åˆ°è¿™æ ·çš„æ¶ˆæ¯ï¼šæˆ‘å°†è¦åšä»€ä¹ˆï¼ˆå¦‚ï¼š &lt;strong&gt;willSendRequest&lt;/strong&gt;ï¼Œå°†è¦å‘é€è¯·æ±‚ï¼‰ã€åˆ°ç›®å‰ä¸ºæ­¢æˆ‘çŸ¥é“çš„ä¿¡æ¯ï¼ˆå¦‚ï¼š&lt;code&gt;canAuthenticateAgainstProtectionSpace&lt;/code&gt;ï¼‰ã€æˆ‘å·²ç»å®Œæˆè¿™äº›å•¦ï¼ˆ &lt;strong&gt;didReceiveResponse&lt;/strong&gt;ï¼Œæ”¶åˆ°è¯·æ±‚çš„å›å¤ï¼Œå³å®Œæˆè¯·æ±‚ï¼‰ã€‚è¿™äº›æ¶ˆæ¯ç»„æˆä¸€ä¸ªæµç¨‹ï¼Œè€Œé‚£äº›å¯¹æµç¨‹æ„Ÿå…´è¶£çš„&lt;strong&gt;delegate&lt;/strong&gt;å°†ä¼šåœ¨æ¯ä¸€æ­¥å¾—åˆ°ç›¸åº”çš„é€šçŸ¥ã€‚&lt;/p&gt;
&lt;p&gt;å½“æˆ‘ä»¬è§‚å¯Ÿ&lt;strong&gt;handler&lt;/strong&gt;å’Œå®Œæ•´çš„æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬å‘ç°ä¸€ä¸ª&lt;strong&gt;block&lt;/strong&gt;åŒ…å«ä¸€ä¸ªå“åº”å¯¹è±¡å’Œä¸€ä¸ªé”™è¯¯å¯¹è±¡ã€‚æ˜¾ç„¶è¿™é‡Œæ²¡æœ‰ä»»ä½•æœ‰å…³â€œæˆ‘åœ¨å“ªé‡Œï¼Œæˆ‘æ­£åœ¨åšä»€ä¹ˆçš„â€çš„äº¤äº’ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤æˆ‘ä»¬å¯ä»¥è¿™æ ·è®¤ä¸ºï¼Œ&lt;strong&gt;delegate&lt;/strong&gt;çš„å›è°ƒæ›´å¤šçš„é¢å‘è¿‡ç¨‹ï¼Œè€Œ&lt;strong&gt;block&lt;/strong&gt;åˆ™æ˜¯é¢å‘ç»“æœçš„ã€‚å¦‚æœä½ éœ€è¦å¾—åˆ°ä¸€æ¡å¤šæ­¥è¿›ç¨‹çš„é€šçŸ¥ï¼Œä½ åº”è¯¥ä½¿ç”¨&lt;strong&gt;delegation&lt;/strong&gt;ã€‚è€Œå½“ä½ åªæ˜¯å¸Œæœ›å¾—åˆ°ä½ è¯·æ±‚çš„ä¿¡æ¯ï¼ˆæˆ–è€…è·å–ä¿¡æ¯æ—¶çš„é”™è¯¯æç¤ºï¼‰ï¼Œä½ åº”è¯¥ä½¿ç”¨&lt;strong&gt;block&lt;/strong&gt;ã€‚ï¼ˆå¦‚æœä½ ç»“åˆä¹‹å‰çš„3ä¸ªç»“è®ºï¼Œä½ ä¼šå‘ç°&lt;strong&gt;delegate&lt;/strong&gt;å¯ä»¥åœ¨æ‰€æœ‰äº‹ä»¶ä¸­ç»´æŒ&lt;strong&gt;state&lt;/strong&gt;ï¼Œè€Œå¤šä¸ªç‹¬ç«‹çš„&lt;strong&gt;block&lt;/strong&gt;ç¡®ä¸èƒ½ï¼‰ã€‚&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3 id=&quot;å‚è€ƒï¼š&quot;&gt;&lt;a href=&quot;#å‚è€ƒï¼š&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒï¼š&quot;&gt;&lt;/a&gt;å‚è€ƒï¼š&lt;/h3&gt;&lt;p&gt;&lt;a herf=&quot;http://www.cocoachina.com/ios/20150925/13525.html&quot;&gt;å¼€å‘è¯¥é€‰æ‹©Blocksè¿˜æ˜¯Delegates&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h3&gt;&lt;p&gt;IOSä¸­å…³äºä¿¡æ¯ä¼ é€’è¿‡ç¨‹ä¸­ç»å¸¸ä¼šä½¿ç”¨blockï¼Œå§”æ‰˜ä»£ç†ï¼ŒNSNotificationï¼ŒKVOè¿›è¡Œè°ƒç”¨ï¼Œä½†æ˜¯æŸ¥æ‰¾èµ„æ–™åæœ‰äº›èµ„æ–™ä¸æ˜¯å¾ˆå…¨ã€‚&lt;/
    
    </summary>
    
      <category term="IOS" scheme="http://yoursite.com/categories/IOS/"/>
    
    
      <category term="IOS" scheme="http://yoursite.com/tags/IOS/"/>
    
  </entry>
  
  <entry>
    <title>ä»å®å®CTOé‡‡è®¿æ¼”è®²éšç¬”</title>
    <link href="http://yoursite.com/2016/05/29/%E4%BB%8E%E5%8F%AE%E5%8F%AECTO%E9%87%87%E8%AE%BF%E6%BC%94%E8%AE%B2%E9%9A%8F%E7%AC%94/"/>
    <id>http://yoursite.com/2016/05/29/ä»å®å®CTOé‡‡è®¿æ¼”è®²éšç¬”/</id>
    <published>2016-05-29T04:09:11.000Z</published>
    <updated>2016-06-02T08:57:27.000Z</updated>
    
    <content type="html">&lt;p&gt;ä»Šå¤©åœ¨çœ‹Oneâ€™s Catå¤§ç¥çš„åšå®¢æ—¶è®²åˆ°å¦‚ä½•åˆ›å»ºæˆ‘ä»¬ä¸ªäººçš„å¼€æºæ¡†æ¶ï¼Œå°±æ¶‰åŠåˆ°fastlaneå°±æ‰¾æ¥çœ‹ä¸‹ï¼Œæ— æ„ä¸­çœ‹åˆ°å®å®çš„CTOæœ±é¸¿å¤§ç¥ï¼ˆåˆä¸€å°Šå¤§ç¥ï¼‰è®²è¿°è‡ªå·±çš„äº§å“ã€‚çŸ­çŸ­22ï¼š05çš„è§†é¢‘è®©è‡ªå·±æ„Ÿè§¦å¾ˆå¤§ï¼Œå†™è¿™ç¯‡æ–‡ç« ä¹Ÿå°±æ˜¯æ— èŠè¯´ä¸‹è‡ªå·±æ‰€å­¦çŸ¥è¯†å§ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ€»çš„æ¥è¯´ä»¥æŠ€æœ¯æ¥ç®€åŒ–æˆ‘ä»¬ç”Ÿæ´»ï¼Œç›®å‰æ¯”æƒ³è±¡ä¸­è¦éš¾ã€‚&quot;&gt;&lt;a href=&quot;#æ€»çš„æ¥è¯´ä»¥æŠ€æœ¯æ¥ç®€åŒ–æˆ‘ä»¬ç”Ÿæ´»ï¼Œç›®å‰æ¯”æƒ³è±¡ä¸­è¦éš¾ã€‚&quot; class=&quot;headerlink&quot; title=&quot;æ€»çš„æ¥è¯´ä»¥æŠ€æœ¯æ¥ç®€åŒ–æˆ‘ä»¬ç”Ÿæ´»ï¼Œç›®å‰æ¯”æƒ³è±¡ä¸­è¦éš¾ã€‚&quot;&gt;&lt;/a&gt;æ€»çš„æ¥è¯´ä»¥æŠ€æœ¯æ¥ç®€åŒ–æˆ‘ä»¬ç”Ÿæ´»ï¼Œç›®å‰æ¯”æƒ³è±¡ä¸­è¦éš¾ã€‚&lt;/h3&gt;&lt;h3 id=&quot;äººå‘˜é…ç½®æ–¹é¢&quot;&gt;&lt;a href=&quot;#äººå‘˜é…ç½®æ–¹é¢&quot; class=&quot;headerlink&quot; title=&quot;äººå‘˜é…ç½®æ–¹é¢&quot;&gt;&lt;/a&gt;äººå‘˜é…ç½®æ–¹é¢&lt;/h3&gt;&lt;p&gt;é¦–å…ˆæœ±å¤§ç¥è®²è¿°å›¢é˜Ÿäººæ•°æœ‰120äººï¼Œè€Œåœ¨å®¢æˆ·ç«¯å’Œåç«¯æ¯”ä¾‹2ï¼š1ä¼°è®¡è¿™æ ·çš„æ ‡é…ä¹Ÿåªæœ‰åƒé˜¿é‡Œè¿™æ ·æƒ³è¦åœ¨ç§»åŠ¨ç«¯å°¤å…¶ç¤¾äº¤è¿™å—ç«™ä½ä¸€å®šåœ°ä½å¼ºæ‚æ ‡é…ã€‚&lt;/p&gt;
&lt;h3 id=&quot;è¸©è¿‡çš„å¤§å‘&quot;&gt;&lt;a href=&quot;#è¸©è¿‡çš„å¤§å‘&quot; class=&quot;headerlink&quot; title=&quot;è¸©è¿‡çš„å¤§å‘&quot;&gt;&lt;/a&gt;è¸©è¿‡çš„å¤§å‘&lt;/h3&gt;&lt;p&gt;æœ±å¤§ç¥è®²è¿°åœ¨æ•°æ®è§£ææ–¹ä¾¿æ›¾ç»è¸©è¿‡ä¸€ä¸ªå¤§å‘ï¼Œæ‰€è°“å¤§å‘å°±æ˜¯åœ¨IOS&amp;amp;Androidä¸¤ä¸ªå®¢æˆ·ç«¯å¯¹äºæ•°æ®è§£ææœ‰æ‰€ä¸åŒã€‚å°±æ˜¯åœ¨äºåŸºæœ¬æ•°æ®ç±»å‹æ–¹é¢å¯¹äºæ•°æ®è§£æäº§ç”Ÿä¸åŒçš„ç»“æœï¼Œä¼°è®¡æ˜¯ä½¿ç”¨åŠ å¯†æ–¹å¼åœ¨æœåŠ¡å™¨å¾—åˆ°æ•°æ®è§£ææœ‰ä¸€å®šä¹±ç æƒ³è±¡åªæ˜¯ä¸çŸ¥é“æ˜¯Jsonè¿˜æ˜¯Xmlå¾—è§£æï¼ˆå°ç¼–è‡ªå·±çŒœæµ‹ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¼ä¸šç”µè¯æ–¹é¢&quot;&gt;&lt;a href=&quot;#ä¼ä¸šç”µè¯æ–¹é¢&quot; class=&quot;headerlink&quot; title=&quot;ä¼ä¸šç”µè¯æ–¹é¢&quot;&gt;&lt;/a&gt;ä¼ä¸šç”µè¯æ–¹é¢&lt;/h3&gt;&lt;p&gt;å¤§ç¥è¯´å‡ºç›®å‰æˆ‘ä»¬ç§»åŠ¨çš„ç«¯æ‰€åœ¨2Gç”¨æˆ·æ¯”é‡æŒºå¤§ï¼Œé‡‡ç”¨èåˆé€šä¿¡æ–¹å‘æœŸé—´è¿˜æ˜¯ç”¨é˜¿é‡Œçš„çº¿è·¯ã€‚å…³äºåœ¨WiFiæƒ…å†µä¸‹æµ‹è¯•ä½¿ç”¨OAé€šä¿¡æ–¹å¼ï¼Œéšä¾¿è®²è¿°åœ¨æ‰‹æœºç½‘ç»œæä¾›å•†ä¸åŒçš„æƒ…å†µä¸‹å…·ä½“æƒ…å†µï¼ˆè”é€šç½‘ç»œé€šä¿¡ä¸€æ—¦æ‰“å¼€ç½‘ç»œå°±ä¼šå ç”¨ä¸€æ¡ä¿¡é“è¿›è¡Œé€šä¿¡ï¼Œæ‰€ä»¥åœ¨æ•°æ®è¾ƒå¤§æ—¶å¸¦å®½å°±æ˜¯å ç”¨è¾ƒå¤§é—®é¢˜~å°å¿ƒè„ä½œä¸ºå®¢æˆ·ç«¯å¼€å‘çš„å°ç¼–ä¹‹å‰ç«Ÿæ²¡æœ‰å¬è¯´è¿‡ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å‘å¸ƒæœºåˆ¶å’Œå›¢é˜Ÿæ„æ€&quot;&gt;&lt;a href=&quot;#å‘å¸ƒæœºåˆ¶å’Œå›¢é˜Ÿæ„æ€&quot; class=&quot;headerlink&quot; title=&quot;å‘å¸ƒæœºåˆ¶å’Œå›¢é˜Ÿæ„æ€&quot;&gt;&lt;/a&gt;å‘å¸ƒæœºåˆ¶å’Œå›¢é˜Ÿæ„æ€&lt;/h3&gt;&lt;p&gt;ç”±äºå®å®æ˜¯åŸºäºä¼ä¸šé€šä¿¡æœåŠ¡çš„è¡Œä¸šåº”ç”¨æ€§èƒ½æ–¹ä¾¿çœŸæ˜¯ä¸ªå¤§é—®é¢˜ã€‚&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt; å—¨ï¼Œè®°å¾—å»å¹´çš„æš‘å‡åœ¨å‚åŠ æ·±åœ³ä¸€ä¸ªæ´»åŠ¨æ—¶ï¼Œé»„è€å¤§å¥”å»æ·±åœ³åˆ›ä¸š~é‚£æ—¶æˆ‘ä»¬ä½åœ¨æ—…ç¤¾&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ä»–è¯´è¦åšä¼ä¸šOAï¼Œæˆ‘éšå£è¯´ç°åœ¨åˆ›ä¸šé‚£ä¹ˆç«è¦ä¸åšä¸€ä¸ªç»™åˆ›ä¸šè€…åšä¸ªæœåŠ¡å‹çš„åº”ç”¨æé«˜æ•ˆç‡ã€‚çœ‹åˆ°è¿™ä¸ªæ„Ÿè§‰&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;äº‹æƒ…çœŸçš„ä¸æƒ³æˆ‘ä»¬æƒ³è±¡çš„é‚£ä¹ˆç®€å•ï¼&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ä½œä¸ºå¼€å‘äººå‘˜æˆ‘ä»¬éƒ½çŸ¥é“å¦‚ä½•åšåˆ°æµç•…æ»šåŠ¨ç•Œé¢å’Œé€šä¿¡æ–¹é¢åŠæ—¶ï¼Œè¿™ä¸ªæ˜¯å¾ˆå¤§çš„æŒ‘æˆ˜ã€‚è¿™ä¸ªåé¢æœ‰æ‰€æ¶‰åŠå¤§å®¶è¿˜æ˜¯è€å¿ƒçœ‹ä¸‹å»ã€‚&lt;br&gt;å…¶å®çœŸæ­£è§¦åŠ¨ğŸ’˜é¡¹ç›®ç»„æŠ€æœ¯ã€äº§å“å’Œè¿è¥æ‹†åˆ†ä¸º7ä¸ªteamï¼Œå®è¡Œç«äº‰ä¼°è®¡æœºåˆ¶ã€‚äº§å“ç»ç†å¯¹äºè‡ªå·±teamè´Ÿè´£çš„åŠŸèƒ½è¿›è¡Œè·Ÿè¿›ï¼ŒæŠ€æœ¯å’Œè¿è¥è´Ÿè´£ç›¸å…³æŠ€æœ¯å¼€å‘ã€‚è¿™æ ·å®Œæˆæ¯å¤©éƒ½å¯ä»¥è¿›è¡Œä¸€ä¸ªbateçš„æäº¤ï¼Œä¸‰å‘¨è¿›è¡Œäº§å“çš„ä¸€æ¬¡è¿­ä»£ã€‚é¡¹ç›®å¼€å‘ä¹‹å¿«ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt; æœ€è®©å°ç¼–ç–‘æƒ‘çš„æ˜¯äº§å“ä¹‹é—´åŠŸèƒ½å¯ä»¥è¿›è¡Œæ¨¡å—å¼€å‘~åŸºäºé¢å‘å¯¹è±¡æœ‰ç‚¹ï¼ˆé’ˆå¯¹åŠŸèƒ½å®ç°&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;å¯ä»¥è¿›è¡Œæ¨¡å—åˆ’åˆ†ï¼‰ï¼Œä½†æ˜¯è¿è¥æ˜¯æ€ä¹ˆåœ¨ä¸€ä¸ªå¤§çš„teamç„¶å7ä¸ªå°å›¢é˜Ÿä¹‹é—´å®ç°ğŸ˜‚&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è®°å¾—ä¸ä¹…å‰æœ‰ä¸ªæ ‡é¢˜å…šï¼šBATæœªæ¥è¿˜ä¼šå­˜åœ¨å—ï¼Ÿä¸­é—´å°±æ˜¯åˆ©ç”¨â€œäºŒå…«æ³•åˆ™â€æ¥è®²è¿°å¤§ä¼ä¸šé¢å¯¹ç§‘æŠ€ä»€ä¹ˆé¬¼çªå˜æ—¶éš¾ä»¥è¿›è¡Œæ”¹é©ï¼Œå°ä¼ä¸šæ›´æœ‰æ´»åŠ›ã€‚æ¥è¾©è¯è®²è¿°è‡ªå·±çš„è§‚ç‚¹ï¼Œçœ‹å°ç¼–å¾®å¾®ä¸€ç¬‘å°±å–ä¸‹æ°´å¹³é™å¹³é™ã€‚&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt; ä¸è¿‡ç›®å‰çœ‹æ¥è¿™ä¸ªå®šç†ä¼°è®¡æ˜¯æœ‰è‡ªå·±ä»·å€¼ï¼Œä»¥åå¦‚æœæ˜¯è‡ªå·±å‡ºæ¥å°è¯•å°±å¯ä»¥è¯•éªŒä¸‹ï¼Œæ­¤&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;å¤„å¯ä»¥hulue&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;ç°åº¦ç”¨æˆ·&quot;&gt;&lt;a href=&quot;#ç°åº¦ç”¨æˆ·&quot; class=&quot;headerlink&quot; title=&quot;ç°åº¦ç”¨æˆ·&quot;&gt;&lt;/a&gt;ç°åº¦ç”¨æˆ·&lt;/h3&gt;&lt;p&gt;å¬åˆ°çš„ç¬¬ä¸€æ„Ÿè§‰å°±æ˜¯â€œæ©ï¼Ÿâ€è¯·é—®å’Œ37åº¦ç°æœ‰å…³ç³»ä¸ã€‚æˆ‘å¯æ˜¯çª¦æ–‡æ¶›çš„ç²‰ä¸å•Šï¼Œéš¾é“æ˜¯è‡ªå·±è§è¯†å¤ªå°‘ã€‚è®¤è®¤çœŸ&lt;br&gt;çœŸç™¾åº¦ä¸€ä¸‹å…³äºç°åº¦çš„é—®é¢˜ï¼Œæ‰€è¯´æ²¡æœ‰æ‰¾åˆ°ç°åº¦ç”¨æˆ·è¯´æ³•ä½†æ˜¯å´çœ‹åˆ°å…³äºQQä¼ æˆç°åº¦æ³•åˆ™ï¼šéœ€æ±‚åº¦ã€é€Ÿåº¦ã€çµæ´»åº¦ã€å†—ä½™åº¦ã€å¼€æ”¾åä½œåº¦ã€åˆ›æ–°åº¦å’Œè¿›åŒ–åº¦ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;å°ç¼–ä¸‹é¢å°±ä¸ºå¤§å®¶è®²è¿°ä¸‹ï¼š&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;éœ€æ±‚åº¦ï¼šç”¨æˆ·éœ€æ±‚å°±æ˜¯ä½¿ç”¨è€…æœ€æƒ³è¦ã€‚ä¾‹å¦‚ï¼šåªä»å»å¹´å›½å®¶æ”¾å¼€äºŒèƒæ”¿ç­–ï¼Œæˆ‘ä»¬å°±ä¼šçœ‹åˆ°ä»Šå¹´æ¯å©´è¡Œä¸šå¤©å¤©&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ç«çˆ†çš„è¡Œä¸šï¼Œæ¯•ç«Ÿ70ï¼Œ80åå¤§å”å’Œé˜¿å§¨ä¼°è®¡ä»é‚£å¤©å°±å¼€å§‹äººç±»ä¼Ÿå¤§çš„ä¼ æ‰¿å¥‹æ–—å•¦ğŸ˜›&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;é€Ÿåº¦ï¼šè¿™ä¸ªä¼°è®¡å¤§å®¶éƒ½çŸ¥é“ï¼Œåˆ˜ç¿”110è·¨æ æˆä¸ºäºšæ´²é£äººçš„ç§°å·ã€‚å¯¹äºäº’è”ç½‘è€Œè¨€é€Ÿåº¦å°±æ›´éš¾èƒ½å¯è´µçš„ï¼Œä¼°&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;è®¡è¿™ä¹Ÿæ˜¯é¢å¯¹å¾®ä¿¡çš„å®å®ä¸‰å‘¨ä¸€ä¸ªç‰ˆæœ¬æ›´æ–°å…·ä½“ä½“ç°å§ã€‚&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;çµæ´»åº¦ï¼šé¢å¯¹å½“å‰å±€åŠ¿æœ‰æ‰€åˆ¤æ–­å’Œå¯¹æœªçŸ¥çš„é¢„è§ï¼Œå°±åƒç¥é›•ä¾ ä¾£é‡Œçš„æ®µèª‰ï¼Œé¢å¯¹å¼ºå¤§æ¶è€ä¸‰ï¼ˆä¸€ç›´éƒ½è‡ªç§°è€&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;äºŒæ¥ç€ï¼‰è™½è¯´æ­¦æœ¯å“¥ä¸è¡Œã€‚ä½†æ˜¯å¥½åœ¨å‡Œæ³¢å¾®æ­¥ï¼Œç…§æ ·åœ¨æ‰“èµŒä¸­æˆä¸ºä½ å°å­çš„å¸ˆå‚…ä¸æ˜¯ã€‚&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;å†—ä½™åº¦ï¼šçœ‹åˆ°è¿™å¿ƒé‡Œå‡‰æŠŠæŠŠçš„ï¼ŒQQè€å¤§ä½ ä¹Ÿæ˜¯ç¨‹åºå‘˜å¼€å§‹çš„ï¼Œå†—ä½™åº¦æ˜¯åœ¨ç¨‹åºå¼€å‘è¿‡ç¨‹ä¸­æˆ‘ä»¬æƒ³æ³•è®¾æ³•è§£&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;å†³ã€‚åæ¥å®šç›ä¸€çœ‹ï¼Œå“¦ï¼ŒåŸæ¥æ˜¯æ˜¯è¯•é”™å•Šï¼Œå¥½å§å¥‰ä¸Šæˆ‘çš„è†ç›–ğŸ‘ğŸ»ã€‚&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;å¼€æ”¾åä½œåº¦ï¼šåœ¨äº’è”ç½‘ä¸­æŠŠè‡ªå®¶çš„èµ„æºæ‹¿æ¥å…±äº«åˆä½œï¼Œå¤§å®¶éƒ½çŸ¥é“èœœèœ‚ä¸€èˆ¬èœ‚å·¢ä¸­åªæœ‰ä¸€ä¸ªèœ‚åæ— æ•°å·¥èœ‚ï¼Œ&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;èœ‚åå‘å·¥èœ‚æä¾›ç”Ÿå‘½å·¥èœ‚è´Ÿè´£å…·ä½“äº‹åŠ¡ã€‚ä¹‹åå¤§å®¶åœ¨ä¸€ä¸ªé›†ä½“é‡ŒæŠŠè‡ªå·±è¶Šåšè¶Šå¤§ï¼Œèœ‚ååæœŸå‡ ä¹å¯ä»¥ç‹¬èµ„ã€‚&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;åˆ›æ–°åº¦ï¼šåªè®°å¾—å»å¹´å…‹å¼ºå¤§å¤§æ‰€å¾—ä¸‡ä¼—åˆ›æ–°ï¼Œå¤§ä¼—åˆ›ä¸šã€‚åé¢èº«è¾¹å¾ˆå¤šäººå°±å»å•¦ï¼Œä¸€è·¯å¥½èµ°ğŸŒµ&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;è¿›åŒ–åº¦ï¼šQQå¤§ä½¬è¯´6ä¸ªå¦‚æœåšåˆ°çš„è¯ï¼Œè¿™ä¸ªä¼šè‡ªåŠ¨å®Œæˆã€‚æœ‰ç‚¹ç”Ÿç‰©è¿›åŒ–çš„å‘³é“ï¼Œä½†æ˜¯ç¼ºå°‘ç‰©ç«å¤©æ‹©ã€‚&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;é—®é¢˜è°ƒè¯•&quot;&gt;&lt;a href=&quot;#é—®é¢˜è°ƒè¯•&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜è°ƒè¯•&quot;&gt;&lt;/a&gt;é—®é¢˜è°ƒè¯•&lt;/h3&gt;&lt;blockquote&gt;&lt;p&gt;è¿™é‡Œä¹‹æ‰€ä½¿ç”¨ä»£ç æ ¼å¼æ˜¯çœŸçš„æœ‰é‡è¦ï¼Œä»…å¯¹äºç å†œæ¥è¯´ï¼Œæ¯”æ–¹è¯´æœ¬äººã€‚&lt;br&gt;è¿˜åƒæ˜¯Androidæ®µå¯ä»¥è¿›è¡Œfixåå°è‡ªåŠ¨ä¿®å¤åŠŸèƒ½ï¼ŒIOSå®¢æˆ·ç«¯æ˜¯åœ¨IOSç«¯ç›´æ¥è¿›è¡Œä¿®æ”¹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;æ€§èƒ½ä¼˜åŒ–è¦æ±‚&quot;&gt;&lt;a href=&quot;#æ€§èƒ½ä¼˜åŒ–è¦æ±‚&quot; class=&quot;headerlink&quot; title=&quot;æ€§èƒ½ä¼˜åŒ–è¦æ±‚&quot;&gt;&lt;/a&gt;æ€§èƒ½ä¼˜åŒ–è¦æ±‚&lt;/h3&gt;&lt;p&gt;çœç”µå’Œé¡ºæ»‘ï¼Œå…·ä½“æ€ä¹ˆå®Œæˆå’Œå®ç°ï¼Œæœ±å¤§ç¥å¾®å¾®ğŸ˜ƒã€‚å½“è®²åˆ°åœ¨å›¾ç‰‡ä¸‹è½½å¤„ç†æ—¶ä¸»è¦å°†æµ·å¤–ï¼Œæœ±å¤§ç¥è¯´æˆ‘ä»¬åœ¨æµ·å¤–æœ‰ç®€å†æœåŠ¡å™¨ç„¶åè·Ÿå…·ä½“çš„è·¯ç”±ä¼˜åŒ–é€‰æ‹©å¯ä»¥å¯¹å›¾ç‰‡ä¸‹è½½åŠ å¿«é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¼ä¸šç¾¤èŠå¤„ç†&quot;&gt;&lt;a href=&quot;#ä¼ä¸šç¾¤èŠå¤„ç†&quot; class=&quot;headerlink&quot; title=&quot;ä¼ä¸šç¾¤èŠå¤„ç†&quot;&gt;&lt;/a&gt;ä¼ä¸šç¾¤èŠå¤„ç†&lt;/h3&gt;&lt;p&gt;å‡è®¾ä¸€ç§æƒ…å†µï¼šå½“å¾ˆå¤šåœ¨ä¸€ä¸ªç¾¤ç»„ä¸­ä¸€èµ·èŠå¤©ï¼Œä¸€ç§’å¯ä»¥è®©æ•°æ®è¾¾åˆ°å‡ åƒæ¡ã€‚è¯·é—®ä½ æ€ä¹ˆè§£å†³ï¼Ÿ&lt;br&gt;æœ±å¤§ç¥è§£å†³æ–¹å¼ï¼šä¸€èµ·æŠŠæ•°æ®ä¸‹è½½ä¸‹æ¥ï¼Œä¿å­˜ä¸è‡³äºä¸¢å¤±ã€‚ä½†æ˜¯æœ€åæ˜¾ç¤ºçš„æ•°æ®å¤§å¤šæ˜¯æœ€ååå‡ äºŒåå‡ æ¡ã€‚è¿™æ ·å¯ä»¥å‡å°‘å±å¹•çš„åˆ·å±ç‡ï¼Œä¼˜åŒ–æ€§èƒ½ã€‚è‡³å°‘åœ¨GPUæ¸²æŸ“æ˜¾ç¤ºæ–¹é¢è‚¯å®šæœ‰æ‰€ä¼˜åŒ–ğŸ™…ğŸ»&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;ä¹‹æ‰€ä»¥å†™è¿™äº›éšç¬”ï¼Œæ˜¯æƒ³è®©è‡ªå·±è®°ä½è‡ªå·±çœ‹è¿‡çŸ¥è¯†ã€‚æ¯•ç«Ÿå¥½è®°æ€§æ˜¯åœ¨ä¸å¦‚ä¸€ä¸ªçƒ‚ç¬”å¤´ï¼Œå†™çš„è¿‡ç¨‹ä¹Ÿæ˜¯åœ¨è®°å¿†&lt;br&gt;ä¸­é‡æ–°æ€è€ƒçš„è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;</content>
    
    <summary type="html">
    
      &lt;p&gt;ä»Šå¤©åœ¨çœ‹Oneâ€™s Catå¤§ç¥çš„åšå®¢æ—¶è®²åˆ°å¦‚ä½•åˆ›å»ºæˆ‘ä»¬ä¸ªäººçš„å¼€æºæ¡†æ¶ï¼Œå°±æ¶‰åŠåˆ°fastlaneå°±æ‰¾æ¥çœ‹ä¸‹ï¼Œæ— æ„ä¸­çœ‹åˆ°å®å®çš„CTOæœ±é¸¿å¤§ç¥ï¼ˆåˆä¸€å°Šå¤§ç¥ï¼‰è®²è¿°è‡ªå·±çš„äº§å“ã€‚çŸ­çŸ­22ï¼š05çš„è§†é¢‘è®©è‡ªå·±æ„Ÿè§¦å¾ˆå¤§ï¼Œå†™è¿™ç¯‡æ–‡ç« ä¹Ÿå°±æ˜¯æ— èŠè¯´ä¸‹è‡ªå·±æ‰€å­¦çŸ¥è¯†å§ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ€»çš„æ¥
    
    </summary>
    
      <category term="éšç¬”" scheme="http://yoursite.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="è§†é¢‘å¿ƒå¾—" scheme="http://yoursite.com/tags/%E8%A7%86%E9%A2%91%E5%BF%83%E5%BE%97/"/>
    
  </entry>
  
  <entry>
    <title>åšå®¢æ¬å®¶æ„Ÿè§‰</title>
    <link href="http://yoursite.com/2016/05/28/%E5%8D%9A%E5%AE%A2%E5%BC%80%E5%90%AF/"/>
    <id>http://yoursite.com/2016/05/28/åšå®¢å¼€å¯/</id>
    <published>2016-05-28T13:44:27.000Z</published>
    <updated>2016-06-07T01:31:53.000Z</updated>
    
    <content type="html">&lt;p&gt; &lt;br&gt;&lt;br&gt; &lt;br&gt; &lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;åšå®¢åœ°å€æœ‰ç»å¸¸ä½¿pç”¨çš„åšå®¢å›­æ¬è‡³ç®€ä¹¦ï¼Œä»ç®€ä¹¦æ¬åˆ°Hexoå»ºç«‹çš„Githubä¸Šé¢ã€‚ä»æ­¤å¼€å¯è‡ªå·±åœ¨è·Ÿäººåšå®¢å­¦&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ä¹ å’Œåˆ†äº«å¾ç¨‹ï¼Œè¦æ˜¯è¯´å†™è¿™äº›å¯¹æˆ‘æœ€å¤§é©±åŠ¨åŠ›æ˜¯ä¸€æ¡è‡ªå·±ä¸€ç›´å¯¹æŠ€æœ¯å–œçˆ±å’Œå®Œæˆè‡ªå·±èœ•å˜ä¹‹è·¯ã€‚ &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æ˜¨å¤©æŠŠåšå®¢æ¬è‡³è‡ªå·±çš„åšå®¢ï¼Œè™½è¯´èŠ±è´¹çš„æ—¶é—´æœ‰ç‚¹å¤šï¼Œä½†æ˜¯çœ‹ç€è‡ªå·±èŠ±è´¹çš„æ—¶é—´æœ‰æ‰€æ”¶è·è¿˜æ˜¯å¾ˆå¼€å¿ƒ&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;çš„ã€‚è€Œä¸”è‡ªå·±ä¹Ÿå°†è¦ç¦»å¼€ç”Ÿæ´»å››å¹´å¤´å¤§å¼€å§‹æ–°çš„å¾ç¨‹ï¼Œæœ‰çš„åŒå­¦è¯´è‡ªå·±ä¸Šå¤§å­¦ä¼˜åŠ£ï¼Œä¸è¿‡æˆ‘æ˜¯çœŸå¿ƒæ„Ÿ&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;è°¢å¤´å¤§ã€‚åœ¨å››å¹´é—´è‡ªå·±åšè¿‡å¾ˆå¤šäº‹æƒ…ï¼Œä¹Ÿæ”¶è·å¾ˆå¤šã€‚å…¶å®æœ€å¤§çš„æ”¶è·æ˜¯æœ‰ä¸€ä»¶äº‹å€¼å¾—è‡ªå·±ä¸€ç›´å»ç­‰å¾…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;è¿™ä¹Ÿéœ€æ˜¯è‡ªå·±åœ¨å¤§å­¦æœ€å¤§çš„æ”¶è·ï¼Œä¹Ÿæ˜¯åœ¨å¤§å­¦æœ€å¼€å¿ƒå¤§ä¸‰ä¸‹åŠå­¦æœŸâ•®(â•¯â–½â•°)â•­ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;p style=&quot;text-align:right;&quot;&gt;&lt;br&gt;    â€“ &lt;a href=&quot;https://github.com/boilWater/boilWater.github.io&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt; åé¢ä¼šé™„ä¸Šè‡ªå·±ç®€å†ç‹¬è‡ªä»‹ç»ğŸ˜˜&lt;/a&gt;&lt;br&gt;&lt;/p&gt;


</content>
    
    <summary type="html">
    
      &lt;p&gt; &lt;br&gt;&lt;br&gt; &lt;br&gt; &lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;
    
    </summary>
    
      <category term="éšç¬”" scheme="http://yoursite.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="åšå®¢ä¹‹åˆ" scheme="http://yoursite.com/tags/%E5%8D%9A%E5%AE%A2%E4%B9%8B%E5%88%9D/"/>
    
  </entry>
  
</feed>
